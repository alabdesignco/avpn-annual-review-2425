(function(){"use strict";const at=()=>{const d=new Lenis;return d.on("scroll",ScrollTrigger.update),gsap.ticker.add(o=>{d.raf(o*1e3)}),gsap.ticker.lagSmoothing(0),d};function rt(){const d=document.querySelector("[data-modal-group-status]"),o=document.querySelectorAll("[data-modal-name]"),n=document.querySelectorAll("[data-modal-target]");n.forEach(t=>{t.addEventListener("click",function(){const c=this.getAttribute("data-modal-target");n.forEach(e=>e.setAttribute("data-modal-status","not-active")),o.forEach(e=>e.setAttribute("data-modal-status","not-active")),document.querySelector(`[data-modal-target="${c}"]`).setAttribute("data-modal-status","active"),document.querySelector(`[data-modal-name="${c}"]`).setAttribute("data-modal-status","active"),d&&d.setAttribute("data-modal-group-status","active")})}),document.querySelectorAll("[data-modal-close]").forEach(t=>{t.addEventListener("click",u)}),document.addEventListener("keydown",function(t){t.key==="Escape"&&u()});function u(){n.forEach(t=>t.setAttribute("data-modal-status","not-active")),o.forEach(t=>t.setAttribute("data-modal-status","not-active")),d&&d.setAttribute("data-modal-group-status","not-active")}}const nt=(d="img")=>new Promise(o=>{imagesLoaded(document.querySelectorAll(d),{background:!0},o)}),st=()=>{if(!document.querySelector(".section_home-header .home-header_wrapper"))return;class o{constructor(){this.dom=document.querySelector(".section_home-header"),this.grid=document.querySelector(".home-header_wrapper"),this.imageWrappers=[...document.querySelectorAll(".home-header_image-wrapper")],this.heading=document.querySelector(".home-header_heading"),this.navbar=document.querySelector(".navbar_component"),this.taglines=[...document.querySelectorAll(".tagline")],this.baseX=0,this.baseY=0}init(){this.intro()}intro(){this.repositionImages(),this.centerGrid(),this.setupSplitText();const t=gsap.timeline();t.set(this.dom,{scale:.5}),t.set(this.imageWrappers,{scale:.5,opacity:0,filter:"blur(4px)"}),this.taglines.length>0&&t.set(this.taglines,{yPercent:100,autoAlpha:0}),t.set(this.navbar,{y:-100,autoAlpha:0}),t.to(this.heading,{autoAlpha:1,duration:.1}),t.from(this.headingChars,{yPercent:100,autoAlpha:0,duration:2,ease:"expo.inOut",stagger:.02}),this.taglines.length>0&&t.to(this.taglines,{yPercent:0,autoAlpha:1,duration:.8,ease:"expo.out",stagger:.15},"-=1.5"),t.to(this.imageWrappers,{scale:1,opacity:1,filter:"blur(0px)",duration:.6,ease:"power3.out",stagger:{amount:1.2,from:"random"}}),t.to(this.dom,{scale:1,duration:1.2,ease:"power3.inOut"}),t.to(this.imageWrappers,{x:(c,e)=>e.dataset.x||0,y:(c,e)=>e.dataset.y||0,duration:.96,ease:"power3.inOut"},"-=1.2"),t.to(this.navbar,{y:0,autoAlpha:1,duration:.8,ease:"power3.out"},"-=0.4"),t.call(()=>{this.addEvents(),this.observeImages(),this.applyHideAfterIntro()})}setupSplitText(){this.heading&&(this.splitText=SplitText.create(this.heading,{type:"chars",mask:"chars"}),this.headingChars=this.splitText.chars)}repositionImages(){this.imageWrappers.forEach(t=>{const c=t.dataset.x,e=t.dataset.y;(c||e)&&gsap.set(t,{clearProps:"all",...c&&{x:c},...e&&{y:e}})})}centerGrid(){const t=this.grid.offsetWidth,c=this.grid.offsetHeight,e=window.innerWidth,a=window.innerHeight,r=(e-t)/2,l=(a-c)/2;gsap.set(this.grid,{x:r,y:l}),this.baseX=r,this.baseY=l}addEvents(){window.addEventListener("resize",()=>{this.centerGrid()}),this.dom.addEventListener("mousemove",t=>{const c=(t.clientX/window.innerWidth-.5)*30,e=(t.clientY/window.innerHeight-.5)*30;gsap.to(this.grid,{x:this.baseX+c,y:this.baseY+e,duration:.8,ease:"power2.out",overwrite:"auto"})})}observeImages(){const e=Array.from({length:21},(r,l)=>l/20),a=new IntersectionObserver(r=>{r.forEach(l=>{const s=l.target,i=l.intersectionRatio;!(s.__visible===!0)&&i>=.88?(s.__visible=!0,gsap.to(s,{scale:1,opacity:1,filter:"blur(0px)",visibility:"visible",duration:.8,ease:"power3.out"})):i<=.72&&s.__visible!==!1&&(s.__visible=!1,gsap.to(s,{opacity:0,duration:.6,ease:"power3.out"}),gsap.to(s,{scale:.5,filter:"blur(4px)",duration:.5,ease:"power3.out",delay:.2}),gsap.to(s,{visibility:"hidden",duration:.1,delay:.7}))})},{root:null,threshold:e,rootMargin:"0px 0px -6% 0px"});this.imageWrappers.forEach(r=>{r.hasAttribute("data-hide-after")||a.observe(r)})}applyHideAfterIntro(){this.imageWrappers.forEach(t=>{t.hasAttribute("data-hide-after")&&gsap.set(t,{opacity:0,scale:.5,filter:"blur(4px)",visibility:"hidden"})})}}const n=new o;nt(".home-header_image").then(()=>{n.init(),document.body.classList.remove("loading")})},it=()=>{if(typeof document>"u")return;gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},o=>{const{isMobile:n,isMobileLandscape:u,isTablet:t}=o.conditions,c=gsap.context(()=>{const e=document.querySelectorAll("[data-horizontal-scroll-wrap]");e.length&&(e.forEach(a=>{const r=a.querySelector(".foreword-ceo_image-wrapper"),l=a.querySelector(".foreword-header_accent.is-1"),s=a.querySelector(".foreword-header_accent.is-2"),i=a.querySelector(".foreword_ceo-label-wrapper");r&&gsap.set(r,{opacity:0,scale:.8}),l&&gsap.set(l,{scale:0,transformOrigin:"center"}),s&&gsap.set(s,{scale:0,transformOrigin:"center"}),i&&gsap.set(i,{opacity:0,y:20});const m=gsap.timeline({scrollTrigger:{trigger:r||a,start:"top 40%"}});r&&m.to(r,{opacity:1,scale:1,duration:.6,ease:"back.out(1.7)"},0),l&&m.to(l,{scale:1,duration:.8,ease:"back.out(1.7)"},.6),s&&m.to(s,{scale:1,duration:.8,ease:"back.out(1.7)"},.6),i&&m.to(i,{opacity:1,y:0,duration:.6,ease:"back.out(1.7)"},.6);const p=a.querySelectorAll(".shape.is-foreword-1, .shape.is-foreword-2, .shape.is-foreword-3, .shape.is-foreword-4");gsap.set(p,{scale:0,rotation:0});const g=a.querySelectorAll("#foreword > p");g.length&&(gsap.set(g,{opacity:0,clipPath:"circle(0% at 100% 0%)"}),g.forEach(f=>{}),g.forEach((f,w)=>{f.classList.add(`foreword-paragraph-${w}`)}))}),e.forEach(a=>{const r=a.getAttribute("data-horizontal-scroll-disable");if(r==="mobile"&&n||r==="mobileLandscape"&&u||r==="tablet"&&t){const p=a.querySelectorAll("#foreword > p");p.length&&p.forEach((g,f)=>{gsap.to(g,{opacity:1,clipPath:"circle(150% at 100% 0%)",duration:1,scrollTrigger:{trigger:g,start:"top 80%",toggleActions:"play none none none"},delay:f*.15})});return}const s=gsap.utils.toArray("[data-horizontal-scroll-panel]",a);if(s.length<2)return;const i=a.querySelectorAll("#foreword > p"),m=i.length;gsap.to(s,{x:()=>-(a.scrollWidth-window.innerWidth),ease:"none",scrollTrigger:{trigger:a,start:"top top",end:()=>"+="+(a.scrollWidth-window.innerWidth),scrub:!0,pin:!0,invalidateOnRefresh:!0,onUpdate:p=>{let g=Math.min(Math.max(p.progress,0),1);t&&!u&&(g=Math.pow(g,.6));const f=Math.min(Math.floor(g*m),m-1),w=a.querySelector(".shape.shape--rounded.is-foreword-1"),A=a.querySelector(".shape.shape--circle.is-foreword-2"),S=a.querySelector(".shape.shape--leaf.is-foreword-3"),_=a.querySelector(".shape.shape--quarter.is-foreword-4");g>=.2&&w&&!w.hasAttribute("data-rotating")&&(gsap.to(w,{scale:1,duration:.6,ease:"back.out(1.7)"}),gsap.to(w,{rotation:"+=360",duration:20,ease:"none",repeat:-1}),w.setAttribute("data-rotating","true")),g>=.5&&A&&!A.hasAttribute("data-rotating")&&(gsap.to(A,{scale:1,duration:.6,ease:"back.out(1.7)"}),gsap.to(A,{rotation:"+=360",duration:18,ease:"none",repeat:-1}),A.setAttribute("data-rotating","true")),g>=.8&&S&&!S.hasAttribute("data-rotating")&&(gsap.to(S,{scale:1,duration:.6,ease:"back.out(1.7)"}),gsap.to(S,{rotation:"+=360",duration:16,ease:"none",repeat:-1}),S.setAttribute("data-rotating","true")),g>=.99&&_&&!_.hasAttribute("data-rotating")&&(gsap.to(_,{scale:1,duration:.6,ease:"back.out(1.7)"}),gsap.to(_,{rotation:"+=360",duration:14,ease:"none",repeat:-1}),_.setAttribute("data-rotating","true")),i.forEach((x,E)=>{E<=f&&gsap.to(x,{opacity:1,clipPath:"circle(150% at 100% 0%)",duration:1.2})})}}})}))});return()=>c.revert()})},ct=()=>{document.querySelectorAll('[data-sticky-title="wrap"]').forEach(o=>{const n=Array.from(o.querySelectorAll('[data-sticky-title="heading"]')),u=Array.from(o.querySelectorAll(".bg-shape img")),t=gsap.timeline({scrollTrigger:{trigger:o,start:"top 40%",end:"bottom bottom",scrub:!0}}),c=.7,e=.7,a=.15;u.forEach((r,l)=>{gsap.set(r,{autoAlpha:0,scale:1.1})}),n.forEach((r,l)=>{const s=gsap.timeline();r.setAttribute("aria-label",r.textContent);const i=new SplitText(r,{type:"words,chars"});i.words.forEach(p=>p.setAttribute("aria-hidden","true")),gsap.set(r,{visibility:"visible"});const m=o.querySelector(`.bg-shape.is-${l+1} img`);if(l===0)s.fromTo(m,{autoAlpha:0,scale:1.1},{autoAlpha:1,scale:1,duration:.8,ease:"power2.out"},.2);else{const p=o.querySelector(`.bg-shape.is-${l} img`);s.to(p,{autoAlpha:0,scale:1.1,duration:.8,ease:"power2.out"},0),s.fromTo(m,{autoAlpha:0,scale:1.1},{autoAlpha:1,scale:1,duration:.8,ease:"power2.out"},.4)}s.from(i.chars,{autoAlpha:0,stagger:{amount:c,from:"start"},duration:c},l===0?0:e*.3),l<n.length-1&&s.to(i.chars,{autoAlpha:0,stagger:{amount:e,from:"end"},duration:e}),l===0?t.add(s):t.add(s,`-=${a}`)})})},lt=()=>{const d=[{cause:"Affordable Housing",count:103,percent:16},{cause:"Ageing",count:108,percent:17},{cause:"Agriculture",count:217,percent:34},{cause:"Arts & Culture",count:126,percent:20},{cause:"Climate Action & Environment",count:364,percent:58},{cause:"Conservation",count:128,percent:20},{cause:"Education",count:379,percent:60},{cause:"Employability",count:229,percent:36},{cause:"Energy",count:188,percent:30},{cause:"Financial Inclusion",count:221,percent:35},{cause:"Gender",count:254,percent:40},{cause:"Governance",count:130,percent:21},{cause:"Health & Nutrition",count:207,percent:33},{cause:"Livelihood & Poverty Alleviation",count:329,percent:52},{cause:"Water, Sanitation & Hygiene",count:185,percent:29}],o=e=>getComputedStyle(document.documentElement).getPropertyValue(e).trim(),n={Education:o("--color-education"),"Climate Action & Environment":o("--color-climate"),"Livelihood & Poverty Alleviation":o("--color-livelihood"),"Health & Nutrition":o("--color-health"),Employability:o("--color-employability"),Gender:o("--color-gender"),"Financial Inclusion":o("--color-financial-inclusion"),Agriculture:o("--color-agriculture"),Energy:o("--color-energy"),"Water, Sanitation & Hygiene":o("--color-water"),"Arts & Culture":o("--color-arts"),Governance:o("--color-governance"),Conservation:o("--color-conservation"),Ageing:o("--color-aging"),"Affordable Housing":o("--color-affordable-housing")};let u=!1;const t=(e=!1)=>{const a=document.querySelector(".supported-chart");if(!a)return;const r=a.offsetWidth,l=a.offsetHeight,s=Math.min(r,l),i=s,m=s,p=s*.15;d3.select(".supported-chart svg").remove();const g=window.matchMedia("(max-width: 991px)").matches,f=d3.select(".supported-chart").append("svg").attr("viewBox",`0 0 ${i} ${m}`).attr("preserveAspectRatio","xMidYMid meet").style("width","100%").style("height","100%").append("g").attr("transform",`translate(${i/2},${m/2-(g?0:80)})`),w=d3.pie().sort(null).value(1);d3.arc().innerRadius(p).outerRadius(h=>p+h.data.percent*s*.0048).cornerRadius(10).padAngle(.035);const A=f.selectAll("path").data(w(d)).enter().append("path").attr("fill",h=>n[h.data.cause]||"#ccc").attr("d",d3.arc().innerRadius(p).outerRadius(e?p:p+(h=>h.data.percent*s*.0048))).attr("stroke","#fff").attr("stroke-width",2).style("cursor","pointer");e&&!u&&(u=!0,A.transition().delay((h,v)=>v*100).duration(800).ease(d3.easeCubicOut).attrTween("d",function(h){const v=d3.interpolate(p,p+h.data.percent*s*.0048);return function(k){return d3.arc().innerRadius(p).outerRadius(v(k)).cornerRadius(10).padAngle(.035)(h)}}));const S=(h,v)=>{const k=h.split(/\s+/);if(k.length<=2)return[h];const y=document.createElement("canvas").getContext("2d");y.font=`700 ${s*.02}px sans-serif`;let T=Math.ceil(k.length/2),L=k.slice(0,T).join(" "),P=k.slice(T).join(" ");for(;T>1&&(y.measureText(L).width>v||y.measureText(P).width>v);)T--,L=k.slice(0,T).join(" "),P=k.slice(T).join(" ");return[L,P]},_=f.append("g").attr("class","supported-chart_center-text").style("pointer-events","none"),x=_.append("text").attr("class","center-cause").attr("opacity",0).style("font-size",`${s*.02}px`).style("font-weight","700").style("fill","var(--color-scheme-1--text)").style("text-anchor","middle");_.append("text").attr("class","center-percent").attr("y",s*.025).attr("opacity",0).style("font-size",`${s*.018}px`).style("font-weight","700").style("fill","var(--_primitives---brand--primary--navy-medium)").style("text-anchor","middle");let E=null;const q=h=>{const v=S(h.data.cause,p*1.8),k=s*.02,y=v.length>1?s*.008:0,T=-(v.length-1)*k/2-s*.01-y;x.selectAll("*").remove(),v.forEach((L,P)=>{x.append("tspan").attr("x",0).attr("dy",P===0?0:k).text(L)}),x.attr("y",T).transition().duration(200).style("opacity",1),_.select(".center-percent").text(`${h.data.percent}%`).transition().duration(200).style("opacity",1)},M=()=>{f.selectAll("path").transition().duration(200).style("opacity",1),_.selectAll("text").transition().duration(200).style("opacity",0)};g?A.on("click",function(h,v){if(E===this){E=null,M();return}E=this,f.selectAll("path").transition().duration(200).style("opacity",.3),d3.select(this).transition().duration(200).style("opacity",1),q(v)}):A.on("mouseover",function(h,v){f.selectAll("path").transition().duration(200).style("opacity",.3),d3.select(this).transition().duration(200).style("opacity",1),q(v)}).on("mouseout",function(){M()}),document.querySelectorAll(".supported-chart_legend-color").forEach(h=>{const v=parseInt(h.dataset.index),k=d[v]?.cause;if(!k)return;const y=n[k];y&&(h.style.backgroundColor=y)});const b=f.selectAll("path");document.querySelectorAll(".supported-chart_legend-item").forEach(h=>{const v=parseInt(h.querySelector(".supported-chart_legend-color").dataset.index);g?h.addEventListener("click",()=>{const k=b.nodes()[v];if(E===k){E=null,M();return}E=k,b.transition().duration(200).style("opacity",.3),d3.select(k).transition().duration(200).style("opacity",1);const y=d[v],T=S(y.cause,p*1.8),L=s*.02,P=T.length>1?s*.008:0,O=-(T.length-1)*L/2-s*.01-P;x.selectAll("*").remove(),T.forEach((D,F)=>{x.append("tspan").attr("x",0).attr("dy",F===0?0:L).text(D)}),x.attr("y",O).transition().duration(200).style("opacity",1),_.select(".center-percent").text(`${y.percent}%`).transition().duration(200).style("opacity",1)}):(h.addEventListener("mouseenter",()=>{b.transition().duration(200).style("opacity",.3),d3.select(b.nodes()[v]).transition().duration(200).style("opacity",1);const k=d[v],y=S(k.cause,p*1.8),T=s*.02,L=y.length>1?s*.008:0,P=-(y.length-1)*T/2-s*.01-L;x.selectAll("*").remove(),y.forEach((O,D)=>{x.append("tspan").attr("x",0).attr("dy",D===0?0:T).text(O)}),x.attr("y",P).transition().duration(200).style("opacity",1),_.select(".center-percent").text(`${k.percent}%`).transition().duration(200).style("opacity",1)}),h.addEventListener("mouseleave",()=>{b.transition().duration(200).style("opacity",1),_.selectAll("text").transition().duration(200).style("opacity",0)}))})};t(),gsap.timeline({scrollTrigger:{trigger:".supported-chart",start:"top 80%",once:!0,onEnter:()=>t(!0)}}),gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},()=>{const e=()=>t(u);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}})},dt=()=>{const d={name:"Beneficiary Communities",children:[{name:"Children & Youths",value:436,percent:69},{name:"Women & Girls",value:411,percent:65},{name:"People in Poverty",value:398,percent:63},{name:"Environment",value:303,percent:48},{name:"People without Employment",value:259,percent:41},{name:"People with Disabilities",value:208,percent:33},{name:"Elderly",value:196,percent:31},{name:"People with Medical Needs",value:196,percent:31},{name:"Ethnic Minorities",value:183,percent:29},{name:"Immigrants, Asylum Seekers & Refugees",value:114,percent:18},{name:"Offenders & Re-Offenders",value:44,percent:7}]},o=document.querySelector(".beneficiary-treemap");if(!o)return;gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},u=>{const{isMobile:t,isMobileLandscape:c,isTablet:e}=u.conditions,a=o.clientWidth||1e3,r=o.clientHeight||600,l=8;o.innerHTML="";const s=d3.select(o).append("svg").attr("viewBox",[0,0,a,r]).style("width","100%").style("height","100%"),i={"Children & Youths":"#00B3AD","Women & Girls":"#F17C38","People in Poverty":"#FED452",Environment:"#ADD5E0","People without Employment":"#4AC1BE","People with Disabilities":"#002943",Elderly:"#F59D6A","People with Medical Needs":"#FEE07E","Ethnic Minorities":"#86D1D1","Immigrants, Asylum Seekers & Refugees":"#80BDB4","Offenders & Re-Offenders":"#F2948C"},m=t||e||c,p=130,g=m?{...d,children:d.children.map(x=>({...x,layoutValue:Math.max(x.value,p)}))}:{...d,children:d.children.map(x=>({...x,layoutValue:x.value}))},f=d3.hierarchy(g).sum(x=>x.layoutValue).sort((x,E)=>E.layoutValue-x.layoutValue),w=t||e?d3.treemapSlice:d3.treemapBinary;d3.treemap().tile(w).size([a,r]).paddingInner(l).round(!0)(f);const A=s.selectAll("g").data(f.leaves()).join("g").attr("transform",x=>`translate(${x.x0},${x.y0})`).style("cursor","pointer").style("opacity",0),S=x=>{const E=d3.color(x);return .2126*(E.r/255)+.7152*(E.g/255)+.0722*(E.b/255)>.6?"#002943":"#ffffff"},_=(x,E)=>{x.each(function(){const q=d3.select(this),M=q.text().split(/\s+/).reverse();let b,h=[],v=0;const k=1.1,y=q.attr("y");let T=q.text(null).append("tspan").attr("x",16).attr("y",y);for(;b=M.pop();)h.push(b),T.text(h.join(" ")),T.node().getComputedTextLength()>E&&(h.pop(),T.text(h.join(" ")),h=[b],T=q.append("tspan").attr("x",16).attr("y",y).attr("dy",`${++v*k}em`).text(b))})};A.each(function(x){const E=d3.select(this),q=i[x.data.name]||"#ccc",M=S(q),b=x.x1-x.x0,h=x.y1-x.y0,v=E.append("rect").attr("fill",q).attr("rx",10).attr("ry",10).attr("width",b).attr("height",h).style("filter","drop-shadow(0 1px 2px rgba(0,0,0,0.05))").style("transform-origin",`${b/2}px ${h/2}px`);gsap.set(v.node(),{scale:1});const k=E.append("text").attr("x",16).attr("y",24).attr("fill",M).attr("font-size","1rem").attr("font-weight",600).text(x.data.name).call(_,b-32);k.node().getBBox().height>h*.6&&k.style("display","none");let y=null;h>40&&b>80&&(y=E.append("text").attr("x",b-16).attr("y",h-12).attr("text-anchor","end").attr("fill",M).attr("font-size","1.25rem").attr("opacity",0).text(`${Math.round(x.data.percent)}%`)),E.on("mouseenter",()=>{E.raise(),gsap.to(v.node(),{scale:1.05,duration:.25,ease:"power2.out"}),gsap.to(v.node(),{filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.15))",duration:.25,ease:"power2.out"}),gsap.to(A.nodes().filter(T=>T!==E.node()),{opacity:.3,duration:.25,ease:"power2.out"}),y&&gsap.to(y.node(),{opacity:1,duration:.25,ease:"power2.out"})}).on("mouseleave",()=>{gsap.to(v.node(),{scale:1,duration:.25,ease:"power2.out"}),gsap.to(v.node(),{filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.05))",duration:.25,ease:"power2.out"}),gsap.to(A.nodes(),{opacity:1,duration:.25,ease:"power2.out"}),y&&gsap.to(y.node(),{opacity:0,duration:.25,ease:"power2.out"})})}),gsap.to(A.nodes(),{opacity:1,duration:.6,ease:"power2.out",stagger:.08,scrollTrigger:{trigger:o,start:"top 80%",toggleActions:"play none none none"}})})},ut=()=>{const d=document.querySelector(".section_new");if(!d)return;const o=d.querySelector(".new_pin-height"),n=d.querySelector(".new_layout"),u=d.querySelectorAll(".new-paragraph_item"),t=d.querySelector(".button-group");if(!o||!n||u.length===0)return;const c=Array.from(u).map(a=>new SplitText(a,{type:"words",wordsClass:"word",mask:"words"}));gsap.set(c.flatMap(a=>a.words),{yPercent:100});let e=!1;ScrollTrigger.create({trigger:d,start:"top bottom",once:!0,onEnter:()=>{e||(e=!0,requestAnimationFrame(()=>{ScrollTrigger.refresh(),ScrollTrigger.create({trigger:o,start:"top top",end:"bottom bottom",pin:n});const a=gsap.timeline({scrollTrigger:{trigger:o,start:"top top",end:"bottom bottom",scrub:!0}});c.forEach((r,l)=>{a.to(r.words,{yPercent:0,duration:1,stagger:.2,ease:"power4.out"},l>0?"+=0.5":0)}),t&&(gsap.set(t,{opacity:0,y:20}),a.to(t,{opacity:1,y:0,duration:.8,ease:"power2.out"},"+=0.3"))}))}})},pt=()=>{const d=document.querySelector(".section_word-break"),o=document.querySelector(".section_word-break .word-break-text"),n=new SplitText(o,{type:"words, chars",smartWrap:!0,wordsClass:"word",charsClass:"char"}),u=n.chars;n.words;const t=o.clientWidth-document.body.clientWidth,c=gsap.to(o,{x:-t,ease:"none",scrollTrigger:{trigger:".section_word-break .word-break_container",pin:!0,end:"+="+t,scrub:!0}});gsap.from(d,{ease:"power1.out",scrollTrigger:{trigger:".section_word-break .word-break_container",start:"top top",end:"+=200",scrub:!0}}),u.forEach(e=>{gsap.from(e,{yPercent:(Math.random()-.5)*400,rotation:(Math.random()-.5)*60,ease:"elastic.out(1.2, 1)",scrollTrigger:{trigger:e,containerAnimation:c,start:"left 90%",end:"left 10%",scrub:.5}})})};function gt(){document.querySelectorAll("[data-highlight-text]").forEach(o=>{const n=o.getAttribute("data-highlight-scroll-start")||"top 90%",u=o.getAttribute("data-highlight-scroll-end")||"center 40%";o.getAttribute("data-highlight-fade");const t=o.getAttribute("data-highlight-stagger")||.1,c=o.getAttribute("data-highlight-bg")||"#C1E6E7";new SplitText(o,{type:"words",autoSplit:!0,onSplit(e){return gsap.context(()=>{const r=[];e.words.forEach(s=>{const i=document.createElement("div");i.className="highlight-word",s.parentNode.insertBefore(i,s),i.appendChild(s),r.push(i)});let l=gsap.timeline({scrollTrigger:{scrub:!0,trigger:o,start:n,end:u}});e.words.forEach((s,i)=>{const m=r[i],p=i*t;l.set(m,{backgroundColor:c},p).to(m,{backgroundColor:c,duration:.2,ease:"linear"},p+.2).from(s,{opacity:0,duration:.2,ease:"linear"},p+.4).to(m,{backgroundColor:"transparent",duration:.3,ease:"linear"},p+.6)})})}})})}const ht=()=>{document.querySelectorAll(".section-title_component").forEach(o=>{const n=o.querySelector(".section-title_accent-shape.is-1"),u=o.querySelector(".section-title_accent-shape.is-2"),t=o.querySelector(".section-title_inner > h2");if(!n||!u||!t)return;const c=new SplitText(t,{type:"words",mask:"words"});gsap.set([n,u],{scale:0,rotation:-45,transformOrigin:"center center"}),gsap.set(c.words,{autoAlpha:0,y:30}),gsap.timeline({scrollTrigger:{trigger:o,start:"top 80%",end:"bottom 20%"}}).to(n,{scale:1,rotation:0,duration:.6,ease:"back.out(1.7)"}).to(u,{scale:1,duration:.5,ease:"back.out(1.4)"},"-=0.3").to(c.words,{autoAlpha:1,y:0,duration:.7,stagger:.08,ease:"power2.out"},"-=0.2")})},mt=()=>{const d=document.querySelector(".section_highlight-cards .highlight-card_wrapper");if(!d)return;const o=d.clientWidth,n=document.querySelectorAll(".highlight_card"),u=n.length,t=document.querySelectorAll(".highlight_card .highlight_card-content");let c=0;n.forEach(r=>{gsap.set(r,{xPercent:(Math.random()-.5)*10,yPercent:(Math.random()-.5)*10,rotation:(Math.random()-.5)*20})});const e=r=>{r<0||r>=n.length||(gsap.set(n[r],{zIndex:"auto"}),gsap.to(n[r],{xPercent:(Math.random()-.5)*10,yPercent:(Math.random()-.5)*10,rotation:(Math.random()-.5)*20,scale:1,duration:.8,ease:"elastic.out(1, 0.75)"}))},a=r=>{n.forEach((l,s)=>{gsap.set(l,{zIndex:s===r?20:"auto"})}),gsap.to(n[r],{xPercent:0,yPercent:0,rotation:0,duration:.8,scale:1.1,ease:"elastic.out(1, 0.75)"}),t.forEach((l,s)=>{s!==r?gsap.to(l,{xPercent:80/(s-r),ease:"elastic.out(1, 0.75)",duration:.8}):gsap.to(l,{xPercent:0,ease:"elastic.out(1, 0.75)",duration:.8})})};d.addEventListener("mousemove",r=>{const s=(r.clientX-d.getBoundingClientRect().left)/o,i=Math.ceil(s*u);c!==i&&i>0&&i<=u&&(c!==0&&e(c-1),c=i,a(c-1))}),d.addEventListener("mouseleave",()=>{c>0&&e(c-1),c=0,gsap.to(t,{xPercent:0,ease:"elastic.out(1, 0.75)",duration:.8})})};function ft(){(()=>{const n=document.querySelector(".section_work");if(!n)return;const u=n.querySelectorAll(".work_list > *"),t=n.querySelector(".button");if(!u.length||!t)return;gsap.set([...u,t],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:n,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(u,{opacity:1,y:0,duration:.6,ease:"power2.out",stagger:.15}).to(t,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.3")})();const o={top:"translateY(-100%)",bottom:"translateY(100%)",left:"translateX(-100%)",right:"translateX(100%)"};document.querySelectorAll("[data-directional-hover]").forEach(n=>{const u=n.getAttribute("data-type")||"all";n.querySelectorAll("[data-directional-hover-item]").forEach(c=>{const e=c.querySelector("[data-directional-hover-tile]");e&&(c.addEventListener("mouseenter",a=>{const r=t(a,c,u);e.style.transition="none",e.style.transform=o[r]||"translate(0, 0)",e.offsetHeight,e.style.transition="",e.style.transform="translate(0%, 0%)",c.setAttribute("data-status",`enter-${r}`)}),c.addEventListener("mouseleave",a=>{const r=t(a,c,u);c.setAttribute("data-status",`leave-${r}`),e.style.transform=o[r]||"translate(0, 0)"}))});function t(c,e,a){const{left:r,top:l,width:s,height:i}=e.getBoundingClientRect(),m=c.clientX-r,p=c.clientY-l;if(a==="y")return p<i/2?"top":"bottom";if(a==="x")return m<s/2?"left":"right";const g={top:p,right:s-m,bottom:i-p,left:m};return Object.entries(g).reduce((f,w)=>f[1]<w[1]?f:w)[0]}})}function yt(){let n=!1;const u=[];(()=>{const e=document.querySelector(".section_partners");if(!e)return;const a=e.querySelector(".partners_top .text-size-large"),r=e.querySelector(".partners_bottom .text-size-large"),l=e.querySelector(".partners_bottom .button"),s=e.querySelector(".partners-logo-wall_component");!a||!r||!l||!s||(gsap.set([a,r,l,s],{opacity:0,y:30}),gsap.to(a,{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:a,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}),gsap.to(s,{opacity:1,y:0,duration:.8,ease:"power2.out",scrollTrigger:{trigger:s,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse",refreshPriority:-1},onComplete:()=>{n=!0,u.forEach(i=>i())}}),gsap.to(r,{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:r,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}),gsap.to(l,{opacity:1,y:0,duration:.6,ease:"power2.out",scrollTrigger:{trigger:l,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}))})(),document.querySelectorAll("[data-logo-wall-cycle-init]").forEach(e=>{const a=e.querySelector("[data-logo-wall-list]"),r=Array.from(a.querySelectorAll("[data-logo-wall-item]")),l=e.getAttribute("data-logo-wall-shuffle")!=="false";let s=r.map(M=>M.querySelector("[data-logo-wall-target]")).filter(Boolean);if(s.length===0&&(r.map(b=>b.querySelector("[data-logo-wall-target-parent]")).filter(Boolean).forEach(b=>{if(!b.querySelector("[data-logo-wall-target]")){const h=document.createElement("div");h.setAttribute("data-logo-wall-target",""),b.appendChild(h)}}),s=r.map(b=>b.querySelector("[data-logo-wall-target]")).filter(Boolean)),s.length===0)return;let i=[],m=0,p=[],g=[],f=0,w;function A(M){return window.getComputedStyle(M).display!=="none"}function S(M){const b=M.slice();for(let h=b.length-1;h>0;h--){const v=Math.floor(Math.random()*(h+1));[b[h],b[v]]=[b[v],b[h]]}return b}function _(){w&&w.kill(),i=r.filter(A),m=i.length,g=S(Array.from({length:m},(h,v)=>v)),f=0,r.forEach(h=>{h.querySelectorAll("[data-logo-wall-target]").forEach(v=>v.remove())}),p=s.map(h=>h.cloneNode(!0));let M,b;if(l){const h=S(p);M=h.slice(0,m),b=S(h.slice(m))}else M=p.slice(0,m),b=S(p.slice(m));p=M.concat(b);for(let h=0;h<m;h++)(i[h].querySelector("[data-logo-wall-target-parent]")||i[h]).appendChild(p.shift());w=gsap.timeline({repeat:-1,paused:!0}),w.call(x),w.to({},{duration:.9+1})}function x(){if(r.filter(A).length!==m){_();return}if(!p.length)return;const b=g[f%m];f++;const h=i[b],v=h.querySelector("[data-logo-wall-target-parent]")||h.querySelector("*:has(> [data-logo-wall-target])")||h;if(v.querySelectorAll("[data-logo-wall-target]").length>1)return;const y=v.querySelector("[data-logo-wall-target]"),T=p.shift();gsap.set(T,{yPercent:50,autoAlpha:0}),v.appendChild(T),y&&gsap.to(y,{yPercent:-50,autoAlpha:0,duration:.9,ease:"expo.inOut",onComplete:()=>{y.remove(),p.push(y)}}),gsap.to(T,{yPercent:0,autoAlpha:1,duration:.9,delay:.1,ease:"expo.inOut"})}_();let E;ScrollTrigger.addEventListener("refreshInit",()=>{E&&E.kill()});const q=()=>{if(!n){u.push(q);return}E=ScrollTrigger.create({trigger:e,start:"top bottom",end:"bottom top",onEnter:()=>{w.play()},onLeave:()=>{w.pause()},onEnterBack:()=>{w.play()},onLeaveBack:()=>{w.pause()}}),E.isActive&&w.play()};document.readyState==="complete"?(ScrollTrigger.refresh(),gsap.delayedCall(.3,q)):window.addEventListener("load",()=>{ScrollTrigger.refresh(),gsap.delayedCall(.3,q)}),document.addEventListener("visibilitychange",()=>{document.hidden?w.pause():E&&E.isActive&&w.play()})})}function bt(){(()=>{const n=document.querySelector(".section_team");if(!n)return;const u=n.querySelector(".team_top .text-size-large"),t=n.querySelector(".filter-group");if(!u||!t)return;gsap.set([u,t],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:n,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(u,{opacity:1,y:0,duration:.8,ease:"power3.out"}).to(t,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.4")})(),document.querySelectorAll("[data-filter-group]").forEach(n=>{const u=n.querySelectorAll("[data-filter-target]"),t=n.querySelectorAll("[data-filter-name]"),c=300,e=r=>{t.forEach(l=>{const i=l.getAttribute("data-filter-name")===r;l.getAttribute("data-filter-status")==="active"&&!i?(l.setAttribute("data-filter-status","transition-out"),setTimeout(()=>{l.setAttribute("data-filter-status","not-active"),l.setAttribute("aria-hidden","true")},c)):i&&setTimeout(()=>{l.setAttribute("data-filter-status","active"),l.setAttribute("aria-hidden","false")},c)}),u.forEach(l=>{const s=l.getAttribute("data-filter-target")===r;l.setAttribute("data-filter-status",s?"active":"not-active"),l.setAttribute("aria-pressed",s?"true":"false")})};u.forEach(r=>{r.addEventListener("click",()=>{const l=r.getAttribute("data-filter-target");r.getAttribute("data-filter-status")!=="active"&&e(l)})});const a=u[0];a&&e(a.getAttribute("data-filter-target"))})}function wt(){gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},o=>{const{isMobile:n,isMobileLandscape:u,isTablet:t}=o.conditions,c=gsap.context(()=>{document.querySelectorAll('[data-parallax="trigger"]').forEach(e=>{const a=e.getAttribute("data-parallax-disable");if(a==="mobile"&&n||a==="mobileLandscape"&&u||a==="tablet"&&t)return;const r=e.querySelector('[data-parallax="target"]')||e,s=(e.getAttribute("data-parallax-direction")||"vertical")==="horizontal"?"xPercent":"yPercent",i=e.getAttribute("data-parallax-scrub"),m=i?parseFloat(i):!0,p=e.getAttribute("data-parallax-start"),g=p!==null?parseFloat(p):20,f=e.getAttribute("data-parallax-end"),w=f!==null?parseFloat(f):-20,S=`clamp(${e.getAttribute("data-parallax-scroll-start")||"top bottom"})`,x=`clamp(${e.getAttribute("data-parallax-scroll-end")||"bottom top"})`;gsap.fromTo(r,{[s]:g},{[s]:w,ease:"none",scrollTrigger:{trigger:e,start:S,end:x,scrub:m}})})});return()=>c.revert()})}const vt=()=>{const d=gsap.utils.toArray("[data-bg-transition]");if(!d.length)return;const o=d.map(n=>n.style.backgroundColor||window.getComputedStyle(n).backgroundColor);d.forEach((n,u)=>{const t=d[u+1];if(!t)return;const c=u===0?o[0]:o[u],e=o[u+1];t.style.backgroundColor=c,gsap.set(t,{backgroundColor:c}),gsap.to(t,{backgroundColor:e,duration:.4,ease:"power1.inOut",scrollTrigger:{trigger:t,start:"top 50%",toggleActions:"play complete none reverse"}})})},At=()=>{if(typeof Matter>"u"){console.warn("Matter.js is not loaded. Falling2D animation will not initialize.");return}const d=()=>{const y=document.querySelector("#canvas-target");if(y&&!y.hasAttribute("data-matter-initialized")){const T=y.closest(".footer_component");if(T){const L=T.getBoundingClientRect();L.top<window.innerHeight&&L.bottom>0?(k(y),y.setAttribute("data-matter-initialized","true")):setTimeout(d,1e3)}}};setTimeout(d,4e3);const o=Matter.Engine,n=Matter.Render,u=Matter.Runner,t=Matter.Bodies,c=Matter.Composite,e=Matter.Events;let a,r,l,s,i,m,p,g,f,w,A,S,_;const x=["#00b4ae","#007b69","#f27c38","#ffd552","#91c7d6"],E=2,q=25,M=.65,b=(y,T)=>Math.random()*(T-y)+y,h=()=>{if(a&&o.clear(a),r&&n.stop(r),l&&u.stop(l),g&&window.removeEventListener("resize",g),f&&w){const y=document.querySelector("#canvas-target");y&&(y.removeEventListener("mousemove",f),y.removeEventListener("mouseleave",w),y.removeEventListener("touchstart",A),y.removeEventListener("touchmove",S),y.removeEventListener("touchend",_))}},v=(y,T,L,P)=>{const O=[];for(let F=0;F<=20;F++){const X=Math.PI*(F/20);O.push({x:Math.cos(X)*L,y:-Math.sin(X)*L})}return O.push({x:-L,y:0}),t.fromVertices(y,T,[O],{restitution:M,render:{fillStyle:P,strokeStyle:P}})},k=y=>{h();const T=y.getBoundingClientRect(),L=T.width,P=T.height,O=L/4,D=window.matchMedia("(max-width:479px)").matches,F=window.matchMedia("(max-width:991px)").matches,X=D?.65:F?1.2:1,Ht=D?Math.round(q*.6):F?Math.round(q*1):q,W=L/15*X,Y=W/2,G=L-W/2;a=o.create(),a.world.gravity.y=E,a.timing.timeScale=.9,r=n.create({element:y,engine:a,options:{background:"transparent",wireframes:!1,width:L,height:P,pixelRatio:window.devicePixelRatio||2}}),r.canvas.width=L*(window.devicePixelRatio||2),r.canvas.height=P*(window.devicePixelRatio||2),r.canvas.style.width=`${L}px`,r.canvas.style.height=`${P}px`,s=t.rectangle(L/2,-O,L*2,O*2,{isStatic:!0}),i=t.rectangle(L/2,P+O,L*2,O*2,{isStatic:!0}),m=t.rectangle(-O,P/2,O*2,P*2,{isStatic:!0}),p=t.rectangle(L+O,P/2,O*2,P*2,{isStatic:!0}),c.add(a.world,[s,i,m,p]);const zt=()=>{const C=x[Math.floor(Math.random()*x.length)],R=Math.random();if(R<.25){const I=W*(.3+Math.random()*.95),B=t.circle(b(Y,G),-W,I,{restitution:M,render:{fillStyle:C,strokeStyle:C}});c.add(a.world,B)}else if(R<.5){const I=W*(.3+Math.random()*.95),B=v(b(Y,G),-W,I,C);c.add(a.world,B)}else if(R<.75){const I=W*(.5+Math.random()*.75),B=t.rectangle(b(Y,G),-W,I,I,{chamfer:{radius:I*.15},restitution:M,render:{fillStyle:C,strokeStyle:C}});c.add(a.world,B)}else{const I=W*(.5+Math.random()*.75),B=I*.15,z=Math.floor(Math.random()*4),H=B*(.5+Math.random()*.5),V=H*3,$=[H,H,H,H];$[z]=V;const Vt=t.rectangle(b(Y,G),-W,I,I,{chamfer:{radius:$},restitution:M,render:{fillStyle:C,strokeStyle:C}});c.add(a.world,Vt)}};l=u.create(),n.run(r),u.run(l,a);let K=0;const Q=()=>{K<Ht&&(zt(),K++,setTimeout(Q,100))};setTimeout(Q,100);let Z=0,tt=0,N=!1,j="ontouchstart"in window;const U=C=>{const R=y.getBoundingClientRect(),I=C.touches?C.touches[0].clientX:C.clientX,B=C.touches?C.touches[0].clientY:C.clientY;Z=I-R.left,tt=B-R.top,N=!0},et=()=>{N=!1};f=C=>{j||U(C)},w=()=>{j||et()};const Wt=C=>{C.preventDefault(),U(C)},Dt=C=>{C.preventDefault(),U(C)},Ft=C=>{C.preventDefault(),et()};y.addEventListener("mousemove",f),y.addEventListener("mouseleave",w),y.addEventListener("touchstart",Wt,{passive:!1}),y.addEventListener("touchmove",Dt,{passive:!1}),y.addEventListener("touchend",Ft,{passive:!1}),e.on(a,"afterUpdate",()=>{if(!N)return;const C=c.allBodies(a.world).filter(B=>!B.isStatic),R=j?200:150,I=j?.15:.2;C.forEach(B=>{const z=B.position.x-Z,H=B.position.y-tt,V=Math.sqrt(z*z+H*H);if(V<R){const $=(1-V/R)*I;Matter.Body.setVelocity(B,{x:B.velocity.x,y:Math.min(B.velocity.y-$,-15)})}})});let ot;g=()=>{clearTimeout(ot),ot=setTimeout(()=>{u.stop(l);const C=y.getBoundingClientRect(),R=C.width,I=C.height;r.canvas.width=R*(window.devicePixelRatio||2),r.canvas.height=I*(window.devicePixelRatio||2),r.canvas.style.width=`${R}px`,r.canvas.style.height=`${I}px`,c.allBodies(a.world).filter(H=>!H.isStatic).forEach(H=>{const V=Math.max(50,Math.min(H.position.x,R-50)),$=Math.max(50,Math.min(H.position.y,I-50));Matter.Body.setPosition(H,{x:V,y:$}),Matter.Body.setVelocity(H,{x:0,y:0})}),c.remove(a.world,[s,i,m,p]);const z=R/4;s=t.rectangle(R/2,-z,R*2,z*2,{isStatic:!0}),i=t.rectangle(R/2,I+z,R*2,z*2,{isStatic:!0}),m=t.rectangle(-z,I/2,z*2,I*2,{isStatic:!0}),p=t.rectangle(R+z,I/2,z*2,I*2,{isStatic:!0}),c.add(a.world,[s,i,m,p]),u.run(l,a)},200)},window.addEventListener("resize",g)};{const y=()=>{const T=document.querySelector(".footer_component"),L=document.querySelector("#canvas-target");if(!T||!L){console.warn("Footer section or canvas target not found. Falling back to load event initialization."),window.addEventListener("load",()=>{L&&k(L)});return}const P=new IntersectionObserver(O=>{O.forEach(D=>{D.isIntersecting&&(L&&!L.hasAttribute("data-matter-initialized")&&(k(L),L.setAttribute("data-matter-initialized","true")),P.disconnect())})},{root:null,rootMargin:"0px 0px -20% 0px",threshold:.1});P.observe(T)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{setTimeout(y,1e3)}):setTimeout(y,1e3)}return{cleanup:h}},St=()=>{const d=window.innerWidth,o=document.querySelector(".section_image-break .image-break_wrapper"),n=o.querySelectorAll(".image-break_media"),u=document.querySelector(".section_image-break .image-break_text");let t;u&&(t=new SplitText(u,{type:"chars"}).chars,gsap.set(t,{opacity:0,yPercent:100})),n.forEach(a=>{gsap.set(a,{x:(Math.random()-.5)*.16*d,y:(Math.random()-.5)*.1*d})});const c=o.clientWidth-document.body.clientWidth,e=gsap.to(o,{x:-c,ease:"none",scrollTrigger:{trigger:o.parentNode,pin:!0,scrub:!0,end:"+="+c}});if(n.forEach(a=>{gsap.from(a,{rotation:(Math.random()-.5)*80,yPercent:(Math.random()-.5)*300,xPercent:Math.random()*400,ease:"power1.out",scrollTrigger:{trigger:a,containerAnimation:e,start:"left 110%",end:"left 65%",scrub:!0}}),gsap.fromTo(a,{rotation:0,yPercent:0,xPercent:0},{rotation:(Math.random()-.5)*80,yPercent:(Math.random()-.5)*300,xPercent:-Math.random()*400,ease:"power1.in",scrollTrigger:{trigger:a,containerAnimation:e,start:"right 35%",end:"right -10%",scrub:!0}})}),t&&n.length>0){const a=Math.floor(t.length/2),r=n[n.length-1];gsap.to(t,{opacity:1,yPercent:0,duration:1.2,ease:"back.out(2.5)",stagger:{amount:.8,from:a,ease:"power2.out"},scrollTrigger:{trigger:r,containerAnimation:e,start:"left center",toggleActions:"play none none none"}})}};function xt(){document.querySelectorAll(".members-content_wrapper").forEach(d=>{const o=d.querySelector(".members-number");if(!o)return;const n=o.querySelector("span:first-child");if(!n)return;const u=parseFloat(o.getAttribute("data-count-start"))||0,t=parseFloat(o.getAttribute("data-count-end"))||parseFloat(n.textContent.replace(/,/g,""));n.textContent=u,n.classList.add("odometer");const c=new Odometer({el:n,value:u,format:"(,ddd)",duration:2e3});d.odometerInstance={odometer:c,endValue:t}})}const Et=()=>{xt();const d=Tt();qt(d)},Tt=()=>{const d=document.querySelectorAll("[cs-element='tab-item']"),o=document.querySelector("[cs-element='tab-main']");if(!o)return;o.setAttribute("data-member-color","");const n=o.querySelector("h3.heading-style-h6"),u=o.querySelector(".member-tab-center_icon"),t=o.querySelector("p");if(!n||!u||!t)return;let c=0,e,a;const r=i=>{const m=i.querySelector(".members-tab_icon-wrapper"),p=i.querySelector(".tab-title-small"),g=i.querySelector(".members-tab_description > p");if(!m||!p||!g)return;const f=m.innerHTML,A=p.innerHTML.replace(/<br\s*\/?>/gi," ").replace(/\/\s+/g,"/"),S=g.textContent,_=i.getAttribute("data-member-color");n.innerText!==A&&(n.innerHTML=A,u.innerHTML=f,t.textContent=S,o.parentNode.setAttribute("data-member-color",_),gsap.fromTo(o.parentNode,{scale:.8,opacity:0},{scale:1,opacity:1,duration:1,ease:"back.out(1.4)"}))},l=(i=8e3)=>{a=setTimeout(()=>{c=(c+1)%d.length,r(d[c]),e=setInterval(()=>{c=(c+1)%d.length,r(d[c])},1e4)},i)},s=()=>{clearTimeout(a),clearInterval(e),l()};return d.forEach((i,m)=>{i.addEventListener("mouseenter",()=>{c=m,r(i),s()}),i.addEventListener("mouseleave",()=>{s()})}),l},qt=d=>{const o=document.querySelectorAll(".members-content_wrapper"),n=document.querySelectorAll("[cs-element='tab-item']"),u=document.querySelector("[data-member-tab-center]");o.forEach(t=>{if(!t.odometerInstance)return;const c=t.querySelector("[data-member-heading]"),e=t.querySelector("[data-member-button]");if(!c||!e)return;const a=Array.from(n),r=Math.floor(a.length/2),l=[...a.slice(0,r),u,...a.slice(r)];gsap.set([c,e],{opacity:0,y:30}),gsap.set(l,{opacity:0,scale:0}),gsap.timeline({scrollTrigger:{trigger:t,start:"top 80%",once:!0},onComplete:()=>{d&&d(2e3)}}).call(()=>{t.odometerInstance.odometer.update(t.odometerInstance.endValue)}).to([c,e],{opacity:1,y:0,duration:.8,stagger:.2,ease:"power2.out"},"+=0.3").to(l,{opacity:1,scale:1,duration:1.2,stagger:{amount:.8,from:"center"},ease:"back.out(1.4)"},"<")})},Mt=()=>{const d=document.querySelector(".regions_wrapper"),o=document.querySelector(".region_button-wrapper"),n=Array.from(document.querySelectorAll(".region_button")),u=Array.from(document.querySelectorAll(".regions_base.is-overlay")),t=Array.from(document.querySelectorAll(".regions-reflections_item"));if(!n.length||!u.length)return;if(d&&o){const g=Array.from(o.children);gsap.timeline().from(d,{scale:.8,autoAlpha:0,duration:1.5,ease:"back.out(1.7)"}).from(g,{autoAlpha:0,y:20,duration:1.2,stagger:.1,ease:"back.out(1.7)"},"+=0.05")}const c=g=>{const f=g.className.match(/is-(?!overlay)([a-z0-9-]+)/i);return f?f[1]:""},e=g=>(g.getAttribute("data-region")||c(g)).trim(),a=new Map,r=new Map;if(u.forEach(g=>{const f=e(g);f&&a.set(f,g)}),t.forEach(g=>{const f=e(g);f&&r.set(f,g)}),!a.size)return;gsap.set([...a.values()],{autoAlpha:0,pointerEvents:"none"}),r.size&&gsap.set([...r.values()],{autoAlpha:0});let l,s,i,m;const p=(g,f,w)=>{if(m&&(clearTimeout(m),m=null),l===g&&s===f)return;const A=l,S=s;A&&(gsap.killTweensOf(A),gsap.to(A,{autoAlpha:0,duration:.2,onComplete:()=>gsap.set(A,{display:"none"})})),S&&(gsap.killTweensOf(S),gsap.to(S,{autoAlpha:0,duration:.2})),l=g,s=f,i&&i.classList.remove("is-active"),i=w||null,i&&i.classList.add("is-active"),l&&(gsap.killTweensOf(l),gsap.set(l,{display:"block"}),gsap.fromTo(l,{autoAlpha:0},{autoAlpha:1,duration:.3})),s&&(gsap.killTweensOf(s),gsap.fromTo(s,{autoAlpha:0,scale:.8},{autoAlpha:1,scale:1,duration:.5,ease:"back.out(1.7)"}))};n.forEach(g=>{const f=e(g),w=a.get(f),A=r.get(f);w&&(g.addEventListener("mouseenter",()=>p(w,A,g)),g.addEventListener("mouseleave",()=>{l===w&&(m=setTimeout(()=>{p(null,null,null)},100))}))})};function Lt(){const d=document.querySelector("[data-modal-slide-group]");if(!d)return null;const o=d.querySelectorAll("[data-modal-slide-name]"),n=d.querySelectorAll("[data-modal-slide-target]"),u=d.querySelectorAll("[data-modal-slide-close]"),t=i=>{i.querySelectorAll("[data-odometer]").forEach(p=>{const g=parseFloat(p.getAttribute("data-count-start"))||0,f=parseFloat(p.getAttribute("data-count-end"))||parseFloat(p.textContent.replace(/,/g,"")),w=parseFloat(p.getAttribute("data-duration"))||2e3,A=p.getAttribute("data-format")||"(,ddd)";p.textContent=g,p.classList.add("odometer");const S=new Odometer({el:p,value:g,format:A,duration:w});p.odometerInstance={odometer:S,endValue:f,hasAnimated:!1}})},c=i=>{const m=i.querySelectorAll("[data-odometer]"),p=new IntersectionObserver(g=>{g.forEach(f=>{if(f.isIntersecting&&!f.target.odometerInstance.hasAnimated){const{odometer:w,endValue:A}=f.target.odometerInstance;w.update(A),f.target.odometerInstance.hasAnimated=!0,p.unobserve(f.target)}})},{threshold:.5,rootMargin:"0px 0px -10% 0px"});m.forEach(g=>{p.observe(g)})};o.forEach(i=>{t(i),c(i)});const e=i=>{const m=d.querySelector(`[data-modal-slide-name="${i}"]`);m&&(o.forEach(g=>{g!==m&&r(g),g.setAttribute("data-modal-slide-status","not-active")}),m.setAttribute("data-modal-slide-status","active"),d.setAttribute("data-modal-slide-group","active"),gsap.set(m,{opacity:1}),gsap.fromTo(m,{y:"100%"},{y:"0%",duration:.6,ease:"power3.out"}),m.querySelectorAll("[data-swiper-wrap]").forEach(g=>{const f=g.swiper;f&&f.autoplay&&f.autoplay.start()}))};let a=null;const r=i=>{i.querySelectorAll("iframe").forEach(p=>{const g=p.dataset.src||p.src;p.src="",setTimeout(()=>{p.src=g},100)})},l=()=>{const i=d.querySelector('[data-modal-slide-name][data-modal-slide-status="active"]');i&&(r(i),gsap.to(i,{y:"100%",duration:.5,ease:"power3.in",onComplete:()=>{i.querySelectorAll("[data-swiper-wrap]").forEach(p=>{const g=p.swiper;g&&g.autoplay&&g.autoplay.stop()}),n.forEach(p=>p.setAttribute("data-modal-slide-status","not-active")),o.forEach(p=>p.setAttribute("data-modal-slide-status","not-active")),d.setAttribute("data-modal-slide-group","not-active"),gsap.set(i,{opacity:0}),a&&a()}}))};return n.forEach(i=>{i.addEventListener("click",function(){e(this.getAttribute("data-modal-slide-target"))})}),u.forEach(i=>i.addEventListener("click",l)),document.addEventListener("keydown",i=>{i.key==="Escape"&&d.getAttribute("data-modal-slide-group")==="active"&&l()}),{openModal:e,closeModals:l,setOnClose:i=>{a=i}}}const kt=()=>{const d=Lt(),o=[];let n=!1;gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)",hasHover:"(hover: hover) and (pointer: fine)"},t=>{const{isMobile:c,isTablet:e,hasHover:a}=t.conditions;(()=>{const s=document.querySelector(".section_events .events_top .text-size-medium"),i=document.querySelectorAll(".events_list-wrapper > *"),m=document.querySelector(".events_bottom .button");if(!s||!i.length||!m)return;gsap.set([s,...i,m],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:".section_events",start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(s,{opacity:1,y:0,duration:.8,ease:"power3.out"}).to(i,{opacity:1,y:0,duration:.6,ease:"power2.out",stagger:.15},"-=0.4").to(m,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.2")})(),document.querySelectorAll('[data-tabs="wrapper"]').forEach(s=>{const i=s.querySelectorAll('[data-tabs="content-item"]'),m=s.querySelectorAll('[data-tabs="visual-item"]'),p=s.dataset.tabsAutoplay==="true",g=parseInt(s.dataset.tabsAutoplayDuration)||5e3;let f=null,w=null,A=!1,S=null;const _={current:null};function x(q){S&&S.kill();const M=i[q].querySelector('[data-tabs="item-progress"]');M&&(gsap.set(M,{scaleX:0,transformOrigin:"left center"}),S=gsap.to(M,{scaleX:1,duration:g/1e3,ease:"power1.inOut",onComplete:()=>{if(!A){const b=(q+1)%i.length;E(b)}}}),_.current=S)}function E(q){if(A||i[q]===f)return;A=!0,S&&S.kill();const M=f,b=w,h=M?.querySelector('[data-tabs="item-progress"]'),v=i[q],k=m[q],y=v.querySelector('[data-tabs="item-progress"]');M?.classList.remove("is-active"),b?.classList.remove("is-active"),v.classList.add("is-active"),k.classList.add("is-active");const T=gsap.timeline({defaults:{duration:.65,ease:"power3"},onComplete:()=>{f=v,w=k,A=!1,p&&x(q)}});M&&(M.classList.remove("is-active"),b?.classList.remove("is-active"),T.set(h,{transformOrigin:"right center"}).to(h,{scaleX:0,duration:.3},0).to(b,{autoAlpha:0,xPercent:3},0)),v.classList.add("is-active"),k.classList.add("is-active"),T.fromTo(k,{autoAlpha:0,xPercent:3},{autoAlpha:1,xPercent:0},.3).set(y,{scaleX:0,transformOrigin:"left center"},0)}o.push(_),E(0),i.forEach((q,M)=>{if(q.addEventListener("click",()=>{if(d){const b=q.getAttribute("data-modal-slide-target");b&&(n=!0,o.forEach(h=>{h.current&&h.current.pause()}),window.lenis&&window.lenis.stop(),d.openModal(b))}}),p&&a){let b=null,h=null;q.addEventListener("mouseenter",()=>{const v=m[M];v&&v!==w&&(h=w,b=v,gsap.to(h,{autoAlpha:0,xPercent:3,duration:.65,ease:"power3"}),gsap.fromTo(b,{autoAlpha:0,xPercent:3},{autoAlpha:1,xPercent:0,duration:.65,ease:"power3"})),q===f&&S&&!n&&S.pause()}),q.addEventListener("mouseleave",()=>{b&&h&&b!==w&&(gsap.to(b,{autoAlpha:0,xPercent:3,duration:.65,ease:"power3"}),gsap.fromTo(h,{autoAlpha:0,xPercent:3},{autoAlpha:1,xPercent:0,duration:.65,ease:"power3"}),b=null,h=null),q===f&&S&&!n&&S.resume()})}})})}),d.setOnClose(()=>{n=!1,o.forEach(t=>{t.current&&t.current.resume()}),window.lenis&&window.lenis.start()})},Ct=()=>{document.querySelectorAll(".section_highlight-scroll").forEach(o=>{const n=o.querySelectorAll(".highlight-scroll_content"),u=o.querySelectorAll(".highlight-scroll_content .heading-style-h3"),t=o.querySelector(".highlight_timeline-line");if(u.length===0)return;n.forEach((a,r)=>{const l=a.querySelector(".highlight_timeline-circle");gsap.set(a,{autoAlpha:0,y:30}),l&&l.classList.remove("is-active")});const c=n[0],e=n[n.length-1];ScrollTrigger.create({trigger:c,start:"top center",endTrigger:e,end:"bottom center",scrub:1,onUpdate:a=>{const r=a.progress;t&&gsap.set(t,{scaleY:r,transformOrigin:"top center"})}}),n.forEach((a,r)=>{const l=a.querySelector(".highlight_timeline-circle");ScrollTrigger.create({trigger:a,start:"top center",toggleActions:"play none none reverse",animation:gsap.to(a,{autoAlpha:1,y:0,duration:.6,ease:"power2.out"}),onEnter:()=>{l&&l.classList.add("is-active")},onEnterBack:()=>{l&&l.classList.add("is-active")},onLeave:()=>{l&&l.classList.remove("is-active")},onLeaveBack:()=>{l&&l.classList.remove("is-active")}})})})},_t=()=>{const d=document.querySelectorAll(".section_highlight-content.is-title-waterfall .highlight-title_container"),o=document.querySelectorAll(".section_highlight-content.is-title-waterfall .highlight-content_bottom");!d.length||!o.length||(d.forEach(n=>{const u=n.querySelector(".highlight-title-heading");if(!u)return;const c=new SplitText(u,{type:"chars",charsClass:"letter"}).chars;requestAnimationFrame(()=>{const e=n.clientHeight-u.clientHeight;ScrollTrigger.create({trigger:n,pin:u,start:"top top",end:"+="+e}),c.forEach(a=>{const r=Math.random()*e;gsap.from(a,{y:r,ease:"none",scrollTrigger:{trigger:u,start:"top top",end:"+="+r,scrub:!0}})})})}),o.forEach(n=>{const u=n.querySelector(".text-size-large"),t=n.querySelector(".highlight-image_wrapper");u&&gsap.from(u,{y:30,opacity:0,duration:.8,ease:"power2.out",scrollTrigger:{trigger:n,start:"top 80%",end:"bottom 20%",toggleActions:"play none none reverse"}}),t&&gsap.from(t,{scale:.8,opacity:0,duration:1.2,ease:"power2.out",scrollTrigger:{trigger:n,start:"top 50%",end:"bottom 20%",toggleActions:"play none none reverse"}})}))};function Pt(){gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},o=>{const{isMobile:n,isMobileLandscape:u,isTablet:t}=o.conditions,c=gsap.context(()=>{document.querySelectorAll("[data-accent-shape]").forEach(e=>{const a=e.getAttribute("data-accent-disable");if(a==="mobile"&&n||a==="mobileLandscape"&&u||a==="tablet"&&t)return;const r=e.querySelector("[data-accent-target]")||e,l=parseFloat(e.getAttribute("data-accent-scale-start"))||0,s=parseFloat(e.getAttribute("data-accent-scale-end"))||1,i=parseFloat(e.getAttribute("data-accent-opacity-start"))||0,m=parseFloat(e.getAttribute("data-accent-opacity-end"))||1,p=e.getAttribute("data-accent-scroll-start")||"top 80%",g=e.getAttribute("data-accent-scroll-end")||"bottom 20%",f=parseFloat(e.getAttribute("data-accent-duration"))||.8,w=e.getAttribute("data-accent-ease")||"back.out(1.7)",A=(e.getAttribute("data-accent-mode")||"").toLowerCase(),S=parseFloat(e.getAttribute("data-accent-loop-duration"))||3,_=e.getAttribute("data-accent-loop-ease")||"none";gsap.set(r,{scale:l,opacity:i}),gsap.timeline({scrollTrigger:{trigger:e,start:p,end:g,toggleActions:"play none none reverse"}}).to(r,{scale:s,opacity:m,duration:f,ease:w});let E;if(e.hasAttribute("data-accent-mode")&&(A===""||A==="rotate"))E=gsap.to(r,{rotation:"+=360",duration:S,ease:_,repeat:-1,paused:!0});else if(A==="pulse"){const q=gsap.timeline({repeat:-1,repeatDelay:S,paused:!0});q.to(r,{scale:s*1.12,duration:S*.18,ease:"power2.out"}).to(r,{scale:s*1.02,duration:S*.12,ease:"power2.inOut"}).to(r,{scale:s*1.08,duration:S*.16,ease:"power2.out"}).to(r,{scale:s,duration:S*.24,ease:"power2.inOut"}),E=q}else A==="scrub"&&gsap.to(r,{rotation:45,ease:"none",scrollTrigger:{trigger:e,start:p,end:g,scrub:!0}});if(E){const q=A===""||A==="rotate"||A==="pulse"?"top bottom":p,M=A===""||A==="rotate"||A==="pulse"?"bottom top":g;ScrollTrigger.create({trigger:e,start:q,end:M,onEnter:()=>E.play(),onEnterBack:()=>E.play(),onLeave:()=>E.pause(),onLeaveBack:()=>E.pause()})}})});return()=>c.revert()})}const It=()=>{document.querySelectorAll("[data-swiper-group]").forEach(o=>{const n=o.querySelector("[data-swiper-wrap]");if(!n)return;const u=o.querySelector("[data-swiper-prev]"),t=o.querySelector("[data-swiper-next]"),c="ontouchstart"in window,e=new Swiper(n,{slidesPerView:1.25,speed:600,mousewheel:!c,grabCursor:!0,autoplay:{delay:4e3,disableOnInteraction:!1,pauseOnMouseEnter:!0,waitForTransition:!0},breakpoints:{320:{slidesPerView:1},480:{slidesPerView:1},992:{slidesPerView:1.25}},navigation:{nextEl:t,prevEl:u},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!1}});e.autoplay&&e.autoplay.stop()})};function Rt(){const d=document.querySelectorAll(".footer-social-link");if(!d.length)return;const o={facebook:"var(--_primitives---brand--secondary--teal-main)",instagram:"var(--_primitives---brand--secondary--orange-main)",x:"var(--_primitives---brand--secondary--yellow-main)",linkedin:"var(--_primitives---brand--secondary--emerald-main)",youtube:"var(--_primitives---brand--primary--aqua-main)",buzzsprout:"var(--_primitives---brand--primary--red-main)"};d.forEach(n=>{const u=window.getComputedStyle(n).color;n.addEventListener("mouseenter",()=>{const t=Ot(n),c=o[t]||window.getComputedStyle(n).color;gsap.to(n,{color:c,duration:.3,ease:"power2.out"})}),n.addEventListener("mouseleave",()=>{gsap.to(n,{color:u,duration:.3,ease:"power2.out"})})})}function Ot(d){const o=d.getAttribute("data-link");return o?o.toLowerCase():"default"}gsap.registerPlugin(ScrollTrigger,SplitText),window.lenis=at();const Bt=()=>{rt(),st(),it(),ct(),lt(),dt(),ut(),pt(),gt(),_t(),ht(),mt(),ft(),yt(),bt(),wt(),vt(),At(),St(),Et(),Mt(),kt(),Ct(),Pt(),It(),Rt()};document.addEventListener("DOMContentLoaded",async()=>{await document.fonts.ready,Bt()});let J;window.addEventListener("resize",()=>{clearTimeout(J),J=setTimeout(()=>{ScrollTrigger.refresh()},100)})})();
