(function(){"use strict";const tt=()=>{const l=new Lenis;return l.on("scroll",ScrollTrigger.update),gsap.ticker.add(r=>{l.raf(r*1e3)}),gsap.ticker.lagSmoothing(0),l};function et(){const l=document.querySelector("[data-modal-group-status]"),r=document.querySelectorAll("[data-modal-name]"),a=document.querySelectorAll("[data-modal-target]");a.forEach(o=>{o.addEventListener("click",function(){const n=this.getAttribute("data-modal-target");a.forEach(e=>e.setAttribute("data-modal-status","not-active")),r.forEach(e=>e.setAttribute("data-modal-status","not-active")),document.querySelector(`[data-modal-target="${n}"]`).setAttribute("data-modal-status","active"),document.querySelector(`[data-modal-name="${n}"]`).setAttribute("data-modal-status","active"),l&&l.setAttribute("data-modal-group-status","active")})}),document.querySelectorAll("[data-modal-close]").forEach(o=>{o.addEventListener("click",d)}),document.addEventListener("keydown",function(o){o.key==="Escape"&&d()});function d(){a.forEach(o=>o.setAttribute("data-modal-status","not-active")),r.forEach(o=>o.setAttribute("data-modal-status","not-active")),l&&l.setAttribute("data-modal-group-status","not-active")}}const ot=(l="img")=>new Promise(r=>{imagesLoaded(document.querySelectorAll(l),{background:!0},r)}),rt=()=>{if(!document.querySelector(".section_home-header .home-header_wrapper"))return;class r{constructor(){this.dom=document.querySelector(".section_home-header"),this.grid=document.querySelector(".home-header_wrapper"),this.imageWrappers=[...document.querySelectorAll(".home-header_image-wrapper")],this.heading=document.querySelector(".home-header_heading"),this.navbar=document.querySelector(".navbar_component"),this.taglines=[...document.querySelectorAll(".tagline")],this.baseX=0,this.baseY=0}init(){this.intro()}intro(){this.repositionImages(),this.centerGrid(),this.setupSplitText();const o=gsap.timeline();o.set(this.dom,{scale:.5}),o.set(this.imageWrappers,{scale:.5,opacity:0,filter:"blur(4px)"}),this.taglines.length>0&&o.set(this.taglines,{yPercent:100,autoAlpha:0}),o.set(this.navbar,{y:-100,autoAlpha:0}),o.to(this.heading,{autoAlpha:1,duration:.1}),o.from(this.headingChars,{yPercent:100,autoAlpha:0,duration:2,ease:"expo.inOut",stagger:.02}),this.taglines.length>0&&o.to(this.taglines,{yPercent:0,autoAlpha:1,duration:.8,ease:"expo.out",stagger:.15},"-=1.5"),o.to(this.imageWrappers,{scale:1,opacity:1,filter:"blur(0px)",duration:.6,ease:"power3.out",stagger:{amount:1.2,from:"random"}}),o.to(this.dom,{scale:1,duration:1.2,ease:"power3.inOut"}),o.to(this.imageWrappers,{x:(n,e)=>e.dataset.x||0,y:(n,e)=>e.dataset.y||0,duration:.96,ease:"power3.inOut"},"-=1.2"),o.to(this.navbar,{y:0,autoAlpha:1,duration:.8,ease:"power3.out"},"-=0.4"),o.call(()=>{this.addEvents(),this.observeProducts()})}setupSplitText(){this.heading&&(this.splitText=SplitText.create(this.heading,{type:"chars",mask:"chars"}),this.headingChars=this.splitText.chars)}repositionImages(){this.imageWrappers.forEach(o=>{const n=o.dataset.x,e=o.dataset.y;(n||e)&&gsap.set(o,{clearProps:"all",...n&&{x:n},...e&&{y:e}})})}centerGrid(){const o=this.grid.offsetWidth,n=this.grid.offsetHeight,e=window.innerWidth,t=window.innerHeight,i=(e-o)/2,c=(t-n)/2;gsap.set(this.grid,{x:i,y:c}),this.baseX=i,this.baseY=c}addEvents(){window.addEventListener("resize",()=>{this.centerGrid()}),this.dom.addEventListener("mousemove",o=>{const n=(o.clientX/window.innerWidth-.5)*30,e=(o.clientY/window.innerHeight-.5)*30;gsap.to(this.grid,{x:this.baseX+n,y:this.baseY+e,duration:.8,ease:"power2.out",overwrite:"auto"})})}observeProducts(){const o=new IntersectionObserver(n=>{n.forEach(e=>{e.isIntersecting?gsap.to(e.target,{scale:1,opacity:1,filter:"blur(0px)",visibility:"visible",duration:.8,ease:"power3.out"}):(gsap.to(e.target,{opacity:0,duration:.6,ease:"power3.out"}),gsap.to(e.target,{scale:.5,filter:"blur(4px)",duration:.5,ease:"power3.out",delay:.2}),gsap.to(e.target,{visibility:"hidden",duration:.1,delay:.7}))})},{root:null,threshold:.8});this.imageWrappers.forEach(n=>{o.observe(n)})}}const a=new r;ot(".home-header_image").then(()=>{a.init(),document.body.classList.remove("loading")})},at=()=>{if(typeof document>"u")return;gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},r=>{const{isMobile:a,isMobileLandscape:d,isTablet:o}=r.conditions,n=gsap.context(()=>{const e=document.querySelectorAll("[data-horizontal-scroll-wrap]");e.length&&(e.forEach(t=>{const i=t.querySelector(".foreword-ceo_image-wrapper"),c=t.querySelector(".foreword-header_accent.is-1"),g=t.querySelector(".foreword-header_accent.is-2"),s=t.querySelector(".foreword_ceo-label-wrapper");i&&gsap.set(i,{opacity:0,scale:.8}),c&&gsap.set(c,{scale:0,transformOrigin:"center"}),g&&gsap.set(g,{scale:0,transformOrigin:"center"}),s&&gsap.set(s,{opacity:0,y:20});const p=gsap.timeline({scrollTrigger:{trigger:i||t,start:"top 40%"}});i&&p.to(i,{opacity:1,scale:1,duration:.6,ease:"back.out(1.7)"},0),c&&p.to(c,{scale:1,duration:.8,ease:"back.out(1.7)"},.6),g&&p.to(g,{scale:1,duration:.8,ease:"back.out(1.7)"},.6),s&&p.to(s,{opacity:1,y:0,duration:.6,ease:"back.out(1.7)"},.6);const u=t.querySelectorAll(".shape.is-foreword-1, .shape.is-foreword-2, .shape.is-foreword-3, .shape.is-foreword-4");gsap.set(u,{scale:0,rotation:0});const h=t.querySelectorAll("#foreword > p");h.length&&(gsap.set(h,{opacity:0,clipPath:"circle(0% at 100% 0%)"}),h.forEach(m=>{m.querySelectorAll("strong").forEach(y=>{gsap.set(y,{"--highlight-width":"0%"})})}),h.forEach((m,f)=>{m.classList.add(`foreword-paragraph-${f}`)}))}),e.forEach(t=>{const i=t.getAttribute("data-horizontal-scroll-disable");if(i==="mobile"&&a||i==="mobileLandscape"&&d||i==="tablet"&&o)return;const c=gsap.utils.toArray("[data-horizontal-scroll-panel]",t);if(c.length<2)return;const g=t.querySelectorAll("#foreword > p"),s=g.length,p=new Set;gsap.to(c,{x:()=>-(t.scrollWidth-window.innerWidth),ease:"none",scrollTrigger:{trigger:t,start:"top top",end:()=>"+="+(t.scrollWidth-window.innerWidth),scrub:!0,pin:!0,invalidateOnRefresh:!0,onUpdate:u=>{const h=Math.min(Math.max(u.progress,0),1),m=Math.min(Math.floor(h*s),s-1),f=t.querySelector(".shape.shape--rounded.is-foreword-1"),y=t.querySelector(".shape.shape--circle.is-foreword-2"),w=t.querySelector(".shape.shape--leaf.is-foreword-3"),b=t.querySelector(".shape.shape--quarter.is-foreword-4");h>=.2&&f&&gsap.to(f,{scale:1,rotation:360,duration:.6,ease:"back.out(1.7)"}),h>=.5&&y&&gsap.to(y,{scale:1,rotation:-180,duration:.6,ease:"back.out(1.7)"}),h>=.8&&w&&gsap.to(w,{scale:1,rotation:270,duration:.6,ease:"back.out(1.7)"}),h>=.99&&b&&gsap.to(b,{scale:1,rotation:90,duration:.6,ease:"back.out(1.7)"}),g.forEach((v,E)=>{if(E<=m){gsap.to(v,{opacity:1,clipPath:"circle(150% at 100% 0%)",duration:1.2});const L=E>=s-2;!p.has(E)&&L&&(p.add(E),v.querySelectorAll("strong").forEach((A,S)=>{if(!A.hasAttribute("data-highlighted")){A.setAttribute("data-highlighted","true");const k=A.textContent.trim().length,P=Math.min(.4+k*.02,2.5),M=S*.15;gsap.to(A,{"--highlight-width":"100%",duration:P,delay:M,ease:"power2.out"})}}))}})}}})}))});return()=>n.revert()})},nt=()=>{document.querySelectorAll('[data-sticky-title="wrap"]').forEach(r=>{const a=Array.from(r.querySelectorAll('[data-sticky-title="heading"]')),d=Array.from(r.querySelectorAll(".bg-shape img")),o=gsap.timeline({scrollTrigger:{trigger:r,start:"top 40%",end:"bottom bottom",scrub:!0}}),n=.7,e=.7,t=.15;d.forEach((i,c)=>{gsap.set(i,{autoAlpha:0,scale:1.1})}),a.forEach((i,c)=>{const g=gsap.timeline();i.setAttribute("aria-label",i.textContent);const s=new SplitText(i,{type:"words,chars"});s.words.forEach(u=>u.setAttribute("aria-hidden","true")),gsap.set(i,{visibility:"visible"});const p=r.querySelector(`.bg-shape.is-${c+1} img`);if(c===0)g.fromTo(p,{autoAlpha:0,scale:1.1},{autoAlpha:1,scale:1,duration:.8,ease:"power2.out"},.2);else{const u=r.querySelector(`.bg-shape.is-${c} img`);g.to(u,{autoAlpha:0,scale:1.1,duration:.8,ease:"power2.out"},0),g.fromTo(p,{autoAlpha:0,scale:1.1},{autoAlpha:1,scale:1,duration:.8,ease:"power2.out"},.4)}g.from(s.chars,{autoAlpha:0,stagger:{amount:n,from:"start"},duration:n},c===0?0:e*.3),c<a.length-1&&g.to(s.chars,{autoAlpha:0,stagger:{amount:e,from:"end"},duration:e}),c===0?o.add(g):o.add(g,`-=${t}`)})})},st=()=>{const l=[{cause:"Affordable Housing",count:103,percent:16},{cause:"Ageing",count:108,percent:17},{cause:"Agriculture",count:217,percent:34},{cause:"Arts & Culture",count:126,percent:20},{cause:"Climate Action & Environment",count:364,percent:58},{cause:"Conservation",count:128,percent:20},{cause:"Education",count:379,percent:60},{cause:"Employability",count:229,percent:36},{cause:"Energy",count:188,percent:30},{cause:"Financial Inclusion",count:221,percent:35},{cause:"Gender",count:254,percent:40},{cause:"Governance",count:130,percent:21},{cause:"Health & Nutrition",count:207,percent:33},{cause:"Livelihood & Poverty Alleviation",count:329,percent:52},{cause:"Water & Sanitation & Hygiene",count:185,percent:29}],r=o=>getComputedStyle(document.documentElement).getPropertyValue(o).trim(),a={Education:r("--color-education"),"Climate Action & Environment":r("--color-climate"),"Livelihood & Poverty Alleviation":r("--color-livelihood"),"Health & Nutrition":r("--color-health"),Employability:r("--color-employability"),Gender:r("--color-gender"),"Financial Inclusion":r("--color-financial-inclusion"),Agriculture:r("--color-agriculture"),Energy:r("--color-energy"),"Water & Sanitation & Hygiene":r("--color-water"),"Arts & Culture":r("--color-arts"),Governance:r("--color-governance"),Conservation:r("--color-conservation"),Ageing:r("--color-aging"),"Affordable Housing":r("--color-affordable-housing")},d=()=>{const o=document.querySelector(".supported-chart"),n=o.offsetWidth,e=o.offsetHeight,t=Math.min(n,e),i=t,c=t,g=t*.15;d3.select(".supported-chart svg").remove();const s=d3.select(".supported-chart").append("svg").attr("viewBox",`0 0 ${i} ${c}`).attr("preserveAspectRatio","xMidYMid meet").style("width","100%").style("height","100%").append("g").attr("transform",`translate(${i/2},${c/2-80})`),p=d3.pie().sort(null).value(1);d3.arc().innerRadius(g).outerRadius(b=>g+b.data.percent*t*.0048).cornerRadius(10).padAngle(.035);const u=s.selectAll("path").data(p(l)).enter().append("path").attr("fill",b=>a[b.data.cause]||"#ccc").attr("d",d3.arc().innerRadius(g).outerRadius(g)).attr("stroke","#fff").attr("stroke-width",2).style("cursor","pointer"),h=()=>{u.transition().delay((b,v)=>v*100).duration(800).ease(d3.easeCubicOut).attrTween("d",function(b){const v=d3.interpolate(g,g+b.data.percent*t*.0048);return function(E){return d3.arc().innerRadius(g).outerRadius(v(E)).cornerRadius(10).padAngle(.035)(b)}})};gsap.timeline({scrollTrigger:{trigger:".supported-chart",start:"top 80%",once:!0}}).add(()=>h());const m=(b,v)=>{const E=b.split(/\s+/);if(E.length<=2)return[b];const L=document.createElement("canvas").getContext("2d");L.font=`700 ${t*.02}px sans-serif`;let q=Math.ceil(E.length/2),A=E.slice(0,q).join(" "),S=E.slice(q).join(" ");for(;q>1&&(L.measureText(A).width>v||L.measureText(S).width>v);)q--,A=E.slice(0,q).join(" "),S=E.slice(q).join(" ");return[A,S]},f=s.append("g").attr("class","supported-chart_center-text").style("pointer-events","none"),y=f.append("text").attr("class","center-cause").attr("opacity",0).style("font-size",`${t*.02}px`).style("font-weight","700").style("fill","var(--color-scheme-1--text)").style("text-anchor","middle");f.append("text").attr("class","center-percent").attr("y",t*.025).attr("opacity",0).style("font-size",`${t*.018}px`).style("font-weight","700").style("fill","var(--_primitives---brand--primary--navy-medium)").style("text-anchor","middle"),u.on("mouseover",function(b,v){s.selectAll("path").transition().duration(200).style("opacity",.3),d3.select(this).transition().duration(200).style("opacity",1);const E=m(v.data.cause,g*1.8),L=t*.02,q=E.length>1?t*.008:0,A=-(E.length-1)*L/2-t*.01-q;y.selectAll("*").remove(),E.forEach((S,k)=>{y.append("tspan").attr("x",0).attr("dy",k===0?0:L).text(S)}),y.attr("y",A).transition().duration(200).style("opacity",1),f.select(".center-percent").text(`${v.data.percent}%`).transition().duration(200).style("opacity",1)}).on("mouseout",function(){s.selectAll("path").transition().duration(200).style("opacity",1),f.selectAll("text").transition().duration(200).style("opacity",0)}),document.querySelectorAll(".supported-chart_legend-color").forEach(b=>{const v=parseInt(b.dataset.index),E=l[v]?.cause;if(!E)return;const L=a[E];L&&(b.style.backgroundColor=L)});const w=s.selectAll("path");document.querySelectorAll(".supported-chart_legend-item").forEach(b=>{const v=parseInt(b.querySelector(".supported-chart_legend-color").dataset.index);b.addEventListener("mouseenter",()=>{w.transition().duration(200).style("opacity",.3),d3.select(w.nodes()[v]).transition().duration(200).style("opacity",1);const E=l[v],L=m(E.cause,g*1.8),q=t*.02,A=L.length>1?t*.008:0,S=-(L.length-1)*q/2-t*.01-A;y.selectAll("*").remove(),L.forEach((k,D)=>{y.append("tspan").attr("x",0).attr("dy",D===0?0:q).text(k)}),y.attr("y",S).transition().duration(200).style("opacity",1),f.select(".center-percent").text(`${E.percent}%`).transition().duration(200).style("opacity",1)}),b.addEventListener("mouseleave",()=>{w.transition().duration(200).style("opacity",1),f.selectAll("text").transition().duration(200).style("opacity",0)})})};d(),window.addEventListener("resize",d)},it=()=>{const l={name:"Beneficiary Communities",children:[{name:"Children & youths",value:436,percent:69},{name:"Women & girls",value:411,percent:65},{name:"People in poverty",value:398,percent:63},{name:"Environment",value:303,percent:48},{name:"People without employment",value:259,percent:41},{name:"People with disabilities",value:208,percent:33},{name:"Elderly",value:196,percent:31},{name:"People with medical needs",value:196,percent:31},{name:"Ethnic minorities",value:183,percent:29},{name:"Immigrants & asylum seekers & refugees",value:114,percent:18},{name:"Offenders & re-offenders",value:44,percent:7}]},r=document.querySelector(".beneficiary-treemap"),a=r.clientWidth||1e3,d=r.clientHeight||600,o=8;r.innerHTML="";const n=d3.select(r).append("svg").attr("viewBox",[0,0,a,d]).style("width","100%").style("height","100%"),e={"Children & youths":"#00B3AD","Women & girls":"#F17C38","People in poverty":"#FED452",Environment:"#ADD5E0","People without employment":"#4AC1BE","People with disabilities":"#002943",Elderly:"#F59D6A","People with medical needs":"#FEE07E","Ethnic minorities":"#86D1D1","Immigrants & asylum seekers & refugees":"#80BDB4","Offenders & re-offenders":"#F2948C"},t=d3.hierarchy(l).sum(s=>s.value).sort((s,p)=>p.value-s.value);d3.treemap().tile(d3.treemapBinary).size([a,d]).paddingInner(o).round(!0)(t);const i=n.selectAll("g").data(t.leaves()).join("g").attr("transform",s=>`translate(${s.x0},${s.y0})`).style("cursor","pointer").style("opacity",0),c=s=>{const p=d3.color(s);return .2126*(p.r/255)+.7152*(p.g/255)+.0722*(p.b/255)>.6?"#002943":"#ffffff"},g=(s,p)=>{s.each(function(){const u=d3.select(this),h=u.text().split(/\s+/).reverse();let m,f=[],y=0;const w=1.1,b=u.attr("y");let v=u.text(null).append("tspan").attr("x",16).attr("y",b);for(;m=h.pop();)f.push(m),v.text(f.join(" ")),v.node().getComputedTextLength()>p&&(f.pop(),v.text(f.join(" ")),f=[m],v=u.append("tspan").attr("x",16).attr("y",b).attr("dy",`${++y*w}em`).text(m))})};i.each(function(s){const p=d3.select(this),u=e[s.data.name]||"#ccc",h=c(u),m=s.x1-s.x0,f=s.y1-s.y0,y=p.append("rect").attr("fill",u).attr("rx",10).attr("ry",10).attr("width",m).attr("height",f).style("filter","drop-shadow(0 1px 2px rgba(0,0,0,0.05))").style("transform-origin",`${m/2}px ${f/2}px`);gsap.set(y.node(),{scale:1});const w=p.append("text").attr("x",16).attr("y",24).attr("fill",h).attr("font-size","1rem").attr("font-weight",600).text(s.data.name).call(g,m-32);w.node().getBBox().height>f*.6&&w.style("display","none");let b=null;f>40&&m>80&&(b=p.append("text").attr("x",m-16).attr("y",f-12).attr("text-anchor","end").attr("fill",h).attr("font-size","1.25rem").attr("opacity",0).text(`${Math.round(s.data.percent)}%`)),p.on("mouseenter",()=>{p.raise(),gsap.to(y.node(),{scale:1.05,duration:.25,ease:"power2.out"}),gsap.to(y.node(),{filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.15))",duration:.25,ease:"power2.out"}),gsap.to(i.nodes().filter(v=>v!==p.node()),{opacity:.3,duration:.25,ease:"power2.out"}),b&&gsap.to(b.node(),{opacity:1,duration:.25,ease:"power2.out"})}).on("mouseleave",()=>{gsap.to(y.node(),{scale:1,duration:.25,ease:"power2.out"}),gsap.to(y.node(),{filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.05))",duration:.25,ease:"power2.out"}),gsap.to(i.nodes(),{opacity:1,duration:.25,ease:"power2.out"}),b&&gsap.to(b.node(),{opacity:0,duration:.25,ease:"power2.out"})})}),gsap.to(i.nodes(),{opacity:1,duration:.6,ease:"power2.out",stagger:.08,scrollTrigger:{trigger:r,start:"top 80%",toggleActions:"play none none none"}})},ct=()=>{const l=document.querySelector(".section_new");if(!l)return;const r=l.querySelector(".new_pin-height"),a=l.querySelector(".new_layout"),d=l.querySelectorAll(".new-paragraph_item"),o=l.querySelector(".button-group");if(!r||!a||d.length===0)return;const n=Array.from(d).map(t=>new SplitText(t,{type:"words",wordsClass:"word",mask:"words"}));gsap.set(n.flatMap(t=>t.words),{yPercent:100});let e=!1;ScrollTrigger.create({trigger:l,start:"top bottom",once:!0,onEnter:()=>{e||(e=!0,requestAnimationFrame(()=>{ScrollTrigger.refresh(),ScrollTrigger.create({trigger:r,start:"top top",end:"bottom bottom",pin:a});const t=gsap.timeline({scrollTrigger:{trigger:r,start:"top top",end:"bottom bottom",scrub:!0}});n.forEach((i,c)=>{t.to(i.words,{yPercent:0,duration:1,stagger:.2,ease:"power4.out"},c>0?"+=0.5":0)}),o&&(gsap.set(o,{opacity:0,y:20}),t.to(o,{opacity:1,y:0,duration:.8,ease:"power2.out"},"+=0.3"))}))}})},lt=()=>{const l=document.querySelector(".section_word-break"),r=document.querySelector(".section_word-break .word-break-text"),a=new SplitText(r,{type:"words, chars",smartWrap:!0,wordsClass:"word",charsClass:"char"}),d=a.chars;a.words;const o=r.clientWidth-document.body.clientWidth,n=gsap.to(r,{x:-o,ease:"none",scrollTrigger:{trigger:".section_word-break .word-break_container",pin:!0,end:"+="+o,scrub:!0}});gsap.from(l,{ease:"power1.out",scrollTrigger:{trigger:".section_word-break .word-break_container",start:"top top",end:"+=200",scrub:!0}}),d.forEach(e=>{gsap.from(e,{yPercent:(Math.random()-.5)*400,rotation:(Math.random()-.5)*60,ease:"elastic.out(1.2, 1)",scrollTrigger:{trigger:e,containerAnimation:n,start:"left 90%",end:"left 10%",scrub:.5}})})};function dt(){document.querySelectorAll("[data-highlight-text]").forEach(r=>{const a=r.getAttribute("data-highlight-scroll-start")||"top 90%",d=r.getAttribute("data-highlight-scroll-end")||"center 40%";r.getAttribute("data-highlight-fade");const o=r.getAttribute("data-highlight-stagger")||.1,n=r.getAttribute("data-highlight-bg")||"#C1E6E7";new SplitText(r,{type:"words",autoSplit:!0,onSplit(e){return gsap.context(()=>{const i=[];e.words.forEach(g=>{const s=document.createElement("div");s.className="highlight-word",g.parentNode.insertBefore(s,g),s.appendChild(g),i.push(s)});let c=gsap.timeline({scrollTrigger:{scrub:!0,trigger:r,start:a,end:d}});e.words.forEach((g,s)=>{const p=i[s],u=s*o;c.set(p,{backgroundColor:n},u).to(p,{backgroundColor:n,duration:.2,ease:"linear"},u+.2).from(g,{opacity:0,duration:.2,ease:"linear"},u+.4).to(p,{backgroundColor:"transparent",duration:.3,ease:"linear"},u+.6)})})}})})}const ut=()=>{document.querySelectorAll(".section-title_component").forEach(r=>{const a=r.querySelector(".section-title_accent-shape.is-1"),d=r.querySelector(".section-title_accent-shape.is-2"),o=r.querySelector(".section-title_inner > h2");if(!a||!d||!o)return;const n=new SplitText(o,{type:"words",mask:"words"});gsap.set([a,d],{scale:0,rotation:-45,transformOrigin:"center center"}),gsap.set(n.words,{autoAlpha:0,y:30}),gsap.timeline({scrollTrigger:{trigger:r,start:"top 80%",end:"bottom 20%"}}).to(a,{scale:1,rotation:0,duration:.6,ease:"back.out(1.7)"}).to(d,{scale:1,duration:.5,ease:"back.out(1.4)"},"-=0.3").to(n.words,{autoAlpha:1,y:0,duration:.7,stagger:.08,ease:"power2.out"},"-=0.2")})},pt=()=>{const l=document.querySelector(".section_highlight-cards .highlight-card_wrapper");if(!l)return;const r=l.clientWidth,a=document.querySelectorAll(".highlight_card"),d=a.length,o=document.querySelectorAll(".highlight_card .highlight_card-content");let n=0;a.forEach(i=>{gsap.set(i,{xPercent:(Math.random()-.5)*10,yPercent:(Math.random()-.5)*10,rotation:(Math.random()-.5)*20})});const e=i=>{i<0||i>=a.length||(gsap.set(a[i],{zIndex:"auto"}),gsap.to(a[i],{xPercent:(Math.random()-.5)*10,yPercent:(Math.random()-.5)*10,rotation:(Math.random()-.5)*20,scale:1,duration:.8,ease:"elastic.out(1, 0.75)"}))},t=i=>{a.forEach((c,g)=>{gsap.set(c,{zIndex:g===i?20:"auto"})}),gsap.to(a[i],{xPercent:0,yPercent:0,rotation:0,duration:.8,scale:1.1,ease:"elastic.out(1, 0.75)"}),o.forEach((c,g)=>{g!==i?gsap.to(c,{xPercent:80/(g-i),ease:"elastic.out(1, 0.75)",duration:.8}):gsap.to(c,{xPercent:0,ease:"elastic.out(1, 0.75)",duration:.8})})};l.addEventListener("mousemove",i=>{const g=(i.clientX-l.getBoundingClientRect().left)/r,s=Math.ceil(g*d);n!==s&&s>0&&s<=d&&(n!==0&&e(n-1),n=s,t(n-1))}),l.addEventListener("mouseleave",()=>{n>0&&e(n-1),n=0,gsap.to(o,{xPercent:0,ease:"elastic.out(1, 0.75)",duration:.8})})};function gt(){(()=>{const a=document.querySelector(".section_work");if(!a)return;const d=a.querySelectorAll(".work_list > *"),o=a.querySelector(".button");if(!d.length||!o)return;gsap.set([...d,o],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:a,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(d,{opacity:1,y:0,duration:.6,ease:"power2.out",stagger:.15}).to(o,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.3")})();const r={top:"translateY(-100%)",bottom:"translateY(100%)",left:"translateX(-100%)",right:"translateX(100%)"};document.querySelectorAll("[data-directional-hover]").forEach(a=>{const d=a.getAttribute("data-type")||"all";a.querySelectorAll("[data-directional-hover-item]").forEach(n=>{const e=n.querySelector("[data-directional-hover-tile]");e&&(n.addEventListener("mouseenter",t=>{const i=o(t,n,d);e.style.transition="none",e.style.transform=r[i]||"translate(0, 0)",e.offsetHeight,e.style.transition="",e.style.transform="translate(0%, 0%)",n.setAttribute("data-status",`enter-${i}`)}),n.addEventListener("mouseleave",t=>{const i=o(t,n,d);n.setAttribute("data-status",`leave-${i}`),e.style.transform=r[i]||"translate(0, 0)"}))});function o(n,e,t){const{left:i,top:c,width:g,height:s}=e.getBoundingClientRect(),p=n.clientX-i,u=n.clientY-c;if(t==="y")return u<s/2?"top":"bottom";if(t==="x")return p<g/2?"left":"right";const h={top:u,right:g-p,bottom:s-u,left:p};return Object.entries(h).reduce((m,f)=>m[1]<f[1]?m:f)[0]}})}function ht(){let a=!1;const d=[];(()=>{const e=document.querySelector(".section_partners");if(!e)return;const t=e.querySelector(".partners_top .text-size-large"),i=e.querySelector(".partners_top .button"),c=e.querySelector(".partners-logo-wall_component");if(!t||!i||!c)return;gsap.set([t,i,c],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:e,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse",refreshPriority:-1,onEnter:()=>{},onLeaveBack:()=>{}}}).to(t,{opacity:1,y:0,duration:.8,ease:"power3.out"}).to(i,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.4").to(c,{opacity:1,y:0,duration:.8,ease:"power2.out"},"-=0.2").call(()=>{a=!0,d.forEach(s=>s())})})(),document.querySelectorAll("[data-logo-wall-cycle-init]").forEach(e=>{const t=e.querySelector("[data-logo-wall-list]"),i=Array.from(t.querySelectorAll("[data-logo-wall-item]")),c=e.getAttribute("data-logo-wall-shuffle")!=="false";let g=i.map(q=>q.querySelector("[data-logo-wall-target]")).filter(Boolean);if(g.length===0&&(i.map(A=>A.querySelector("[data-logo-wall-target-parent]")).filter(Boolean).forEach(A=>{if(!A.querySelector("[data-logo-wall-target]")){const S=document.createElement("div");S.setAttribute("data-logo-wall-target",""),A.appendChild(S)}}),g=i.map(A=>A.querySelector("[data-logo-wall-target]")).filter(Boolean)),g.length===0)return;let s=[],p=0,u=[],h=[],m=0,f;function y(q){return window.getComputedStyle(q).display!=="none"}function w(q){const A=q.slice();for(let S=A.length-1;S>0;S--){const k=Math.floor(Math.random()*(S+1));[A[S],A[k]]=[A[k],A[S]]}return A}function b(){f&&f.kill(),s=i.filter(y),p=s.length,h=w(Array.from({length:p},(S,k)=>k)),m=0,i.forEach(S=>{S.querySelectorAll("[data-logo-wall-target]").forEach(k=>k.remove())}),u=g.map(S=>S.cloneNode(!0));let q,A;if(c){const S=w(u);q=S.slice(0,p),A=w(S.slice(p))}else q=u.slice(0,p),A=w(u.slice(p));u=q.concat(A);for(let S=0;S<p;S++)(s[S].querySelector("[data-logo-wall-target-parent]")||s[S]).appendChild(u.shift());f=gsap.timeline({repeat:-1,paused:!0}),f.call(v),f.to({},{duration:.9+1})}function v(){if(i.filter(y).length!==p){b();return}if(!u.length)return;const A=h[m%p];m++;const S=s[A],k=S.querySelector("[data-logo-wall-target-parent]")||S.querySelector("*:has(> [data-logo-wall-target])")||S;if(k.querySelectorAll("[data-logo-wall-target]").length>1)return;const x=k.querySelector("[data-logo-wall-target]"),P=u.shift();gsap.set(P,{yPercent:50,autoAlpha:0}),k.appendChild(P),x&&gsap.to(x,{yPercent:-50,autoAlpha:0,duration:.9,ease:"expo.inOut",onComplete:()=>{x.remove(),u.push(x)}}),gsap.to(P,{yPercent:0,autoAlpha:1,duration:.9,delay:.1,ease:"expo.inOut"})}b();let E;ScrollTrigger.addEventListener("refreshInit",()=>{E&&E.kill()});const L=()=>{if(!a){d.push(L);return}E=ScrollTrigger.create({trigger:e,start:"top bottom",end:"bottom top",onEnter:()=>{f.play()},onLeave:()=>{f.pause()},onEnterBack:()=>{f.play()},onLeaveBack:()=>{f.pause()}}),E.isActive&&f.play()};document.readyState==="complete"?(ScrollTrigger.refresh(),gsap.delayedCall(.3,L)):window.addEventListener("load",()=>{ScrollTrigger.refresh(),gsap.delayedCall(.3,L)}),document.addEventListener("visibilitychange",()=>{document.hidden?f.pause():E&&E.isActive&&f.play()})})}function mt(){(()=>{const a=document.querySelector(".section_team");if(!a)return;const d=a.querySelector(".team_top .text-size-large"),o=a.querySelector(".filter-group");if(!d||!o)return;gsap.set([d,o],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:a,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(d,{opacity:1,y:0,duration:.8,ease:"power3.out"}).to(o,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.4")})(),document.querySelectorAll("[data-filter-group]").forEach(a=>{const d=a.querySelectorAll("[data-filter-target]"),o=a.querySelectorAll("[data-filter-name]"),n=300,e=i=>{o.forEach(c=>{const s=c.getAttribute("data-filter-name")===i;c.getAttribute("data-filter-status")==="active"&&!s?(c.setAttribute("data-filter-status","transition-out"),setTimeout(()=>{c.setAttribute("data-filter-status","not-active"),c.setAttribute("aria-hidden","true")},n)):s&&setTimeout(()=>{c.setAttribute("data-filter-status","active"),c.setAttribute("aria-hidden","false")},n)}),d.forEach(c=>{const g=c.getAttribute("data-filter-target")===i;c.setAttribute("data-filter-status",g?"active":"not-active"),c.setAttribute("aria-pressed",g?"true":"false")})};d.forEach(i=>{i.addEventListener("click",()=>{const c=i.getAttribute("data-filter-target");i.getAttribute("data-filter-status")!=="active"&&e(c)})});const t=d[0];t&&e(t.getAttribute("data-filter-target"))})}function ft(){gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},r=>{const{isMobile:a,isMobileLandscape:d,isTablet:o}=r.conditions,n=gsap.context(()=>{document.querySelectorAll('[data-parallax="trigger"]').forEach(e=>{const t=e.getAttribute("data-parallax-disable");if(t==="mobile"&&a||t==="mobileLandscape"&&d||t==="tablet"&&o)return;const i=e.querySelector('[data-parallax="target"]')||e,g=(e.getAttribute("data-parallax-direction")||"vertical")==="horizontal"?"xPercent":"yPercent",s=e.getAttribute("data-parallax-scrub"),p=s?parseFloat(s):!0,u=e.getAttribute("data-parallax-start"),h=u!==null?parseFloat(u):20,m=e.getAttribute("data-parallax-end"),f=m!==null?parseFloat(m):-20,w=`clamp(${e.getAttribute("data-parallax-scroll-start")||"top bottom"})`,v=`clamp(${e.getAttribute("data-parallax-scroll-end")||"bottom top"})`;gsap.fromTo(i,{[g]:h},{[g]:f,ease:"none",scrollTrigger:{trigger:e,start:w,end:v,scrub:p}})})});return()=>n.revert()})}const yt=()=>{const l=gsap.utils.toArray("[data-bg-transition]");if(!l.length)return;const r=l.map(a=>a.style.backgroundColor||window.getComputedStyle(a).backgroundColor);l.forEach((a,d)=>{const o=l[d+1];if(!o)return;const n=d===0?r[0]:r[d],e=r[d+1];o.style.backgroundColor=n,gsap.set(o,{backgroundColor:n}),gsap.to(o,{backgroundColor:e,duration:.4,ease:"power1.inOut",scrollTrigger:{trigger:o,start:"top 50%",toggleActions:"play complete none reverse"}})})},bt=()=>{if(typeof Matter>"u"){console.warn("Matter.js is not loaded. Falling2D animation will not initialize.");return}const l=()=>{const x=document.querySelector("#canvas-target");if(x&&!x.hasAttribute("data-matter-initialized")){const P=x.closest(".footer_component");if(P){const M=P.getBoundingClientRect();M.top<window.innerHeight&&M.bottom>0?(D(x),x.setAttribute("data-matter-initialized","true")):setTimeout(l,1e3)}}};setTimeout(l,4e3);const r=Matter.Engine,a=Matter.Render,d=Matter.Runner,o=Matter.Bodies,n=Matter.Composite,e=Matter.Events;let t,i,c,g,s,p,u,h,m,f,y,w,b;const v=["#e42919","#00b4ae","#007b69","#f27c38","#ffd552","#91c7d6"],E=2,L=30,q=.65,A=(x,P)=>Math.random()*(P-x)+x,S=()=>{if(t&&r.clear(t),i&&a.stop(i),c&&d.stop(c),h&&window.removeEventListener("resize",h),m&&f){const x=document.querySelector("#canvas-target");x&&(x.removeEventListener("mousemove",m),x.removeEventListener("mouseleave",f),x.removeEventListener("touchstart",y),x.removeEventListener("touchmove",w),x.removeEventListener("touchend",b))}},k=(x,P,M,B)=>{const O=[];for(let z=0;z<=20;z++){const F=Math.PI*(z/20);O.push({x:Math.cos(F)*M,y:-Math.sin(F)*M})}return O.push({x:-M,y:0}),o.fromVertices(x,P,[O],{restitution:q,render:{fillStyle:B,strokeStyle:B}})},D=x=>{S();const P=x.getBoundingClientRect(),M=P.width,B=P.height,O=M/4,R=M/15,z=R/2,F=M-R/2;t=r.create(),t.world.gravity.y=E,t.timing.timeScale=.9,i=a.create({element:x,engine:t,options:{background:"transparent",wireframes:!1,width:M,height:B,pixelRatio:window.devicePixelRatio||2}}),i.canvas.width=M*(window.devicePixelRatio||2),i.canvas.height=B*(window.devicePixelRatio||2),i.canvas.style.width=`${M}px`,i.canvas.style.height=`${B}px`,g=o.rectangle(M/2,-O,M*2,O*2,{isStatic:!0}),s=o.rectangle(M/2,B+O,M*2,O*2,{isStatic:!0}),p=o.rectangle(-O,B/2,O*2,B*2,{isStatic:!0}),u=o.rectangle(M+O,B/2,O*2,B*2,{isStatic:!0}),n.add(t.world,[g,s,p,u]);const Ht=()=>{const T=v[Math.floor(Math.random()*v.length)],_=Math.random();if(_<.25){const C=R*(.3+Math.random()*.95),I=o.circle(A(z,F),-R,C,{restitution:q,render:{fillStyle:T,strokeStyle:T}});n.add(t.world,I)}else if(_<.5){const C=R*(.3+Math.random()*.95),I=k(A(z,F),-R,C,T);n.add(t.world,I)}else if(_<.75){const C=R*(.5+Math.random()*.75),I=o.rectangle(A(z,F),-R,C,C,{chamfer:{radius:C*.15},restitution:q,render:{fillStyle:T,strokeStyle:T}});n.add(t.world,I)}else{const C=R*(.5+Math.random()*.75),I=C*.15,W=Math.floor(Math.random()*4),H=I*(.5+Math.random()*.5),$=H*3,V=[H,H,H,H];V[W]=$;const zt=o.rectangle(A(z,F),-R,C,C,{chamfer:{radius:V},restitution:q,render:{fillStyle:T,strokeStyle:T}});n.add(t.world,zt)}};c=d.create(),a.run(i),d.run(c,t);let N=0;const U=()=>{N<L&&(Ht(),N++,setTimeout(U,100))};setTimeout(U,100);let J=0,K=0,Y=!1,X="ontouchstart"in window;const j=T=>{const _=x.getBoundingClientRect(),C=T.touches?T.touches[0].clientX:T.clientX,I=T.touches?T.touches[0].clientY:T.clientY;J=C-_.left,K=I-_.top,Y=!0},Q=()=>{Y=!1};m=T=>{X||j(T)},f=()=>{X||Q()};const Ot=T=>{T.preventDefault(),j(T)},Rt=T=>{T.preventDefault(),j(T)},Wt=T=>{T.preventDefault(),Q()};x.addEventListener("mousemove",m),x.addEventListener("mouseleave",f),x.addEventListener("touchstart",Ot,{passive:!1}),x.addEventListener("touchmove",Rt,{passive:!1}),x.addEventListener("touchend",Wt,{passive:!1}),e.on(t,"afterUpdate",()=>{if(!Y)return;const T=n.allBodies(t.world).filter(I=>!I.isStatic),_=X?200:150,C=X?.15:.2;T.forEach(I=>{const W=I.position.x-J,H=I.position.y-K,$=Math.sqrt(W*W+H*H);if($<_){const V=(1-$/_)*C;Matter.Body.setVelocity(I,{x:I.velocity.x,y:Math.min(I.velocity.y-V,-15)})}})});let Z;h=()=>{clearTimeout(Z),Z=setTimeout(()=>{d.stop(c);const T=x.getBoundingClientRect(),_=T.width,C=T.height;i.canvas.width=_*(window.devicePixelRatio||2),i.canvas.height=C*(window.devicePixelRatio||2),i.canvas.style.width=`${_}px`,i.canvas.style.height=`${C}px`,n.allBodies(t.world).filter(H=>!H.isStatic).forEach(H=>{const $=Math.max(50,Math.min(H.position.x,_-50)),V=Math.max(50,Math.min(H.position.y,C-50));Matter.Body.setPosition(H,{x:$,y:V}),Matter.Body.setVelocity(H,{x:0,y:0})}),n.remove(t.world,[g,s,p,u]);const W=_/4;g=o.rectangle(_/2,-W,_*2,W*2,{isStatic:!0}),s=o.rectangle(_/2,C+W,_*2,W*2,{isStatic:!0}),p=o.rectangle(-W,C/2,W*2,C*2,{isStatic:!0}),u=o.rectangle(_+W,C/2,W*2,C*2,{isStatic:!0}),n.add(t.world,[g,s,p,u]),d.run(c,t)},200)},window.addEventListener("resize",h)};{const x=()=>{const P=document.querySelector(".footer_component"),M=document.querySelector("#canvas-target");if(!P||!M){console.warn("Footer section or canvas target not found. Falling back to load event initialization."),window.addEventListener("load",()=>{M&&D(M)});return}const B=new IntersectionObserver(O=>{O.forEach(R=>{R.isIntersecting&&(M&&!M.hasAttribute("data-matter-initialized")&&(D(M),M.setAttribute("data-matter-initialized","true")),B.disconnect())})},{root:null,rootMargin:"0px 0px -20% 0px",threshold:.1});B.observe(P)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{setTimeout(x,1e3)}):setTimeout(x,1e3)}return{cleanup:S}},wt=()=>{const l=window.innerWidth,r=document.querySelector(".section_image-break .image-break_wrapper"),a=r.querySelectorAll(".image-break_media"),d=document.querySelector(".section_image-break .image-break_text");let o;d&&(o=new SplitText(d,{type:"chars"}).chars,gsap.set(o,{opacity:0,yPercent:100})),a.forEach(t=>{gsap.set(t,{x:(Math.random()-.5)*.16*l,y:(Math.random()-.5)*.1*l})});const n=r.clientWidth-document.body.clientWidth,e=gsap.to(r,{x:-n,ease:"none",scrollTrigger:{trigger:r.parentNode,pin:!0,scrub:!0,end:"+="+n}});if(a.forEach(t=>{gsap.from(t,{rotation:(Math.random()-.5)*80,yPercent:(Math.random()-.5)*300,xPercent:Math.random()*400,ease:"power1.out",scrollTrigger:{trigger:t,containerAnimation:e,start:"left 110%",end:"left 65%",scrub:!0}}),gsap.fromTo(t,{rotation:0,yPercent:0,xPercent:0},{rotation:(Math.random()-.5)*80,yPercent:(Math.random()-.5)*300,xPercent:-Math.random()*400,ease:"power1.in",scrollTrigger:{trigger:t,containerAnimation:e,start:"right 35%",end:"right -10%",scrub:!0}})}),o&&a.length>0){const t=Math.floor(o.length/2),i=a[a.length-1];gsap.to(o,{opacity:1,yPercent:0,duration:1.2,ease:"back.out(2.5)",stagger:{amount:.8,from:t,ease:"power2.out"},scrollTrigger:{trigger:i,containerAnimation:e,start:"left center",toggleActions:"play none none none"}})}};function vt(){document.querySelectorAll(".members-content_wrapper").forEach(l=>{const r=l.querySelector(".members-number");if(!r)return;const a=r.querySelector("span:first-child");if(!a)return;const d=parseFloat(r.getAttribute("data-count-start"))||0,o=parseFloat(r.getAttribute("data-count-end"))||parseFloat(a.textContent.replace(/,/g,""));a.textContent=d,a.classList.add("odometer");const n=new Odometer({el:a,value:d,format:"(,ddd)",duration:2e3});l.odometerInstance={odometer:n,endValue:o}})}const At=()=>{vt();const l=St();Et(l)},St=()=>{const l=document.querySelectorAll("[cs-element='tab-item']"),r=document.querySelector("[cs-element='tab-main']");if(!r)return;r.setAttribute("data-member-color","");const a=r.querySelector("h3.heading-style-h6"),d=r.querySelector(".member-tab-center_icon"),o=r.querySelector("p");if(!a||!d||!o)return;let n=0,e,t;const i=s=>{const p=s.querySelector(".members-tab_icon-wrapper"),u=s.querySelector(".tab-title-small"),h=s.querySelector(".members-tab_description > p");if(!p||!u||!h)return;const m=p.innerHTML,f=u.textContent,y=h.textContent,w=s.getAttribute("data-member-color");a.innerText!==f&&(a.innerHTML=f,d.innerHTML=m,o.textContent=y,r.parentNode.setAttribute("data-member-color",w),gsap.fromTo(r.parentNode,{scale:.8,opacity:0},{scale:1,opacity:1,duration:1,ease:"back.out(1.4)"}))},c=(s=8e3)=>{t=setTimeout(()=>{n=(n+1)%l.length,i(l[n]),e=setInterval(()=>{n=(n+1)%l.length,i(l[n])},1e4)},s)},g=()=>{clearTimeout(t),clearInterval(e),c()};return l.forEach((s,p)=>{s.addEventListener("mouseenter",()=>{n=p,i(s),g()}),s.addEventListener("mouseleave",()=>{g()})}),c},Et=l=>{const r=document.querySelectorAll(".members-content_wrapper"),a=document.querySelectorAll("[cs-element='tab-item']"),d=document.querySelector("[data-member-tab-center]");r.forEach(o=>{if(!o.odometerInstance)return;const n=o.querySelector("[data-member-heading]"),e=o.querySelector("[data-member-button]");if(!n||!e)return;const t=Array.from(a),i=Math.floor(t.length/2),c=[...t.slice(0,i),d,...t.slice(i)];gsap.set([n,e],{opacity:0,y:30}),gsap.set(c,{opacity:0,scale:0}),gsap.timeline({scrollTrigger:{trigger:o,start:"top 80%",once:!0},onComplete:()=>{l&&l(2e3)}}).call(()=>{o.odometerInstance.odometer.update(o.odometerInstance.endValue)}).to([n,e],{opacity:1,y:0,duration:.8,stagger:.2,ease:"power2.out"},"+=0.3").to(c,{opacity:1,scale:1,duration:1.2,stagger:{amount:.8,from:"center"},ease:"back.out(1.4)"},"<")})},xt=()=>{const l=document.querySelector(".regions_wrapper"),r=document.querySelector(".region_button-wrapper"),a=Array.from(document.querySelectorAll(".region_button")),d=Array.from(document.querySelectorAll(".regions_base.is-overlay")),o=Array.from(document.querySelectorAll(".regions-reflections_item"));if(!a.length||!d.length)return;if(l&&r){const h=Array.from(r.children);gsap.timeline().from(l,{scale:.8,autoAlpha:0,duration:1.5,ease:"back.out(1.7)"}).from(h,{autoAlpha:0,y:20,duration:1.2,stagger:.1,ease:"back.out(1.7)"},"+=0.05")}const n=h=>{const m=h.className.match(/is-(?!overlay)([a-z0-9-]+)/i);return m?m[1]:""},e=h=>(h.getAttribute("data-region")||n(h)).trim(),t=new Map,i=new Map;if(d.forEach(h=>{const m=e(h);m&&t.set(m,h)}),o.forEach(h=>{const m=e(h);m&&i.set(m,h)}),!t.size)return;gsap.set([...t.values()],{autoAlpha:0,pointerEvents:"none"}),i.size&&gsap.set([...i.values()],{autoAlpha:0});let c,g,s,p;const u=(h,m,f)=>{if(p&&(clearTimeout(p),p=null),c===h&&g===m)return;const y=c,w=g;y&&(gsap.killTweensOf(y),gsap.to(y,{autoAlpha:0,duration:.2,onComplete:()=>gsap.set(y,{display:"none"})})),w&&(gsap.killTweensOf(w),gsap.to(w,{autoAlpha:0,duration:.2})),c=h,g=m,s&&s.classList.remove("is-active"),s=f||null,s&&s.classList.add("is-active"),c&&(gsap.killTweensOf(c),gsap.set(c,{display:"block"}),gsap.fromTo(c,{autoAlpha:0},{autoAlpha:1,duration:.3})),g&&(gsap.killTweensOf(g),gsap.fromTo(g,{autoAlpha:0,scale:.8},{autoAlpha:1,scale:1,duration:.5,ease:"back.out(1.7)"}))};a.forEach(h=>{const m=e(h),f=t.get(m),y=i.get(m);f&&(h.addEventListener("mouseenter",()=>u(f,y,h)),h.addEventListener("mouseleave",()=>{c===f&&(p=setTimeout(()=>{u(null,null,null)},100))}))})};function qt(){const l=document.querySelector("[data-modal-slide-group]");if(!l)return null;const r=l.querySelectorAll("[data-modal-slide-name]"),a=l.querySelectorAll("[data-modal-slide-target]"),d=l.querySelectorAll("[data-modal-slide-close]"),o=s=>{s.querySelectorAll("[data-odometer]").forEach(u=>{const h=parseFloat(u.getAttribute("data-count-start"))||0,m=parseFloat(u.getAttribute("data-count-end"))||parseFloat(u.textContent.replace(/,/g,"")),f=parseFloat(u.getAttribute("data-duration"))||2e3,y=u.getAttribute("data-format")||"(,ddd)";u.textContent=h,u.classList.add("odometer");const w=new Odometer({el:u,value:h,format:y,duration:f});u.odometerInstance={odometer:w,endValue:m,hasAnimated:!1}})},n=s=>{const p=s.querySelectorAll("[data-odometer]"),u=new IntersectionObserver(h=>{h.forEach(m=>{if(m.isIntersecting&&!m.target.odometerInstance.hasAnimated){const{odometer:f,endValue:y}=m.target.odometerInstance;f.update(y),m.target.odometerInstance.hasAnimated=!0,u.unobserve(m.target)}})},{threshold:.5,rootMargin:"0px 0px -10% 0px"});p.forEach(h=>{u.observe(h)})};r.forEach(s=>{o(s),n(s)});const e=s=>{const p=l.querySelector(`[data-modal-slide-name="${s}"]`);p&&(r.forEach(h=>{h!==p&&i(h),h.setAttribute("data-modal-slide-status","not-active")}),p.setAttribute("data-modal-slide-status","active"),l.setAttribute("data-modal-slide-group","active"),gsap.set(p,{opacity:1}),gsap.fromTo(p,{y:"100%"},{y:"0%",duration:.6,ease:"power3.out"}),p.querySelectorAll("[data-swiper-wrap]").forEach(h=>{const m=h.swiper;m&&m.autoplay&&m.autoplay.start()}))};let t=null;const i=s=>{s.querySelectorAll("iframe").forEach(u=>{const h=u.dataset.src||u.src;u.src="",setTimeout(()=>{u.src=h},100)})},c=()=>{const s=l.querySelector('[data-modal-slide-name][data-modal-slide-status="active"]');s&&(i(s),gsap.to(s,{y:"100%",duration:.5,ease:"power3.in",onComplete:()=>{s.querySelectorAll("[data-swiper-wrap]").forEach(u=>{const h=u.swiper;h&&h.autoplay&&h.autoplay.stop()}),a.forEach(u=>u.setAttribute("data-modal-slide-status","not-active")),r.forEach(u=>u.setAttribute("data-modal-slide-status","not-active")),l.setAttribute("data-modal-slide-group","not-active"),gsap.set(s,{opacity:0}),t&&t()}}))};return a.forEach(s=>{s.addEventListener("click",function(){e(this.getAttribute("data-modal-slide-target"))})}),d.forEach(s=>s.addEventListener("click",c)),document.addEventListener("keydown",s=>{s.key==="Escape"&&l.getAttribute("data-modal-slide-group")==="active"&&c()}),{openModal:e,closeModals:c,setOnClose:s=>{t=s}}}const Tt=()=>{const l=qt(),r=[];let a=!1;(()=>{const n=document.querySelector(".section_events .events_top .text-size-medium"),e=document.querySelectorAll(".events_list-wrapper > *"),t=document.querySelector(".events_bottom .button");if(!n||!e.length||!t)return;gsap.set([n,...e,t],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:".section_events",start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(n,{opacity:1,y:0,duration:.8,ease:"power3.out"}).to(e,{opacity:1,y:0,duration:.6,ease:"power2.out",stagger:.15},"-=0.4").to(t,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.2")})(),document.querySelectorAll('[data-tabs="wrapper"]').forEach(n=>{const e=n.querySelectorAll('[data-tabs="content-item"]'),t=n.querySelectorAll('[data-tabs="visual-item"]'),i=n.dataset.tabsAutoplay==="true",c=parseInt(n.dataset.tabsAutoplayDuration)||5e3;let g=null,s=null,p=!1,u=null;const h={current:null};function m(y){u&&u.kill();const w=e[y].querySelector('[data-tabs="item-progress"]');w&&(gsap.set(w,{scaleX:0,transformOrigin:"left center"}),u=gsap.to(w,{scaleX:1,duration:c/1e3,ease:"power1.inOut",onComplete:()=>{if(!p){const b=(y+1)%e.length;f(b)}}}),h.current=u)}function f(y){if(p||e[y]===g)return;p=!0,u&&u.kill();const w=g,b=s,v=w?.querySelector('[data-tabs="item-progress"]'),E=e[y],L=t[y],q=E.querySelector('[data-tabs="item-progress"]');w?.classList.remove("is-active"),b?.classList.remove("is-active"),E.classList.add("is-active"),L.classList.add("is-active");const A=gsap.timeline({defaults:{duration:.65,ease:"power3"},onComplete:()=>{g=E,s=L,p=!1,i&&m(y)}});w&&(w.classList.remove("is-active"),b?.classList.remove("is-active"),A.set(v,{transformOrigin:"right center"}).to(v,{scaleX:0,duration:.3},0).to(b,{autoAlpha:0,xPercent:3},0)),E.classList.add("is-active"),L.classList.add("is-active"),A.fromTo(L,{autoAlpha:0,xPercent:3},{autoAlpha:1,xPercent:0},.3).set(q,{scaleX:0,transformOrigin:"left center"},0)}r.push(h),f(0),e.forEach((y,w)=>{y.addEventListener("click",()=>{if(l){const b=y.getAttribute("data-modal-slide-target");b&&(a=!0,r.forEach(v=>{v.current&&v.current.pause()}),window.lenis&&window.lenis.stop(),l.openModal(b))}}),i&&(y.addEventListener("mouseenter",()=>{y===g&&u&&!a&&u.pause()}),y.addEventListener("mouseleave",()=>{y===g&&u&&!a&&u.resume()}))})}),l.setOnClose(()=>{a=!1,r.forEach(n=>{n.current&&n.current.resume()}),window.lenis&&window.lenis.start()})},Mt=()=>{document.querySelectorAll(".section_highlight-scroll").forEach(r=>{const a=r.querySelectorAll(".highlight-scroll_content"),d=r.querySelectorAll(".highlight-scroll_content .heading-style-h3"),o=r.querySelector(".highlight_timeline-line");if(d.length===0)return;a.forEach((t,i)=>{const c=t.querySelector(".highlight_timeline-circle");gsap.set(t,{autoAlpha:0,y:30}),c&&c.classList.remove("is-active")});const n=a[0],e=a[a.length-1];ScrollTrigger.create({trigger:n,start:"top center",endTrigger:e,end:"bottom center",scrub:1,onUpdate:t=>{const i=t.progress;o&&gsap.set(o,{scaleY:i,transformOrigin:"top center"})}}),a.forEach((t,i)=>{const c=t.querySelector(".highlight_timeline-circle");ScrollTrigger.create({trigger:t,start:"top center",toggleActions:"play none none reverse",animation:gsap.to(t,{autoAlpha:1,y:0,duration:.6,ease:"power2.out"}),onEnter:()=>{c&&c.classList.add("is-active")},onEnterBack:()=>{c&&c.classList.add("is-active")},onLeave:()=>{c&&c.classList.remove("is-active")},onLeaveBack:()=>{c&&c.classList.remove("is-active")}})})})};class Lt{constructor(r,a=0){if(!r||!(r instanceof HTMLElement))throw new Error("Invalid element provided.");this.highlightedElement=r,this.delay=a,this.animationDefaults={duration:.4,ease:"power1"},this.setInitialState(),this.initializeEffect()}setInitialState(){gsap.set(this.highlightedElement,{"--after-scale":0})}initializeEffect(){this.scroll()}scroll(){ScrollTrigger.create({trigger:this.highlightedElement,start:"top 60%",onEnter:()=>this.animateHighlight(),onEnterBack:()=>this.animateHighlight(),onLeave:()=>this.resetHighlight(),onLeaveBack:()=>this.resetHighlight()})}animateHighlight(){gsap.to(this.highlightedElement,{duration:.8,ease:"expo",delay:this.delay,"--after-scale":1})}resetHighlight(){gsap.killTweensOf(this.highlightedElement),gsap.set(this.highlightedElement,{"--after-scale":0})}}const Ct=()=>{const l=document.querySelectorAll(".section_highlight-content.is-title-waterfall .highlight-title_container"),r=document.querySelectorAll(".section_highlight-content.is-title-waterfall .highlight-content_bottom");!l.length||!r.length||(l.forEach(a=>{const d=a.querySelector(".highlight-title-heading");if(!d)return;const n=new SplitText(d,{type:"chars",charsClass:"letter"}).chars;requestAnimationFrame(()=>{const e=a.clientHeight-d.clientHeight;ScrollTrigger.create({trigger:a,pin:d,start:"top top",end:"+="+e}),n.forEach(t=>{const i=Math.random()*e;gsap.from(t,{y:i,ease:"none",scrollTrigger:{trigger:d,start:"top top",end:"+="+i,scrub:!0}})})})}),r.forEach(a=>{const d=a.querySelector(".text-size-large"),o=a.querySelector(".highlight-image_wrapper"),n=a.querySelectorAll("[data-highlight-stagger]");d&&gsap.from(d,{y:30,opacity:0,duration:.8,ease:"power2.out",scrollTrigger:{trigger:a,start:"top 80%",end:"bottom 20%",toggleActions:"play none none reverse"}}),n.forEach(e=>{new Lt(e,.5)}),o&&gsap.from(o,{scale:.8,opacity:0,duration:1.2,ease:"power2.out",scrollTrigger:{trigger:a,start:"top 50%",end:"bottom 20%",toggleActions:"play none none reverse"}})}))};function kt(){gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},r=>{const{isMobile:a,isMobileLandscape:d,isTablet:o}=r.conditions,n=gsap.context(()=>{document.querySelectorAll("[data-accent-shape]").forEach(e=>{const t=e.getAttribute("data-accent-disable");if(t==="mobile"&&a||t==="mobileLandscape"&&d||t==="tablet"&&o)return;const i=e.querySelector("[data-accent-target]")||e,c=parseFloat(e.getAttribute("data-accent-scale-start"))||0,g=parseFloat(e.getAttribute("data-accent-scale-end"))||1,s=parseFloat(e.getAttribute("data-accent-opacity-start"))||0,p=parseFloat(e.getAttribute("data-accent-opacity-end"))||1,u=e.getAttribute("data-accent-scroll-start")||"top 80%",h=e.getAttribute("data-accent-scroll-end")||"bottom 20%",m=parseFloat(e.getAttribute("data-accent-duration"))||.8,f=e.getAttribute("data-accent-ease")||"back.out(1.7)",y=e.hasAttribute("data-accent-loop"),w=parseFloat(e.getAttribute("data-accent-loop-duration"))||3,b=e.getAttribute("data-accent-loop-ease")||"none";gsap.set(i,{scale:c,opacity:s});const v=gsap.timeline({scrollTrigger:{trigger:e,start:u,end:h,toggleActions:"play none none reverse"}});v.to(i,{scale:g,opacity:p,duration:m,ease:f}),y&&v.to(i,{rotation:"+=360",duration:w,ease:b,repeat:-1},0)})});return()=>n.revert()})}const _t=()=>{document.querySelectorAll("[data-swiper-group]").forEach(r=>{const a=r.querySelector("[data-swiper-wrap]");if(!a)return;const d=r.querySelector("[data-swiper-prev]"),o=r.querySelector("[data-swiper-next]"),n=new Swiper(a,{slidesPerView:1.25,speed:600,mousewheel:!0,grabCursor:!0,autoplay:{delay:4e3,disableOnInteraction:!1,pauseOnMouseEnter:!0,waitForTransition:!0},breakpoints:{480:{slidesPerView:1.8},992:{slidesPerView:1.25}},navigation:{nextEl:o,prevEl:d},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!1}});n.autoplay&&n.autoplay.stop()})};function Pt(){const l=document.querySelectorAll(".footer-social-link");if(!l.length)return;const r={facebook:"var(--_primitives---brand--secondary--teal-main)",instagram:"var(--_primitives---brand--secondary--orange-main)",x:"var(--_primitives---brand--secondary--yellow-main)",linkedin:"var(--_primitives---brand--secondary--emerald-main)",youtube:"var(--_primitives---brand--primary--aqua-main)",buzzsprout:"var(--_primitives---brand--primary--red-main)"};l.forEach(a=>{const d=window.getComputedStyle(a).color;a.addEventListener("mouseenter",()=>{const o=It(a),n=r[o]||window.getComputedStyle(a).color;gsap.to(a,{color:n,duration:.3,ease:"power2.out"})}),a.addEventListener("mouseleave",()=>{gsap.to(a,{color:d,duration:.3,ease:"power2.out"})})})}function It(l){const r=l.getAttribute("data-link");return r?r.toLowerCase():"default"}gsap.registerPlugin(ScrollTrigger,SplitText),window.lenis=tt();const Bt=()=>{et(),rt(),at(),nt(),st(),it(),ct(),lt(),dt(),Ct(),ut(),pt(),gt(),ht(),mt(),ft(),yt(),bt(),wt(),At(),xt(),Tt(),Mt(),kt(),_t(),Pt()};document.addEventListener("DOMContentLoaded",async()=>{await document.fonts.ready,Bt()});let G;window.addEventListener("resize",()=>{clearTimeout(G),G=setTimeout(()=>{ScrollTrigger.refresh()},100)})})();
