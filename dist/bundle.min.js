(function(){"use strict";const nt=()=>{const l=new Lenis({duration:1.5,easing:s=>Math.min(1,1.001-Math.pow(2,-10*s)),orientation:"vertical",gestureOrientation:"vertical",allowNestedScroll:!0,smoothWheel:!0,wheelMultiplier:.9,smoothTouch:!1,syncTouch:!0,touchMultiplier:1,infinite:!1});return l.on("scroll",ScrollTrigger.update),gsap.ticker.add(s=>{l.raf(s*1e3)}),gsap.ticker.lagSmoothing(0),l};function K(){const l=document.querySelector("[data-modal-group-status]"),s=document.querySelectorAll("[data-modal-name]"),i=document.querySelectorAll("[data-modal-target]");i.forEach(o=>{o.addEventListener("click",function(){const a=this.getAttribute("data-modal-target");i.forEach(e=>e.setAttribute("data-modal-status","not-active")),s.forEach(e=>e.setAttribute("data-modal-status","not-active")),document.querySelector(`[data-modal-target="${a}"]`).setAttribute("data-modal-status","active"),document.querySelector(`[data-modal-name="${a}"]`).setAttribute("data-modal-status","active"),l&&l.setAttribute("data-modal-group-status","active"),window.lenis&&window.lenis.stop()})}),document.querySelectorAll("[data-modal-close]").forEach(o=>{o.addEventListener("click",p)}),document.addEventListener("keydown",function(o){o.key==="Escape"&&p()});function p(){i.forEach(o=>o.setAttribute("data-modal-status","not-active")),s.forEach(o=>o.setAttribute("data-modal-status","not-active")),l&&l.setAttribute("data-modal-group-status","not-active"),window.lenis&&window.lenis.start()}}const st=(l="img")=>new Promise(s=>{imagesLoaded(document.querySelectorAll(l),{background:!0},s)}),it=()=>{if(!document.querySelector(".section_home-header .home-header_wrapper"))return;class s{constructor(){this.dom=document.querySelector(".section_home-header"),this.grid=document.querySelector(".home-header_wrapper"),this.imageWrappers=[...document.querySelectorAll(".home-header_image-wrapper")],this.heading=document.querySelector(".home-header_heading"),this.navbar=document.querySelector(".navbar_component"),this.taglines=[...document.querySelectorAll(".tagline")],this.baseX=0,this.baseY=0}init(){this.intro()}intro(){this.centerGrid(),this.setupSplitText();const o=gsap.timeline();o.set(this.dom,{scale:.5}),o.set(this.imageWrappers,{scale:.5,autoAlpha:0}),this.taglines.length>0&&o.set(this.taglines,{yPercent:100,autoAlpha:0}),o.set(this.navbar,{y:-100,autoAlpha:0}),o.to(this.heading,{autoAlpha:1,duration:.1}),o.from(this.headingChars,{yPercent:100,autoAlpha:0,duration:2,ease:"expo.inOut",stagger:.02}),this.taglines.length>0&&o.to(this.taglines,{yPercent:0,autoAlpha:1,duration:.8,ease:"expo.out",stagger:.15},"-=1.5"),o.to(this.imageWrappers,{scale:1,autoAlpha:1,duration:.6,ease:"power3.out",stagger:{amount:1.2,from:"random"}}),o.to(this.dom,{scale:1,duration:1.2,ease:"power3.inOut"}),o.to(this.navbar,{y:0,autoAlpha:1,duration:.8,ease:"power3.out"},"-=0.4"),o.call(()=>{this.animateToPositions(),this.addEvents(),this.observeImages(),this.applyHideAfterIntro()})}animateToPositions(){const o=window.matchMedia("(max-width: 479px)").matches,a=window.matchMedia("(min-width: 480px) and (max-width: 991px)").matches,e=window.innerWidth>=992;this.imageWrappers.forEach(t=>{if(t.hasAttribute("data-hide-after")){const r=t.getAttribute("data-hide-after");if(!r||r==="mobile"&&o||r==="tablet"&&a||r==="desktop"&&e)return}gsap.to(t,{x:this.getResponsiveValue(t,"x")||0,y:this.getResponsiveValue(t,"y")||0,duration:.96,ease:"power3.inOut"})})}setupSplitText(){this.heading&&(this.splitText=SplitText.create(this.heading,{type:"chars",mask:"chars"}),this.headingChars=this.splitText.chars)}getResponsiveValue(o,a){const e=window.matchMedia("(max-width: 479px)").matches,t=window.matchMedia("(min-width: 480px) and (max-width: 991px)").matches;return e?o.dataset[`mobile${a.charAt(0).toUpperCase()+a.slice(1)}`]||o.dataset[`tablet${a.charAt(0).toUpperCase()+a.slice(1)}`]||o.dataset[a]:t&&o.dataset[`tablet${a.charAt(0).toUpperCase()+a.slice(1)}`]||o.dataset[a]}repositionImages(){this.imageWrappers.forEach(o=>{const a=this.getResponsiveValue(o,"x")||0,e=this.getResponsiveValue(o,"y")||0;gsap.set(o,{x:a,y:e})})}centerGrid(){const o=this.grid.offsetWidth,a=this.grid.offsetHeight,e=window.innerWidth,t=window.innerHeight,r=(e-o)/2,d=(t-a)/2;gsap.set(this.grid,{x:r,y:d}),this.baseX=r,this.baseY=d}addEvents(){let o,a=window.innerWidth;window.addEventListener("resize",()=>{clearTimeout(o),o=setTimeout(()=>{const t=window.innerWidth;t!==a&&(this.centerGrid(),this.repositionImages(),a=t)},200)}),window.innerWidth>=992&&this.dom.addEventListener("mousemove",t=>{const r=(t.clientX/window.innerWidth-.5)*30,d=(t.clientY/window.innerHeight-.5)*30;gsap.to(this.grid,{x:this.baseX+r,y:this.baseY+d,duration:.8,ease:"power2.out",overwrite:"auto"})})}observeImages(){if(!(window.innerWidth>=992))return;const a=.88,e=.72,t=[0,.5,.72,.88,1],r=new IntersectionObserver(d=>{d.forEach(n=>{const c=n.target,u=n.intersectionRatio;!(c.__visible===!0)&&u>=a?(c.__visible=!0,gsap.to(c,{scale:1,autoAlpha:1,duration:.8,ease:"power3.out"})):u<=e&&c.__visible!==!1&&(c.__visible=!1,gsap.to(c,{scale:.5,autoAlpha:0,duration:.6,ease:"power3.out"}))})},{threshold:t});this.imageWrappers.forEach(d=>{d.hasAttribute("data-hide-after")||r.observe(d)})}applyHideAfterIntro(){const o=window.matchMedia("(max-width: 479px)").matches,a=window.matchMedia("(min-width: 480px) and (max-width: 991px)").matches,e=window.innerWidth>=992;this.imageWrappers.forEach(t=>{if(t.hasAttribute("data-hide-after")){const r=t.getAttribute("data-hide-after");(!r||r==="mobile"&&o||r==="tablet"&&a||r==="desktop"&&e)&&gsap.to(t,{scale:.5,autoAlpha:0,duration:.6,ease:"power3.out"})}else e||gsap.set(t,{scale:1,autoAlpha:1})})}}const i=new s;st(".home-header_image").then(()=>{i.init(),document.body.classList.remove("loading")})},ct=()=>{if(typeof document>"u")return;gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},s=>{const{isMobile:i,isMobileLandscape:p,isTablet:o}=s.conditions,a=gsap.context(()=>{const e=document.querySelectorAll("[data-horizontal-scroll-wrap]");e.length&&(e.forEach(t=>{const r=t.querySelector(".foreword-ceo_image-wrapper"),d=t.querySelector(".foreword-header_accent.is-1"),n=t.querySelector(".foreword-header_accent.is-2"),c=t.querySelector(".foreword_ceo-label-wrapper");r&&gsap.set(r,{opacity:0,scale:.8}),d&&gsap.set(d,{scale:0,transformOrigin:"center"}),n&&gsap.set(n,{scale:0,transformOrigin:"center"}),c&&gsap.set(c,{opacity:0,y:20});const u=gsap.timeline({scrollTrigger:{trigger:r||t,start:"top 40%"}});r&&u.to(r,{opacity:1,scale:1,duration:.6,ease:"back.out(1.7)"},0),d&&u.to(d,{scale:1,duration:.8,ease:"back.out(1.7)"},.6),n&&u.to(n,{scale:1,duration:.8,ease:"back.out(1.7)"},.6),c&&u.to(c,{opacity:1,y:0,duration:.6,ease:"back.out(1.7)"},.6);const g=t.querySelectorAll(".shape.is-foreword-1, .shape.is-foreword-2, .shape.is-foreword-3, .shape.is-foreword-4");gsap.set(g,{scale:0});const f=t.querySelectorAll("#foreword > p");f.length&&(gsap.set(f,{opacity:0,clipPath:"circle(0% at 100% 0%)"}),f.forEach(b=>{}),f.forEach((b,E)=>{b.classList.add(`foreword-paragraph-${E}`)}))}),e.forEach(t=>{const r=t.getAttribute("data-horizontal-scroll-disable");if(r==="mobile"&&i||r==="mobileLandscape"&&p||r==="tablet"&&o){const g=t.querySelectorAll("#foreword > p");g.length&&g.forEach((x,C)=>{gsap.to(x,{opacity:1,clipPath:"circle(150% at 100% 0%)",duration:1,scrollTrigger:{trigger:x,start:"top 80%",toggleActions:"play none none none"},delay:C*.15})});const f=t.querySelector(".shape.shape--rounded.is-foreword-1"),b=t.querySelector(".shape.shape--circle.is-foreword-2"),E=t.querySelector(".shape.shape--leaf.is-foreword-3"),M=t.querySelector(".shape.shape--quarter.is-foreword-4");f&&gsap.to(f,{scale:1,duration:.6,ease:"back.out(1.7)",scrollTrigger:{trigger:g[0]||t,start:"top 60%",toggleActions:"play none none none"}}),b&&gsap.to(b,{scale:1,duration:.6,ease:"back.out(1.7)",scrollTrigger:{trigger:g[Math.floor(g.length*.33)]||t,start:"top 60%",toggleActions:"play none none none"}}),E&&gsap.to(E,{scale:1,duration:.6,ease:"back.out(1.7)",scrollTrigger:{trigger:g[Math.floor(g.length*.66)]||t,start:"top 60%",toggleActions:"play none none none"}}),M&&gsap.to(M,{scale:1,duration:.6,ease:"back.out(1.7)",scrollTrigger:{trigger:g[g.length-1]||t,start:"top 60%",toggleActions:"play none none none"}});return}const n=gsap.utils.toArray("[data-horizontal-scroll-panel]",t);if(n.length<2)return;const c=t.querySelectorAll("#foreword > p"),u=c.length;gsap.to(n,{x:()=>-(t.scrollWidth-window.innerWidth),ease:"none",scrollTrigger:{trigger:t,start:"top top",end:()=>"+="+(t.scrollWidth-window.innerWidth),scrub:!0,pin:!0,invalidateOnRefresh:!0,onUpdate:g=>{let f=Math.min(Math.max(g.progress,0),1);o&&!p&&(f=Math.pow(f,.6));const b=Math.min(Math.floor(f*u),u-1),E=t.querySelector(".shape.shape--rounded.is-foreword-1"),M=t.querySelector(".shape.shape--circle.is-foreword-2"),x=t.querySelector(".shape.shape--leaf.is-foreword-3"),C=t.querySelector(".shape.shape--quarter.is-foreword-4");f>=.2&&E&&!E.hasAttribute("data-rotating")&&(gsap.to(E,{scale:1,duration:.6,ease:"back.out(1.7)"}),gsap.to(E,{rotation:"+=360",duration:20,ease:"none",repeat:-1}),E.setAttribute("data-rotating","true")),f>=.5&&M&&!M.hasAttribute("data-rotating")&&(gsap.to(M,{scale:1,duration:.6,ease:"back.out(1.7)"}),gsap.to(M,{rotation:"+=360",duration:18,ease:"none",repeat:-1}),M.setAttribute("data-rotating","true")),f>=.8&&x&&!x.hasAttribute("data-rotating")&&(gsap.to(x,{scale:1,duration:.6,ease:"back.out(1.7)"}),gsap.to(x,{rotation:"+=360",duration:16,ease:"none",repeat:-1}),x.setAttribute("data-rotating","true")),f>=.99&&C&&!C.hasAttribute("data-rotating")&&(gsap.to(C,{scale:1,duration:.6,ease:"back.out(1.7)"}),gsap.to(C,{rotation:"+=360",duration:14,ease:"none",repeat:-1}),C.setAttribute("data-rotating","true")),c.forEach((A,h)=>{h<=b&&gsap.to(A,{opacity:1,clipPath:"circle(150% at 100% 0%)",duration:1.2})})}}})}))});return()=>a.revert()})},lt=()=>{document.querySelectorAll('[data-sticky-title="wrap"]').forEach(s=>{const i=Array.from(s.querySelectorAll('[data-sticky-title="heading"]')),p=Array.from(s.querySelectorAll(".bg-shape img")),o=gsap.timeline({scrollTrigger:{trigger:s,start:"top 40%",end:"bottom bottom",scrub:!0}}),a=.7,e=.7,t=.15;p.forEach((r,d)=>{gsap.set(r,{autoAlpha:0,scale:1.1})}),i.forEach((r,d)=>{const n=gsap.timeline();r.setAttribute("aria-label",r.textContent);const c=new SplitText(r,{type:"words,chars"});c.words.forEach(g=>g.setAttribute("aria-hidden","true")),gsap.set(r,{visibility:"visible"});const u=s.querySelector(`.bg-shape.is-${d+1} img`);if(d===0)n.fromTo(u,{autoAlpha:0,scale:1.1},{autoAlpha:1,scale:1,duration:.8,ease:"power2.out"},.2);else{const g=s.querySelector(`.bg-shape.is-${d} img`);n.to(g,{autoAlpha:0,scale:1.1,duration:.8,ease:"power2.out"},0),n.fromTo(u,{autoAlpha:0,scale:1.1},{autoAlpha:1,scale:1,duration:.8,ease:"power2.out"},.4)}n.from(c.chars,{autoAlpha:0,stagger:{amount:a,from:"start"},duration:a},d===0?0:e*.3),d<i.length-1&&n.to(c.chars,{autoAlpha:0,stagger:{amount:e,from:"end"},duration:e}),d===0?o.add(n):o.add(n,`-=${t}`)})})},dt=()=>{const l=[{cause:"Affordable Housing",count:103,percent:16},{cause:"Ageing",count:108,percent:17},{cause:"Agriculture",count:217,percent:34},{cause:"Arts & Culture",count:126,percent:20},{cause:"Climate Action & Environment",count:364,percent:58},{cause:"Conservation",count:128,percent:20},{cause:"Education",count:379,percent:60},{cause:"Employability",count:229,percent:36},{cause:"Energy",count:188,percent:30},{cause:"Financial Inclusion",count:221,percent:35},{cause:"Gender",count:254,percent:40},{cause:"Governance",count:130,percent:21},{cause:"Health & Nutrition",count:207,percent:33},{cause:"Livelihood & Poverty Alleviation",count:329,percent:52},{cause:"Water, Sanitation & Hygiene",count:185,percent:29}],s=e=>getComputedStyle(document.documentElement).getPropertyValue(e).trim(),i={Education:s("--color-education"),"Climate Action & Environment":s("--color-climate"),"Livelihood & Poverty Alleviation":s("--color-livelihood"),"Health & Nutrition":s("--color-health"),Employability:s("--color-employability"),Gender:s("--color-gender"),"Financial Inclusion":s("--color-financial-inclusion"),Agriculture:s("--color-agriculture"),Energy:s("--color-energy"),"Water, Sanitation & Hygiene":s("--color-water"),"Arts & Culture":s("--color-arts"),Governance:s("--color-governance"),Conservation:s("--color-conservation"),Ageing:s("--color-aging"),"Affordable Housing":s("--color-affordable-housing")};let p=!1;const o=(e=!1)=>{const t=document.querySelector(".supported-chart");if(!t)return;const r=t.offsetWidth,d=t.offsetHeight;d3.select(".supported-chart svg").remove();const n=window.matchMedia("(max-width: 479px)").matches,c=window.matchMedia("(max-width: 991px)").matches,u=Math.min(r,d),g=u,f=u,b=u*(n?.2:.15),E=d3.select(".supported-chart").append("svg").attr("viewBox",`0 0 ${g} ${f}`).attr("preserveAspectRatio","xMidYMid meet").style("width","100%").style("height","100%").append("g").attr("transform",`translate(${g/2},${f/2-(c?0:80)})`),M=d3.pie().sort(null).value(1),x=n?.0055:.0048;d3.arc().innerRadius(b).outerRadius(k=>b+k.data.percent*u*x).cornerRadius(10).padAngle(.035);const C=E.selectAll("path").data(M(l)).enter().append("path").attr("fill",k=>i[k.data.cause]||"#ccc").attr("d",d3.arc().innerRadius(b).outerRadius(e?b:b+(k=>k.data.percent*u*x))).attr("stroke","#fff").attr("stroke-width",2).style("cursor","pointer");e&&!p&&(p=!0,C.transition().delay((k,y)=>y*100).duration(800).ease(d3.easeCubicOut).attrTween("d",function(k){const y=d3.interpolate(b,b+k.data.percent*u*x);return function(L){return d3.arc().innerRadius(b).outerRadius(y(L)).cornerRadius(10).padAngle(.035)(k)}}));const A=(k,y)=>{const L=k.split(/\s+/);if(L.length<=2)return[k];const q=document.createElement("canvas").getContext("2d");q.font=`700 ${u*(n?.035:.02)}px sans-serif`;let _=Math.ceil(L.length/2),P=L.slice(0,_).join(" "),O=L.slice(_).join(" ");for(;_>1&&(q.measureText(P).width>y||q.measureText(O).width>y);)_--,P=L.slice(0,_).join(" "),O=L.slice(_).join(" ");return[P,O]},h=E.append("g").attr("class","supported-chart_center-text").style("pointer-events","none"),m=h.append("text").attr("class","center-cause").attr("opacity",0).style("font-size",`${u*(n?.035:.02)}px`).style("font-weight","700").style("fill","var(--color-scheme-1--text)").style("text-anchor","middle");h.append("text").attr("class","center-percent").attr("y",u*(n?.05:.025)).attr("opacity",0).style("font-size",`${u*(n?.038:.018)}px`).style("font-weight","700").style("fill","var(--_primitives---brand--primary--navy-medium)").style("text-anchor","middle");let v=null;const S=k=>{const y=A(k.data.cause,b*1.8),L=u*(n?.04:.02),q=y.length>1?u*.008:0,_=-(y.length-1)*L/2-u*.01-q;m.selectAll("*").remove(),y.forEach((P,O)=>{m.append("tspan").attr("x",0).attr("dy",O===0?0:L).text(P)}),m.attr("y",_).transition().duration(200).style("opacity",1),h.select(".center-percent").text(`${k.data.percent}%`).transition().duration(200).style("opacity",1)},w=()=>{E.selectAll("path").transition().duration(200).style("opacity",1),h.selectAll("text").transition().duration(200).style("opacity",0)};n?C.on("click",function(k,y){if(v===this){v=null,w();return}v=this,E.selectAll("path").transition().duration(200).style("opacity",.3),d3.select(this).transition().duration(200).style("opacity",1),S(y)}):C.on("mouseover",function(k,y){E.selectAll("path").transition().duration(200).style("opacity",.3),d3.select(this).transition().duration(200).style("opacity",1),S(y)}).on("mouseout",function(){w()}),document.querySelectorAll(".supported-chart_legend-color").forEach(k=>{const y=parseInt(k.dataset.index),L=l[y]?.cause;if(!L)return;const q=i[L];q&&(k.style.backgroundColor=q)});const T=E.selectAll("path");document.querySelectorAll(".supported-chart_legend-item").forEach(k=>{const y=parseInt(k.querySelector(".supported-chart_legend-color").dataset.index);n?k.addEventListener("click",()=>{const L=T.nodes()[y];if(v===L){v=null,w();return}v=L,T.transition().duration(200).style("opacity",.3),d3.select(L).transition().duration(200).style("opacity",1);const q=l[y],_=A(q.cause,b*1.8),P=u*(n?.04:.02),O=_.length>1?u*.008:0,F=-(_.length-1)*P/2-u*.01-O;m.selectAll("*").remove(),_.forEach(($,U)=>{m.append("tspan").attr("x",0).attr("dy",U===0?0:P).text($)}),m.attr("y",F).transition().duration(200).style("opacity",1),h.select(".center-percent").text(`${q.percent}%`).transition().duration(200).style("opacity",1)}):(k.addEventListener("mouseenter",()=>{T.transition().duration(200).style("opacity",.3),d3.select(T.nodes()[y]).transition().duration(200).style("opacity",1);const L=l[y],q=A(L.cause,b*1.8),_=u*(n?.04:.02),P=q.length>1?u*.008:0,O=-(q.length-1)*_/2-u*.01-P;m.selectAll("*").remove(),q.forEach((F,$)=>{m.append("tspan").attr("x",0).attr("dy",$===0?0:_).text(F)}),m.attr("y",O).transition().duration(200).style("opacity",1),h.select(".center-percent").text(`${L.percent}%`).transition().duration(200).style("opacity",1)}),k.addEventListener("mouseleave",()=>{T.transition().duration(200).style("opacity",1),h.selectAll("text").transition().duration(200).style("opacity",0)}))})};o(),gsap.timeline({scrollTrigger:{trigger:".supported-chart",start:"top 80%",once:!0,onEnter:()=>o(!0)}}),gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},()=>{const e=()=>o(p);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}})},ut=()=>{const l={name:"Beneficiary Communities",children:[{name:"Children & Youths",value:436,percent:69},{name:"Women & Girls",value:411,percent:65},{name:"People in Poverty",value:398,percent:63},{name:"Environment",value:303,percent:48},{name:"People without Employment",value:259,percent:41},{name:"People with Disabilities",value:208,percent:33},{name:"Elderly",value:196,percent:31},{name:"People with Medical Needs",value:196,percent:31},{name:"Ethnic Minorities",value:183,percent:29},{name:"Immigrants, Asylum Seekers & Refugees",value:114,percent:18},{name:"Offenders & Re-Offenders",value:44,percent:7}]},s=document.querySelector(".beneficiary-treemap");if(!s)return;gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},p=>{const{isMobile:o,isMobileLandscape:a,isTablet:e}=p.conditions,t=s.clientWidth||1e3,r=s.clientHeight||600,d=8;s.innerHTML="";const n=d3.select(s).append("svg").attr("viewBox",[0,0,t,r]).style("width","100%").style("height","100%"),c={"Children & Youths":"#00B3AD","Women & Girls":"#F17C38","People in Poverty":"#FED452",Environment:"#ADD5E0","People without Employment":"#4AC1BE","People with Disabilities":"#002943",Elderly:"#F59D6A","People with Medical Needs":"#FEE07E","Ethnic Minorities":"#86D1D1","Immigrants, Asylum Seekers & Refugees":"#80BDB4","Offenders & Re-Offenders":"#F2948C"},u=o||e||a,g=200,f=u?{...l,children:l.children.map(h=>({...h,layoutValue:Math.max(h.value,g)}))}:{...l,children:l.children.map(h=>({...h,layoutValue:h.value}))},b=d3.hierarchy(f).sum(h=>h.layoutValue).sort((h,m)=>m.layoutValue-h.layoutValue),E=o||e?d3.treemapSlice:d3.treemapBinary;d3.treemap().tile(E).size([t,r]).paddingInner(d).round(!0)(b);const M=n.selectAll("g").data(b.leaves()).join("g").attr("transform",h=>`translate(${h.x0},${h.y0})`).style("cursor","pointer").style("opacity",0),x=h=>{const m=d3.color(h);return .2126*(m.r/255)+.7152*(m.g/255)+.0722*(m.b/255)>.6?"#002943":"#ffffff"},C=(h,m)=>{h.each(function(){const v=d3.select(this),S=v.text().split(/\s+/).reverse();let w,T=[],k=0;const y=1.1,L=v.attr("y");let q=v.text(null).append("tspan").attr("x",16).attr("y",L);for(;w=S.pop();)T.push(w),q.text(T.join(" ")),q.node().getComputedTextLength()>m&&(T.pop(),q.text(T.join(" ")),T=[w],q=v.append("tspan").attr("x",16).attr("y",L).attr("dy",`${++k*y}em`).text(w))})};let A=null;M.each(function(h){const m=d3.select(this),v=c[h.data.name]||"#ccc",S=x(v),w=h.x1-h.x0,T=h.y1-h.y0,k=m.append("rect").attr("fill",v).attr("rx",10).attr("ry",10).attr("width",w).attr("height",T).style("filter","drop-shadow(0 1px 2px rgba(0,0,0,0.05))").style("transform-origin",`${w/2}px ${T/2}px`);gsap.set(k.node(),{scale:1});const y=u&&T<50,L=y?"0.75rem":u?"0.875rem":"1rem",q=y?T/2+4:24,_=m.append("text").attr("x",16).attr("y",q).attr("fill",S).attr("font-size",L).attr("font-weight",600).text(h.data.name).call(C,w-32),P=u?.95:.6;_.node().getBBox().height>T*P&&_.style("display","none");let O=null;const F=u?30:40,$=u?60:80;if(T>F&&w>$){const R=u?"0.875rem":"1.25rem";O=m.append("text").attr("x",w-16).attr("y",T-12).attr("text-anchor","end").attr("fill",S).attr("font-size",R).attr("opacity",0).text(`${Math.round(h.data.percent)}%`)}window.matchMedia("(hover: hover) and (pointer: fine)").matches?m.on("mouseenter",()=>{m.raise(),gsap.to(k.node(),{scale:1.05,duration:.25,ease:"power2.out"}),gsap.to(k.node(),{filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.15))",duration:.25,ease:"power2.out"}),gsap.to(M.nodes().filter(R=>R!==m.node()),{opacity:.3,duration:.25,ease:"power2.out"}),O&&gsap.to(O.node(),{opacity:1,duration:.25,ease:"power2.out"})}).on("mouseleave",()=>{gsap.to(k.node(),{scale:1,duration:.25,ease:"power2.out"}),gsap.to(k.node(),{filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.05))",duration:.25,ease:"power2.out"}),gsap.to(M.nodes(),{opacity:1,duration:.25,ease:"power2.out"}),O&&gsap.to(O.node(),{opacity:0,duration:.25,ease:"power2.out"})}):m.on("click",()=>{const R=A===m.node();if(A&&!R){const N=d3.select(A),G=N.select("rect"),J=N.selectAll("text").filter(function(){return d3.select(this).attr("text-anchor")==="end"});gsap.to(G.node(),{scale:1,filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.05))",duration:.25,ease:"power2.out"}),J.empty()||gsap.to(J.node(),{opacity:0,duration:.25,ease:"power2.out"})}R?(gsap.to(k.node(),{scale:1,filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.05))",duration:.25,ease:"power2.out"}),O&&gsap.to(O.node(),{opacity:0,duration:.25,ease:"power2.out"}),A=null):(m.raise(),gsap.to(k.node(),{scale:1.05,filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.15))",duration:.25,ease:"power2.out"}),O&&gsap.to(O.node(),{opacity:1,duration:.25,ease:"power2.out"}),A=m.node())})}),gsap.to(M.nodes(),{opacity:1,duration:.6,ease:"power2.out",stagger:.08,scrollTrigger:{trigger:s,start:"top 80%",toggleActions:"play none none none"}})})},pt=()=>{const l=document.querySelector(".section_new");if(!l)return;const s=l.querySelector(".new_pin-height"),i=l.querySelector(".new_layout"),p=l.querySelectorAll(".new-paragraph_item"),o=l.querySelector(".button-group");if(!s||!i||p.length===0)return;const a=Array.from(p).map(t=>new SplitText(t,{type:"words",wordsClass:"word",mask:"words"}));gsap.set(a.flatMap(t=>t.words),{yPercent:100});let e=!1;ScrollTrigger.create({trigger:l,start:"top bottom",once:!0,onEnter:()=>{e||(e=!0,requestAnimationFrame(()=>{ScrollTrigger.refresh(),ScrollTrigger.create({trigger:s,start:"top top",end:"bottom bottom",pin:i});const t=gsap.timeline({scrollTrigger:{trigger:s,start:"top top",end:"bottom bottom",scrub:!0}});a.forEach((r,d)=>{t.to(r.words,{yPercent:0,duration:1,stagger:.2,ease:"power4.out"},d>0?"+=0.5":0)}),o&&(gsap.set(o,{opacity:0,y:20}),t.to(o,{opacity:1,y:0,duration:.8,ease:"power2.out"},"+=0.3"))}))}})},gt=()=>{const l=document.querySelector(".section_word-break"),s=document.querySelector(".section_word-break .word-break-text"),i=new SplitText(s,{type:"words, chars",smartWrap:!0,wordsClass:"word",charsClass:"char"}),p=i.chars;i.words;const o=s.clientWidth-document.body.clientWidth,a=gsap.to(s,{x:-o,ease:"none",scrollTrigger:{trigger:".section_word-break .word-break_container",pin:!0,end:"+="+o,scrub:!0}});gsap.from(l,{ease:"power1.out",scrollTrigger:{trigger:".section_word-break .word-break_container",start:"top top",end:"+=200",scrub:!0}}),p.forEach(e=>{gsap.from(e,{yPercent:(Math.random()-.5)*400,rotation:(Math.random()-.5)*60,ease:"elastic.out(1.2, 1)",scrollTrigger:{trigger:e,containerAnimation:a,start:"left 90%",end:"left 10%",scrub:.5}})})};function ht(){document.querySelectorAll("[data-highlight-text]").forEach(s=>{const i=s.getAttribute("data-highlight-scroll-start")||"top 90%",p=s.getAttribute("data-highlight-scroll-end")||"center 40%";s.getAttribute("data-highlight-fade");const o=s.getAttribute("data-highlight-stagger")||.1,a=s.getAttribute("data-highlight-bg")||"#C1E6E7";new SplitText(s,{type:"words",autoSplit:!0,onSplit(e){return gsap.context(()=>{const r=[];e.words.forEach(n=>{const c=document.createElement("div");c.className="highlight-word",n.parentNode.insertBefore(c,n),c.appendChild(n),r.push(c)});let d=gsap.timeline({scrollTrigger:{scrub:!0,trigger:s,start:i,end:p}});e.words.forEach((n,c)=>{const u=r[c],g=c*o;d.set(u,{backgroundColor:a},g).to(u,{backgroundColor:a,duration:.2,ease:"linear"},g+.2).from(n,{opacity:0,duration:.2,ease:"linear"},g+.4).to(u,{backgroundColor:"transparent",duration:.3,ease:"linear"},g+.6)})})}})})}const mt=()=>{document.querySelectorAll(".section-title_component").forEach(s=>{const i=s.querySelector(".section-title_accent-shape.is-1"),p=s.querySelector(".section-title_accent-shape.is-2"),o=s.querySelector(".section-title_inner > h2");if(!i||!p||!o)return;const a=new SplitText(o,{type:"words",mask:"words"});gsap.set([i,p],{scale:0,rotation:-45,transformOrigin:"center center"}),gsap.set(a.words,{autoAlpha:0,y:30}),gsap.timeline({scrollTrigger:{trigger:s,start:"top 80%",end:"bottom 20%"}}).to(i,{scale:1,rotation:0,duration:.6,ease:"back.out(1.7)"}).to(p,{scale:1,duration:.5,ease:"back.out(1.4)"},"-=0.3").to(a.words,{autoAlpha:1,y:0,duration:.7,stagger:.08,ease:"power2.out"},"-=0.2")})},ft=()=>{const l=document.querySelector(".section_highlight-cards .highlight-card_wrapper");if(!l)return;const s=window.matchMedia("(max-width: 991px)").matches,i=document.querySelectorAll(".highlight_card"),p=i.length,o=document.querySelectorAll(".highlight_card .highlight_card-content");if(s){l.classList.add("swiper"),l.innerHTML=`<div class="swiper-wrapper">${l.innerHTML}</div>`,l.querySelectorAll(".highlight_card").forEach(n=>{n.classList.add("swiper-slide")}),new Swiper(l,{effect:"cards",grabCursor:!0,preventClicks:!1,preventClicksPropagation:!1,loop:!0,touchRatio:1.5,touchAngle:45,longSwipesRatio:.5,longSwipesMs:300,cardsEffect:{perSlideOffset:8,perSlideRotate:2,rotate:!0,slideShadows:!1}}),K();return}const a=l.clientWidth;let e=0;i.forEach(d=>{gsap.set(d,{xPercent:(Math.random()-.5)*10,yPercent:(Math.random()-.5)*10,rotation:(Math.random()-.5)*20})});const t=d=>{d<0||d>=i.length||(gsap.set(i[d],{zIndex:"auto"}),gsap.to(i[d],{xPercent:(Math.random()-.5)*10,yPercent:(Math.random()-.5)*10,rotation:(Math.random()-.5)*20,scale:1,duration:.8,ease:"elastic.out(1, 0.75)"}))},r=d=>{i.forEach((n,c)=>{gsap.set(n,{zIndex:c===d?20:"auto"})}),gsap.to(i[d],{xPercent:0,yPercent:0,rotation:0,duration:.8,scale:1.1,ease:"elastic.out(1, 0.75)"}),o.forEach((n,c)=>{c!==d?gsap.to(n,{xPercent:80/(c-d),ease:"elastic.out(1, 0.75)",duration:.8}):gsap.to(n,{xPercent:0,ease:"elastic.out(1, 0.75)",duration:.8})})};l.addEventListener("mousemove",d=>{const c=(d.clientX-l.getBoundingClientRect().left)/a,u=Math.ceil(c*p);e!==u&&u>0&&u<=p&&(e!==0&&t(e-1),e=u,r(e-1))}),l.addEventListener("mouseleave",()=>{e>0&&t(e-1),e=0,gsap.to(o,{xPercent:0,ease:"elastic.out(1, 0.75)",duration:.8})})};function yt(){(()=>{const i=document.querySelector(".section_work");if(!i)return;const p=i.querySelectorAll(".work_list > *"),o=i.querySelector(".button");if(!p.length||!o)return;if(window.matchMedia("(max-width: 479px)").matches){p.forEach((t,r)=>{const d=r%2===0;gsap.set(t,{opacity:0,x:d?100:-100})}),gsap.set(o,{opacity:0,y:30});const e=gsap.timeline({scrollTrigger:{trigger:i,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}});p.forEach((t,r)=>{e.to(t,{opacity:1,x:0,duration:.6,ease:"power2.out"},r*.15)}),e.to(o,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.3")}else gsap.set([...p,o],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:i,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(p,{opacity:1,y:0,duration:.6,ease:"power2.out",stagger:.15}).to(o,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.3")})();const s={top:"translateY(-100%)",bottom:"translateY(100%)",left:"translateX(-100%)",right:"translateX(100%)"};document.querySelectorAll("[data-directional-hover]").forEach(i=>{const p=i.getAttribute("data-type")||"all";i.querySelectorAll("[data-directional-hover-item]").forEach(a=>{const e=a.querySelector("[data-directional-hover-tile]");e&&(a.addEventListener("mouseenter",t=>{const r=o(t,a,p);e.style.transition="none",e.style.transform=s[r]||"translate(0, 0)",e.offsetHeight,e.style.transition="",e.style.transform="translate(0%, 0%)",a.setAttribute("data-status",`enter-${r}`)}),a.addEventListener("mouseleave",t=>{const r=o(t,a,p);a.setAttribute("data-status",`leave-${r}`),e.style.transform=s[r]||"translate(0, 0)"}))});function o(a,e,t){const{left:r,top:d,width:n,height:c}=e.getBoundingClientRect(),u=a.clientX-r,g=a.clientY-d;if(t==="y")return g<c/2?"top":"bottom";if(t==="x")return u<n/2?"left":"right";const f={top:g,right:n-u,bottom:c-g,left:u};return Object.entries(f).reduce((b,E)=>b[1]<E[1]?b:E)[0]}})}function wt(){let i=!1;const p=[];(()=>{const e=document.querySelector(".section_partners");if(!e)return;const t=e.querySelector(".partners_top .text-size-large"),r=e.querySelector(".partners_bottom .text-size-large"),d=e.querySelector(".partners_bottom .button"),n=e.querySelector(".partners-logo-wall_component");!t||!r||!d||!n||(gsap.set([t,r,d,n],{opacity:0,y:30}),gsap.to(t,{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}),gsap.to(n,{opacity:1,y:0,duration:.8,ease:"power2.out",scrollTrigger:{trigger:n,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse",refreshPriority:-1},onComplete:()=>{i=!0,p.forEach(c=>c())}}),gsap.to(r,{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:r,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}),gsap.to(d,{opacity:1,y:0,duration:.6,ease:"power2.out",scrollTrigger:{trigger:d,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}))})(),document.querySelectorAll("[data-logo-wall-cycle-init]").forEach(e=>{const t=e.querySelector("[data-logo-wall-list]"),r=Array.from(t.querySelectorAll("[data-logo-wall-item]")),d=e.getAttribute("data-logo-wall-shuffle")!=="false";let n=r.map(v=>v.querySelector("[data-logo-wall-target]")).filter(Boolean);if(n.length===0&&(r.map(S=>S.querySelector("[data-logo-wall-target-parent]")).filter(Boolean).forEach(S=>{if(!S.querySelector("[data-logo-wall-target]")){const w=document.createElement("div");w.setAttribute("data-logo-wall-target",""),S.appendChild(w)}}),n=r.map(S=>S.querySelector("[data-logo-wall-target]")).filter(Boolean)),n.length===0)return;let c=[],u=0,g=[],f=[],b=0,E;function M(v){return window.getComputedStyle(v).display!=="none"}function x(v){const S=v.slice();for(let w=S.length-1;w>0;w--){const T=Math.floor(Math.random()*(w+1));[S[w],S[T]]=[S[T],S[w]]}return S}function C(){E&&E.kill(),c=r.filter(M),u=c.length,f=x(Array.from({length:u},(w,T)=>T)),b=0,r.forEach(w=>{w.querySelectorAll("[data-logo-wall-target]").forEach(T=>T.remove())}),g=n.map(w=>w.cloneNode(!0));let v,S;if(d){const w=x(g);v=w.slice(0,u),S=x(w.slice(u))}else v=g.slice(0,u),S=x(g.slice(u));g=v.concat(S);for(let w=0;w<u;w++)(c[w].querySelector("[data-logo-wall-target-parent]")||c[w]).appendChild(g.shift());E=gsap.timeline({repeat:-1,paused:!0}),E.call(A),E.to({},{duration:.9+1})}function A(){if(r.filter(M).length!==u){C();return}if(!g.length)return;const S=f[b%u];b++;const w=c[S],T=w.querySelector("[data-logo-wall-target-parent]")||w.querySelector("*:has(> [data-logo-wall-target])")||w;if(T.querySelectorAll("[data-logo-wall-target]").length>1)return;const y=T.querySelector("[data-logo-wall-target]"),L=g.shift();gsap.set(L,{yPercent:50,autoAlpha:0}),T.appendChild(L),y&&gsap.to(y,{yPercent:-50,autoAlpha:0,duration:.9,ease:"expo.inOut",onComplete:()=>{y.remove(),g.push(y)}}),gsap.to(L,{yPercent:0,autoAlpha:1,duration:.9,delay:.1,ease:"expo.inOut"})}C();let h;ScrollTrigger.addEventListener("refreshInit",()=>{h&&h.kill()});const m=()=>{if(!i){p.push(m);return}h=ScrollTrigger.create({trigger:e,start:"top bottom",end:"bottom top",onEnter:()=>{E.play()},onLeave:()=>{E.pause()},onEnterBack:()=>{E.play()},onLeaveBack:()=>{E.pause()}}),h.isActive&&E.play()};document.readyState==="complete"?(ScrollTrigger.refresh(),gsap.delayedCall(.3,m)):window.addEventListener("load",()=>{ScrollTrigger.refresh(),gsap.delayedCall(.3,m)}),document.addEventListener("visibilitychange",()=>{document.hidden?E.pause():h&&h.isActive&&E.play()})})}function bt(){(()=>{const i=document.querySelector(".section_team");if(!i)return;const p=i.querySelector(".team_top .text-size-large"),o=i.querySelector(".filter-group");if(!p||!o)return;gsap.set([p,o],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:i,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(p,{opacity:1,y:0,duration:.8,ease:"power3.out"}).to(o,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.4")})(),document.querySelectorAll("[data-filter-group]").forEach(i=>{const p=i.querySelectorAll("[data-filter-target]"),o=i.querySelectorAll("[data-filter-name]"),a=300,e=r=>{o.forEach(d=>{const c=d.getAttribute("data-filter-name")===r;d.getAttribute("data-filter-status")==="active"&&!c?(d.setAttribute("data-filter-status","transition-out"),setTimeout(()=>{d.setAttribute("data-filter-status","not-active"),d.setAttribute("aria-hidden","true")},a)):c&&setTimeout(()=>{d.setAttribute("data-filter-status","active"),d.setAttribute("aria-hidden","false")},a)}),p.forEach(d=>{const n=d.getAttribute("data-filter-target")===r;d.setAttribute("data-filter-status",n?"active":"not-active"),d.setAttribute("aria-pressed",n?"true":"false")})};p.forEach(r=>{r.addEventListener("click",()=>{const d=r.getAttribute("data-filter-target");r.getAttribute("data-filter-status")!=="active"&&e(d)})});const t=p[0];t&&e(t.getAttribute("data-filter-target"))})}const vt=()=>{const l=gsap.utils.toArray("[data-bg-transition]");if(!l.length)return;const s=l.map(i=>i.style.backgroundColor||window.getComputedStyle(i).backgroundColor);l.forEach((i,p)=>{const o=l[p+1];if(!o)return;const a=p===0?s[0]:s[p],e=s[p+1];o.style.backgroundColor=a,gsap.set(o,{backgroundColor:a}),gsap.to(o,{backgroundColor:e,duration:.4,ease:"power1.inOut",scrollTrigger:{trigger:o,start:"top 50%",toggleActions:"play complete none reverse"}})})},At=()=>{if(typeof Matter>"u"){console.warn("Matter.js is not loaded. Falling2D animation will not initialize.");return}const l=()=>{const y=document.querySelector("#canvas-target");if(y&&!y.hasAttribute("data-matter-initialized")){const L=y.closest(".footer_component");if(L){const q=L.getBoundingClientRect();q.top<window.innerHeight&&q.bottom>0?(k(y),y.setAttribute("data-matter-initialized","true")):setTimeout(l,1e3)}}};setTimeout(l,4e3);const s=Matter.Engine,i=Matter.Render,p=Matter.Runner,o=Matter.Bodies,a=Matter.Composite,e=Matter.Events;let t,r,d,n,c,u,g,f,b,E,M,x,C;const A=["#00b4ae","#007b69","#f27c38","#ffd552","#91c7d6"],h=2,m=25,v=.65,S=(y,L)=>Math.random()*(L-y)+y,w=()=>{if(t&&s.clear(t),r&&i.stop(r),d&&p.stop(d),f&&window.removeEventListener("resize",f),b&&E){const y=document.querySelector("#canvas-target");y&&(y.removeEventListener("mousemove",b),y.removeEventListener("mouseleave",E),y.removeEventListener("touchstart",M),y.removeEventListener("touchmove",x),y.removeEventListener("touchend",C))}},T=(y,L,q,_)=>{const P=[];for(let F=0;F<=20;F++){const $=Math.PI*(F/20);P.push({x:Math.cos($)*q,y:-Math.sin($)*q})}return P.push({x:-q,y:0}),o.fromVertices(y,L,[P],{restitution:v,render:{fillStyle:_,strokeStyle:_}})},k=y=>{w();const L=y.getBoundingClientRect(),q=L.width,_=L.height,P=q/4,O=window.matchMedia("(max-width:479px)").matches,F=window.matchMedia("(max-width:991px)").matches,$=O?2:F?1.2:1,U=O?Math.round(m*.6):F?Math.round(m*1):m,R=q/15*$,N=R/2,G=q-R/2;t=s.create();const Rt=Math.min(Math.max(_/900,.4),1.2);t.world.gravity.y=h*Rt,t.timing.timeScale=.9,r=i.create({element:y,engine:t,options:{background:"transparent",wireframes:!1,width:q,height:_,pixelRatio:window.devicePixelRatio||2}}),r.canvas.width=q*(window.devicePixelRatio||2),r.canvas.height=_*(window.devicePixelRatio||2),r.canvas.style.width=`${q}px`,r.canvas.style.height=`${_}px`,n=o.rectangle(q/2,-P,q*2,P*2,{isStatic:!0}),c=o.rectangle(q/2,_+P,q*2,P*2,{isStatic:!0}),u=o.rectangle(-P,_/2,P*2,_*2,{isStatic:!0}),g=o.rectangle(q+P,_/2,P*2,_*2,{isStatic:!0}),a.add(t.world,[n,c,u,g]);const Dt=()=>{const D=A[Math.floor(Math.random()*A.length)],H=Math.random();if(H<.25){const I=R*(.3+Math.random()*.95),z=o.circle(S(N,G),-R,I,{restitution:v,render:{fillStyle:D,strokeStyle:D}});a.add(t.world,z)}else if(H<.5){const I=R*(.3+Math.random()*.95),z=T(S(N,G),-R,I,D);a.add(t.world,z)}else if(H<.75){const I=R*(.5+Math.random()*.75),z=o.rectangle(S(N,G),-R,I,I,{chamfer:{radius:I*.15},restitution:v,render:{fillStyle:D,strokeStyle:D}});a.add(t.world,z)}else{const I=R*(.5+Math.random()*.75),z=I*.15,V=Math.floor(Math.random()*4),W=z*(.5+Math.random()*.5),B=W*3,Y=[W,W,W,W];Y[V]=B;const j=o.rectangle(S(N,G),-R,I,I,{chamfer:{radius:Y},restitution:v,render:{fillStyle:D,strokeStyle:D}});a.add(t.world,j)}};d=p.create(),i.run(r),p.run(d,t);let Z=0;const tt=()=>{Z<U&&(Dt(),Z++,setTimeout(tt,100))};if(setTimeout(tt,100),O){let D=0;const H=6e3;e.on(t,"afterUpdate",()=>{const I=Date.now();if(I-D>H){D=I;const z=a.allBodies(t.world).filter(W=>!W.isStatic),V=Math.floor(Math.random()*5)+2;for(let W=0;W<V;W++){const B=z[Math.floor(Math.random()*z.length)];B&&Matter.Body.setVelocity(B,{x:B.velocity.x+(Math.random()-.5)*2.5,y:Math.min(B.velocity.y-(5+Math.random()*6),-7)})}}})}else{let D=0,H=0,I=!1,z="ontouchstart"in window;const V=B=>{const Y=y.getBoundingClientRect(),j=B.touches?B.touches[0].clientX:B.clientX,X=B.touches?B.touches[0].clientY:B.clientY;D=j-Y.left,H=X-Y.top,I=!0},W=()=>{I=!1};b=B=>{z||V(B)},E=()=>{z||W()},M=B=>{B.preventDefault(),V(B)},x=B=>{B.preventDefault(),V(B)},C=B=>{B.preventDefault(),W()},y.addEventListener("mousemove",b),y.addEventListener("mouseleave",E),y.addEventListener("touchstart",M,{passive:!1}),y.addEventListener("touchmove",x,{passive:!1}),y.addEventListener("touchend",C,{passive:!1}),e.on(t,"afterUpdate",()=>{if(!I)return;const B=a.allBodies(t.world).filter(X=>!X.isStatic),Y=z?200:150,j=z?.15:.2;B.forEach(X=>{const ot=X.position.x-D,at=X.position.y-H,rt=Math.sqrt(ot*ot+at*at);if(rt<Y){const zt=(1-rt/Y)*j;Matter.Body.setVelocity(X,{x:X.velocity.x,y:Math.min(X.velocity.y-zt,-15)})}})})}let et;f=()=>{clearTimeout(et),et=setTimeout(()=>{p.stop(d);const D=y.getBoundingClientRect(),H=D.width,I=D.height;r.canvas.width=H*(window.devicePixelRatio||2),r.canvas.height=I*(window.devicePixelRatio||2),r.canvas.style.width=`${H}px`,r.canvas.style.height=`${I}px`,a.allBodies(t.world).filter(W=>!W.isStatic).forEach(W=>{const B=Math.max(50,Math.min(W.position.x,H-50)),Y=Math.max(50,Math.min(W.position.y,I-50));Matter.Body.setPosition(W,{x:B,y:Y}),Matter.Body.setVelocity(W,{x:0,y:0})}),a.remove(t.world,[n,c,u,g]);const V=H/4;n=o.rectangle(H/2,-V,H*2,V*2,{isStatic:!0}),c=o.rectangle(H/2,I+V,H*2,V*2,{isStatic:!0}),u=o.rectangle(-V,I/2,V*2,I*2,{isStatic:!0}),g=o.rectangle(H+V,I/2,V*2,I*2,{isStatic:!0}),a.add(t.world,[n,c,u,g]),p.run(d,t)},200)},window.addEventListener("resize",f)};{const y=()=>{const L=document.querySelector(".footer_component"),q=document.querySelector("#canvas-target");if(!L||!q){console.warn("Footer section or canvas target not found. Falling back to load event initialization."),window.addEventListener("load",()=>{q&&k(q)});return}const _=new IntersectionObserver(P=>{P.forEach(O=>{O.isIntersecting&&(q&&!q.hasAttribute("data-matter-initialized")&&(k(q),q.setAttribute("data-matter-initialized","true")),_.disconnect())})},{root:null,rootMargin:"0px 0px -20% 0px",threshold:.1});_.observe(L)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{setTimeout(y,1e3)}):setTimeout(y,1e3)}return{cleanup:w}},St=()=>{const l=window.innerWidth,s=document.querySelector(".section_image-break .image-break_wrapper"),i=s.querySelectorAll(".image-break_media"),p=document.querySelector(".section_image-break .image-break_text");let o;p&&(o=new SplitText(p,{type:"chars"}).chars,gsap.set(o,{opacity:0,yPercent:100})),i.forEach(t=>{gsap.set(t,{x:(Math.random()-.5)*.16*l,y:(Math.random()-.5)*.1*l})});const a=s.clientWidth-document.body.clientWidth,e=gsap.to(s,{x:-a,ease:"none",scrollTrigger:{trigger:s.parentNode,pin:!0,scrub:!0,end:"+="+a}});if(i.forEach(t=>{gsap.from(t,{rotation:(Math.random()-.5)*80,yPercent:(Math.random()-.5)*300,xPercent:Math.random()*400,ease:"power1.out",scrollTrigger:{trigger:t,containerAnimation:e,start:"left 110%",end:"left 65%",scrub:!0}}),gsap.fromTo(t,{rotation:0,yPercent:0,xPercent:0},{rotation:(Math.random()-.5)*80,yPercent:(Math.random()-.5)*300,xPercent:-Math.random()*400,ease:"power1.in",scrollTrigger:{trigger:t,containerAnimation:e,start:"right 35%",end:"right -10%",scrub:!0}})}),o&&i.length>0){const t=Math.floor(o.length/2),r=i[i.length-1];gsap.to(o,{opacity:1,yPercent:0,duration:1.2,ease:"back.out(2.5)",stagger:{amount:.8,from:t,ease:"power2.out"},scrollTrigger:{trigger:r,containerAnimation:e,start:"left center",toggleActions:"play none none none"}})}};function xt(){document.querySelectorAll(".members-content_wrapper").forEach(l=>{const s=l.querySelector(".members-number");if(!s)return;const i=s.querySelector("span:first-child");if(!i)return;const p=parseFloat(s.getAttribute("data-count-start"))||0,o=parseFloat(s.getAttribute("data-count-end"))||parseFloat(i.textContent.replace(/,/g,""));i.textContent=p,i.classList.add("odometer");const a=new Odometer({el:i,value:p,format:"(,ddd)",duration:2e3});l.odometerInstance={odometer:a,endValue:o}})}const Et=()=>{xt();const l=Tt();Mt(l)},Tt=()=>{const l=document.querySelectorAll("[cs-element='tab-item']"),s=document.querySelector("[cs-element='tab-main']");if(!s)return;s.setAttribute("data-member-color","");const i=s.querySelector("h3.heading-style-h6"),p=s.querySelector(".member-tab-center_icon"),o=s.querySelector("p");if(!i||!p||!o)return;let a=0,e,t;const r=x=>{const C=x.querySelector(".members-tab_icon-wrapper"),A=x.querySelector(".tab-title-small"),h=x.querySelector(".members-tab_description > p");if(!C||!A||!h)return;const m=C.innerHTML,S=A.innerHTML.replace(/<br\s*\/?>/gi," ").replace(/\/\s+/g,"/"),w=h.textContent,T=x.getAttribute("data-member-color");i.innerText!==S&&(i.innerHTML=S,p.innerHTML=m,o.textContent=w,s.parentNode.setAttribute("data-member-color",T),gsap.fromTo(s.parentNode,{scale:.8,opacity:0},{scale:1,opacity:1,duration:.6,ease:"back.out(1.4)"}))},d=(x=8e3)=>{t=setTimeout(()=>{a=(a+1)%l.length,r(l[a]),e=setInterval(()=>{a=(a+1)%l.length,r(l[a])},1e4)},x)},n=()=>{clearTimeout(t),clearInterval(e),d()},c=window.matchMedia("(max-width: 479px)").matches,u=window.matchMedia("(hover: hover) and (pointer: fine)").matches,g=s.parentNode,f=document.querySelector("[data-member-backdrop]"),b=document.querySelector("[data-member-close]"),E=()=>{g&&(g.style.display="flex",gsap.fromTo(g,{scale:.8,opacity:0},{scale:1,opacity:1,duration:.4,ease:"back.out(1.4)"})),f&&(f.style.display="block",gsap.fromTo(f,{opacity:0},{opacity:.5,duration:.3,ease:"power2.out"})),window.lenis&&window.lenis.stop()},M=()=>{g&&gsap.to(g,{scale:.8,opacity:0,duration:.3,ease:"power2.in",onComplete:()=>{g.style.display="none"}}),f&&gsap.to(f,{opacity:0,duration:.3,ease:"power2.in",onComplete:()=>{f.style.display="none"}}),window.lenis&&window.lenis.start()};return c&&(b&&b.addEventListener("click",M),f&&f.addEventListener("click",M)),l.forEach((x,C)=>{c?x.addEventListener("click",()=>{a=C,r(x),E()}):u?(x.addEventListener("mouseenter",()=>{a=C,r(x),n()}),x.addEventListener("mouseleave",()=>{n()})):x.addEventListener("click",()=>{a=C,r(x),n()})}),c?null:d},Mt=l=>{const s=document.querySelectorAll(".members-content_wrapper"),i=document.querySelectorAll("[cs-element='tab-item']"),p=document.querySelector("[data-member-tab-center]"),o=window.matchMedia("(max-width: 479px)").matches;s.forEach(a=>{if(!a.odometerInstance)return;const e=a.querySelector("[data-member-heading]"),t=a.querySelector("[data-member-button]");if(!e||!t)return;const r=Array.from(i),d=Math.floor(r.length/2),n=[...r.slice(0,d),p,...r.slice(d)];gsap.set([e,t],{opacity:0,y:30}),gsap.set(n,{opacity:0,scale:0}),gsap.timeline({scrollTrigger:{trigger:a,start:"top 80%",once:!0},onComplete:()=>{l&&l(2e3)}}).call(()=>{a.odometerInstance.odometer.update(a.odometerInstance.endValue)}).to([e,t],{opacity:1,y:0,duration:.8,stagger:.2,ease:"power2.out"},"+=0.3").to(n,{opacity:1,scale:1,duration:1.2,stagger:{amount:.8,from:o?"start":"center"},ease:"back.out(1.4)"},"<")})},qt=()=>{const l=document.querySelector(".regions_wrapper"),s=document.querySelector(".region_button-wrapper"),i=Array.from(document.querySelectorAll(".region_button")),p=Array.from(document.querySelectorAll(".regions_base.is-overlay")),o=Array.from(document.querySelectorAll(".regions-reflections_item")),a=document.querySelector(".regions-reflections_list"),e=document.querySelector(".regions-content_track");if(!i.length||!p.length)return;if(l&&s){const A=Array.from(s.children),h=window.innerWidth<=767;h&&gsap.set(l,{clearProps:"transform"}),gsap.timeline().from(l,{scale:.8,autoAlpha:0,duration:1.5,ease:"back.out(1.7)",clearProps:h?"transform":""}).from(A,{autoAlpha:0,y:20,duration:1.2,stagger:.1,ease:"back.out(1.7)",clearProps:h?"transform":""},"+=0.05")}const t=A=>{const h=A.className.match(/is-(?!overlay)([a-z0-9-]+)/i);return h?h[1]:""},r=A=>(A.getAttribute("data-region")||t(A)).trim(),d=new Map,n=new Map;if(p.forEach(A=>{const h=r(A);h&&d.set(h,A)}),o.forEach(A=>{const h=r(A);h&&n.set(h,A)}),!d.size)return;gsap.set([...d.values()],{autoAlpha:0,pointerEvents:"none"});const c=window.innerWidth<=767;n.size&&(c?(gsap.set([...n.values()],{autoAlpha:0,y:"100%",display:"none"}),a&&(a.style.visibility="hidden")):gsap.set([...n.values()],{autoAlpha:0}));let u,g,f,b;const E=(A,h,m)=>{if(b&&(clearTimeout(b),b=null),u===A&&g===h)return;const v=u,S=g;v&&(gsap.killTweensOf(v),gsap.to(v,{autoAlpha:0,duration:.2,onComplete:()=>gsap.set(v,{display:"none"})})),S&&(gsap.killTweensOf(S),gsap.to(S,{autoAlpha:0,duration:.2})),u=A,g=h,f&&f.classList.remove("is-active"),f=m||null,f&&f.classList.add("is-active"),u&&(gsap.killTweensOf(u),gsap.set(u,{display:"block"}),gsap.fromTo(u,{autoAlpha:0},{autoAlpha:1,duration:.3})),g&&(gsap.killTweensOf(g),gsap.fromTo(g,{autoAlpha:0,scale:.8},{autoAlpha:1,scale:1,duration:.5,ease:"back.out(1.7)"}))},M=()=>window.innerWidth<=767,x=(A,h)=>{if(!A||!a)return;window.lenis&&window.lenis.stop();const m=a.querySelector("[data-modal-region-close]");m&&gsap.set(m,{autoAlpha:0}),p.forEach(v=>{gsap.set(v,{autoAlpha:0,pointerEvents:"none"})}),o.forEach(v=>{v!==A?gsap.set(v,{autoAlpha:0,y:"100%",display:"none"}):gsap.set(v,{display:"flex"})}),h&&(gsap.set(h,{display:"block"}),gsap.to(h,{autoAlpha:1,duration:.3})),a.style.visibility="visible",gsap.killTweensOf(A),gsap.fromTo(A,{autoAlpha:0,y:"100%"},{autoAlpha:1,y:"0%",duration:.4,ease:"power2.out",onComplete:()=>{m&&gsap.to(m,{autoAlpha:1,duration:.2})}})},C=()=>{if(!a)return;const A=o.find(m=>gsap.getProperty(m,"opacity")>0);if(!A)return;const h=a.querySelector("[data-modal-region-close]");h?gsap.to(h,{autoAlpha:0,duration:.2,onComplete:()=>{p.forEach(m=>{gsap.killTweensOf(m),gsap.to(m,{autoAlpha:0,duration:.2,onComplete:()=>gsap.set(m,{display:"none"})})}),gsap.killTweensOf(A),gsap.to(A,{autoAlpha:0,y:"100%",duration:.3,ease:"power2.in",onComplete:()=>{gsap.set(A,{display:"none"}),a.style.visibility="hidden",window.lenis&&window.lenis.start()}})}}):(p.forEach(m=>{gsap.killTweensOf(m),gsap.to(m,{autoAlpha:0,duration:.2,onComplete:()=>gsap.set(m,{display:"none"})})}),gsap.killTweensOf(A),gsap.to(A,{autoAlpha:0,y:"100%",duration:.3,ease:"power2.in",onComplete:()=>{gsap.set(A,{display:"none"}),a.style.visibility="hidden",window.lenis&&window.lenis.start()}}))};if(i.forEach((A,h)=>{const m=r(A),v=d.get(m),S=n.get(m);v&&(A.addEventListener("click",()=>{if(M()){if(e){const w=A.getAttribute("data-scroll-align")||"end";let T;w==="start"?T=0:w==="center"?T=(e.scrollWidth-e.clientWidth)/2:T=e.scrollWidth-e.clientWidth,e.scrollTo({left:T,behavior:"smooth"})}S&&x(S,v)}}),A.addEventListener("mouseenter",()=>{M()||E(v,S,A)}),A.addEventListener("mouseleave",()=>{!M()&&u===v&&(b=setTimeout(()=>{E(null,null,null)},100))}))}),a){const A=a.querySelector("[data-modal-region-close]");A&&A.addEventListener("click",h=>{h.stopPropagation(),C()}),a.addEventListener("click",h=>{h.target===a&&C()})}};function kt(){const l=document.querySelector("[data-modal-slide-group]");if(!l)return null;const s=l.querySelectorAll("[data-modal-slide-name]"),i=l.querySelectorAll("[data-modal-slide-target]"),p=l.querySelectorAll("[data-modal-slide-close]"),o=c=>{c.querySelectorAll("[data-odometer]").forEach(g=>{const f=parseFloat(g.getAttribute("data-count-start"))||0,b=parseFloat(g.getAttribute("data-count-end"))||parseFloat(g.textContent.replace(/,/g,"")),E=parseFloat(g.getAttribute("data-duration"))||2e3,M=g.getAttribute("data-format")||"(,ddd)";g.textContent=f,g.classList.add("odometer");const x=new Odometer({el:g,value:f,format:M,duration:E});g.odometerInstance={odometer:x,endValue:b,hasAnimated:!1}})},a=c=>{const u=c.querySelectorAll("[data-odometer]"),g=new IntersectionObserver(f=>{f.forEach(b=>{if(b.isIntersecting&&!b.target.odometerInstance.hasAnimated){const{odometer:E,endValue:M}=b.target.odometerInstance;E.update(M),b.target.odometerInstance.hasAnimated=!0,g.unobserve(b.target)}})},{threshold:.5,rootMargin:"0px 0px -10% 0px"});u.forEach(f=>{g.observe(f)})};s.forEach(c=>{o(c),a(c)});const e=c=>{const u=l.querySelector(`[data-modal-slide-name="${c}"]`);u&&(s.forEach(f=>{f!==u&&r(f),f.setAttribute("data-modal-slide-status","not-active")}),u.setAttribute("data-modal-slide-status","active"),l.setAttribute("data-modal-slide-group","active"),gsap.set(u,{opacity:1}),gsap.fromTo(u,{y:"100%"},{y:"0%",duration:.6,ease:"power3.out"}),u.querySelectorAll("[data-swiper-wrap]").forEach(f=>{const b=f.swiper;b&&b.autoplay&&b.autoplay.start()}))};let t=null;const r=c=>{c.querySelectorAll("iframe").forEach(g=>{const f=g.dataset.src||g.src;g.src="",setTimeout(()=>{g.src=f},100)})},d=()=>{const c=l.querySelector('[data-modal-slide-name][data-modal-slide-status="active"]');c&&(r(c),gsap.to(c,{y:"100%",duration:.5,ease:"power3.in",onComplete:()=>{c.querySelectorAll("[data-swiper-wrap]").forEach(g=>{const f=g.swiper;f&&f.autoplay&&f.autoplay.stop()}),i.forEach(g=>g.setAttribute("data-modal-slide-status","not-active")),s.forEach(g=>g.setAttribute("data-modal-slide-status","not-active")),l.setAttribute("data-modal-slide-group","not-active"),gsap.set(c,{opacity:0}),t&&t()}}))};return i.forEach(c=>{c.addEventListener("click",function(){e(this.getAttribute("data-modal-slide-target"))})}),p.forEach(c=>c.addEventListener("click",d)),document.addEventListener("keydown",c=>{c.key==="Escape"&&l.getAttribute("data-modal-slide-group")==="active"&&d()}),{openModal:e,closeModals:d,setOnClose:c=>{t=c}}}const Lt=()=>{const l=kt(),s=[];let i=!1;gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)",hasHover:"(hover: hover) and (pointer: fine)"},o=>{const{isMobile:a,isTablet:e,hasHover:t}=o.conditions;(()=>{const n=document.querySelector(".section_events .events_top .text-size-medium"),c=document.querySelectorAll(".events_list-wrapper > *"),u=document.querySelector(".events_bottom .button");if(!n||!c.length||!u)return;gsap.set([n,u],{opacity:0,y:30}),gsap.set(c,{y:30}),gsap.timeline({scrollTrigger:{trigger:".section_events",start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(n,{opacity:1,y:0,duration:.8,ease:"power3.out"}).to(c,{y:0,duration:.6,ease:"power2.out",stagger:.15},"-=0.4").to(u,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.2")})(),document.querySelectorAll('[data-tabs="wrapper"]').forEach(n=>{const c=n.querySelectorAll('[data-tabs="content-item"]'),u=n.querySelectorAll('[data-tabs="visual-item"]'),g=n.dataset.tabsAutoplay==="true",f=parseInt(n.dataset.tabsAutoplayDuration)||5e3;let b=null,E=null,M=!1,x=null;const C={current:null};function A(m){x&&x.kill(),c.forEach(S=>{const w=S.querySelector('[data-tabs="item-progress"]');w&&gsap.set(w,{scaleX:0})});const v=c[m].querySelector('[data-tabs="item-progress"]');v&&(gsap.set(v,{scaleX:0,transformOrigin:"left center"}),x=gsap.to(v,{scaleX:1,duration:f/1e3,ease:"power1.inOut",onComplete:()=>{if(!M){const S=(m+1)%c.length;h(S)}}}),C.current=x)}function h(m){if(M||c[m]===b)return;M=!0,x&&x.kill();const v=b,S=E,w=v?.querySelector('[data-tabs="item-progress"]'),T=c[m],k=u[m],y=T.querySelector('[data-tabs="item-progress"]');v?.classList.remove("is-active"),S?.classList.remove("is-active"),T.classList.add("is-active"),k.classList.add("is-active");const L=gsap.timeline({defaults:{duration:.65,ease:"power3"},onComplete:()=>{b=T,E=k,M=!1,g&&A(m)}});v&&(v.classList.remove("is-active"),S?.classList.remove("is-active"),L.set(w,{transformOrigin:"right center"}).to(w,{scaleX:0,duration:.3},0).to(S,{autoAlpha:0,xPercent:3},0)),T.classList.add("is-active"),k.classList.add("is-active"),L.fromTo(k,{autoAlpha:0,xPercent:3},{autoAlpha:1,xPercent:0},.3).set(y,{scaleX:0,transformOrigin:"left center"},0)}s.push(C),h(0),c.forEach((m,v)=>{if(m.addEventListener("click",()=>{if(l){const S=m.getAttribute("data-modal-slide-target");S&&(i=!0,s.forEach(w=>{w.current&&w.current.pause()}),window.lenis&&window.lenis.stop(),l.openModal(S))}}),g&&t){let S=null,w=null;m.addEventListener("mouseenter",()=>{c.forEach(k=>{k!==m&&k.classList.remove("is-active")}),m.classList.add("is-active");const T=u[v];T&&T!==E&&(w=E,S=T,gsap.to(w,{autoAlpha:0,xPercent:3,duration:.65,ease:"power3"}),gsap.fromTo(S,{autoAlpha:0,xPercent:3},{autoAlpha:1,xPercent:0,duration:.65,ease:"power3"})),x&&!i&&x.pause()}),m.addEventListener("mouseleave",()=>{c.forEach(T=>{T.classList.remove("is-active")}),b&&b.classList.add("is-active"),S&&w&&S!==E&&(gsap.to(S,{autoAlpha:0,xPercent:3,duration:.65,ease:"power3"}),gsap.fromTo(w,{autoAlpha:0,xPercent:3},{autoAlpha:1,xPercent:0,duration:.65,ease:"power3"}),S=null,w=null),x&&!i&&x.resume()})}})})}),l.setOnClose(()=>{i=!1,s.forEach(o=>{o.current&&o.current.resume()}),window.lenis&&window.lenis.start()})},Ct=()=>{const l=document.querySelectorAll(".section_highlight-scroll"),s=window.matchMedia("(max-width: 479px)").matches;l.forEach(i=>{const p=i.querySelectorAll(".highlight-scroll_content"),o=i.querySelectorAll(".highlight-scroll_content .heading-style-h3"),a=i.querySelector(".highlight_timeline-line");if(o.length===0)return;p.forEach((r,d)=>{const n=r.querySelector(".highlight_timeline-circle");if(s){const c=r.querySelectorAll(":scope > *");gsap.set(c,{autoAlpha:0,x:100})}else gsap.set(r,{autoAlpha:0,y:30});n&&n.classList.remove("is-active")});const e=p[0],t=p[p.length-1];ScrollTrigger.create({trigger:e,start:"top center",endTrigger:t,end:"bottom center",scrub:1,onUpdate:r=>{const d=r.progress;a&&gsap.set(a,{scaleY:d,transformOrigin:"top center"})}}),p.forEach((r,d)=>{const n=r.querySelector(".highlight_timeline-circle");if(s){const c=r.querySelectorAll(":scope > *"),u=gsap.timeline({paused:!0});u.to(c,{autoAlpha:1,x:0,duration:.5,ease:"power2.out",stagger:.1}),ScrollTrigger.create({trigger:r,start:"top center",toggleActions:"play none none reverse",animation:u,onEnter:()=>{n&&n.classList.add("is-active")},onEnterBack:()=>{n&&n.classList.add("is-active")},onLeave:()=>{n&&n.classList.remove("is-active")},onLeaveBack:()=>{n&&n.classList.remove("is-active")}})}else ScrollTrigger.create({trigger:r,start:"top center",toggleActions:"play none none reverse",animation:gsap.to(r,{autoAlpha:1,y:0,duration:.6,ease:"power2.out"}),onEnter:()=>{n&&n.classList.add("is-active")},onEnterBack:()=>{n&&n.classList.add("is-active")},onLeave:()=>{n&&n.classList.remove("is-active")},onLeaveBack:()=>{n&&n.classList.remove("is-active")}})})})},_t=()=>{const l=document.querySelectorAll(".section_highlight-content.is-title-waterfall .highlight-title_container"),s=document.querySelectorAll(".section_highlight-content.is-title-waterfall .highlight-content_bottom");!l.length||!s.length||(l.forEach(i=>{const p=i.querySelector(".highlight-title-heading");if(!p)return;const a=new SplitText(p,{type:"chars",charsClass:"letter"}).chars;requestAnimationFrame(()=>{const e=i.clientHeight-p.clientHeight;ScrollTrigger.create({trigger:i,pin:p,start:"top top",end:"+="+e}),a.forEach(t=>{const r=Math.random()*e;gsap.from(t,{y:r,ease:"none",scrollTrigger:{trigger:p,start:"top top",end:"+="+r,scrub:!0}})})})}),s.forEach(i=>{const p=i.querySelector(".text-size-large"),o=i.querySelector(".highlight-image_wrapper");p&&gsap.from(p,{y:30,opacity:0,duration:.8,ease:"power2.out",scrollTrigger:{trigger:i,start:"top 80%",end:"bottom 20%",toggleActions:"play none none reverse"}}),o&&gsap.from(o,{scale:.8,opacity:0,duration:1.2,ease:"power2.out",scrollTrigger:{trigger:i,start:"top 50%",end:"bottom 20%",toggleActions:"play none none reverse"}})}))};function Pt(){gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},s=>{const{isMobile:i,isMobileLandscape:p,isTablet:o}=s.conditions,a=gsap.context(()=>{document.querySelectorAll("[data-accent-shape]").forEach(e=>{const t=e.getAttribute("data-accent-disable");if(t==="mobile"&&i||t==="mobileLandscape"&&p||t==="tablet"&&o)return;const r=e.querySelector("[data-accent-target]")||e,d=parseFloat(e.getAttribute("data-accent-scale-start"))||0,n=parseFloat(e.getAttribute("data-accent-scale-end"))||1,c=parseFloat(e.getAttribute("data-accent-opacity-start"))||0,u=parseFloat(e.getAttribute("data-accent-opacity-end"))||1,g=e.getAttribute("data-accent-scroll-start")||"top 80%",f=e.getAttribute("data-accent-scroll-end")||"bottom 20%",b=parseFloat(e.getAttribute("data-accent-duration"))||.8,E=e.getAttribute("data-accent-ease")||"back.out(1.7)",M=(e.getAttribute("data-accent-mode")||"").toLowerCase(),x=parseFloat(e.getAttribute("data-accent-loop-duration"))||3,C=e.getAttribute("data-accent-loop-ease")||"none";gsap.set(r,{scale:d,opacity:c}),gsap.timeline({scrollTrigger:{trigger:e,start:g,end:f,toggleActions:"play none none reverse"}}).to(r,{scale:n,opacity:u,duration:b,ease:E});let h;if(e.hasAttribute("data-accent-mode")&&(M===""||M==="rotate"))h=gsap.to(r,{rotation:"+=360",duration:x,ease:C,repeat:-1,paused:!0});else if(M==="pulse"){const m=gsap.timeline({repeat:-1,repeatDelay:x,paused:!0});m.to(r,{scale:n*1.12,duration:x*.18,ease:"power2.out"}).to(r,{scale:n*1.02,duration:x*.12,ease:"power2.inOut"}).to(r,{scale:n*1.08,duration:x*.16,ease:"power2.out"}).to(r,{scale:n,duration:x*.24,ease:"power2.inOut"}),h=m}else M==="scrub"&&gsap.to(r,{rotation:45,ease:"none",scrollTrigger:{trigger:e,start:g,end:f,scrub:!0}});if(h){const m=M===""||M==="rotate"||M==="pulse"?"top bottom":g,v=M===""||M==="rotate"||M==="pulse"?"bottom top":f;ScrollTrigger.create({trigger:e,start:m,end:v,onEnter:()=>h.play(),onEnterBack:()=>h.play(),onLeave:()=>h.pause(),onLeaveBack:()=>h.pause()})}})});return()=>a.revert()})}const It=()=>{document.querySelectorAll("[data-swiper-group]").forEach(s=>{const i=s.querySelector("[data-swiper-wrap]");if(!i)return;const p=s.querySelector("[data-swiper-prev]"),o=s.querySelector("[data-swiper-next]"),a="ontouchstart"in window,e=new Swiper(i,{slidesPerView:1.25,speed:600,mousewheel:!a,grabCursor:!0,autoplay:{delay:4e3,disableOnInteraction:!1,pauseOnMouseEnter:!0,waitForTransition:!0},breakpoints:{320:{slidesPerView:1},480:{slidesPerView:1},992:{slidesPerView:1.25}},navigation:{nextEl:o,prevEl:p},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!1}});e.autoplay&&e.autoplay.stop()})};function Bt(){const l=document.querySelectorAll(".footer-social-link");if(!l.length)return;const s={facebook:"var(--_primitives---brand--secondary--teal-main)",instagram:"var(--_primitives---brand--secondary--orange-main)",x:"var(--_primitives---brand--secondary--yellow-main)",linkedin:"var(--_primitives---brand--secondary--emerald-main)",youtube:"var(--_primitives---brand--primary--aqua-main)",buzzsprout:"var(--_primitives---brand--primary--red-main)"};l.forEach(i=>{const p=window.getComputedStyle(i).color;i.addEventListener("mouseenter",()=>{const o=Ot(i),a=s[o]||window.getComputedStyle(i).color;gsap.to(i,{color:a,duration:.3,ease:"power2.out"})}),i.addEventListener("mouseleave",()=>{gsap.to(i,{color:p,duration:.3,ease:"power2.out"})})})}function Ot(l){const s=l.getAttribute("data-link");return s?s.toLowerCase():"default"}function Wt(){const l=document.querySelector(".dots-nav");if(!l)return;gsap.matchMedia().add({isMobile:"(max-width: 767px)",isDesktop:"(min-width: 768px)"},a=>{const{isMobile:e}=a.conditions;e?gsap.set(l,{y:100,opacity:0,pointerEvents:"none"}):gsap.set(l,{x:100,opacity:0,pointerEvents:"none"});const t=document.querySelector('[data-section="members"]');return t&&ScrollTrigger.create({trigger:t,start:"top center",onEnter:()=>{e?gsap.to(l,{y:0,opacity:1,pointerEvents:"auto",duration:.6,ease:"power2.out"}):gsap.to(l,{x:0,opacity:1,pointerEvents:"auto",duration:.6,ease:"power2.out"})},onLeaveBack:()=>{e?gsap.to(l,{y:100,opacity:0,pointerEvents:"none",duration:.4,ease:"power2.in"}):gsap.to(l,{x:100,opacity:0,pointerEvents:"none",duration:.4,ease:"power2.in"})}}),()=>{gsap.set(l,{clearProps:"x,y,opacity,pointerEvents"})}});const i=document.querySelectorAll(".dots-nav [data-anchor-target]");i.forEach(a=>{a.addEventListener("click",function(c){c.preventDefault(),c.stopPropagation(),c.stopImmediatePropagation();const u=this.getAttribute("data-anchor-target");return window.lenis&&window.lenis.scrollTo(u,{easing:g=>g<.5?8*g*g*g*g:1-Math.pow(-2*g+2,4)/2,duration:1.2,offset:0}),!1},!0);const e=a.getAttribute("data-anchor-target"),t=a.getAttribute("data-label"),r=e.startsWith("#")?e.slice(1):e,d=t||r.charAt(0).toUpperCase()+r.slice(1).replace(/-/g," "),n=document.createElement("span");n.className="dot-tooltip",n.textContent=d,a.style.position="relative",a.appendChild(n)});const p=Array.from(i).map(a=>{const e=a.getAttribute("data-anchor-target"),t=e.startsWith("#")?e.slice(1):e;return document.getElementById(t)}).filter(Boolean);if(p.length===0)return;const o=new IntersectionObserver(a=>{a.forEach(e=>{if(e.isIntersecting){const t=e.target.id;i.forEach(r=>{const d=r.getAttribute("data-anchor-target"),n=d.startsWith("#")?d.slice(1):d;r.classList.toggle("is-active",n===t)})}})},{threshold:[0,.25,.5,.75,1],rootMargin:"-20% 0px -50% 0px"});p.forEach(a=>o.observe(a)),window.addEventListener("scroll",()=>{const a=window.scrollY||document.documentElement.scrollTop,e=document.documentElement.scrollHeight,t=document.documentElement.clientHeight;if(a+t>=e-10){const r=p[p.length-1];if(r){const d=r.id;i.forEach(n=>{const c=n.getAttribute("data-anchor-target"),u=c.startsWith("#")?c.slice(1):c;n.classList.toggle("is-active",u===d)})}}})}gsap.registerPlugin(ScrollTrigger,SplitText),window.lenis=nt();const Ht=()=>{K(),it(),ct(),lt(),dt(),ut(),pt(),gt(),ht(),_t(),mt(),ft(),yt(),wt(),bt(),vt(),At(),St(),Et(),qt(),Lt(),Ct(),Pt(),It(),Bt(),Wt()};document.addEventListener("DOMContentLoaded",async()=>{await document.fonts.ready,Ht()}),window.addEventListener("load",()=>{requestAnimationFrame(()=>{window.lenis.resize(),ScrollTrigger.refresh()})});let Q;window.addEventListener("resize",()=>{clearTimeout(Q),Q=setTimeout(()=>{ScrollTrigger.refresh()},100)})})();
