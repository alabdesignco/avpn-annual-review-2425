(function(){"use strict";const G=()=>{const u=new Lenis;return u.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{u.raf(e*1e3)}),gsap.ticker.lagSmoothing(0),u};function N(){const u=document.querySelector("[data-modal-group-status]"),e=document.querySelectorAll("[data-modal-name]"),i=document.querySelectorAll("[data-modal-target]");i.forEach(t=>{t.addEventListener("click",function(){const o=this.getAttribute("data-modal-target");i.forEach(s=>s.setAttribute("data-modal-status","not-active")),e.forEach(s=>s.setAttribute("data-modal-status","not-active")),document.querySelector(`[data-modal-target="${o}"]`).setAttribute("data-modal-status","active"),document.querySelector(`[data-modal-name="${o}"]`).setAttribute("data-modal-status","active"),u&&u.setAttribute("data-modal-group-status","active")})}),document.querySelectorAll("[data-modal-close]").forEach(t=>{t.addEventListener("click",l)}),document.addEventListener("keydown",function(t){t.key==="Escape"&&l()});function l(){i.forEach(t=>t.setAttribute("data-modal-status","not-active")),e.forEach(t=>t.setAttribute("data-modal-status","not-active")),u&&u.setAttribute("data-modal-group-status","not-active")}}const U=(u="img")=>new Promise(e=>{imagesLoaded(document.querySelectorAll(u),{background:!0},e)}),J=()=>{if(!document.querySelector(".section_home-header .home-header_wrapper"))return;class e{constructor(){this.dom=document.querySelector(".section_home-header"),this.grid=document.querySelector(".home-header_wrapper"),this.imageWrappers=[...document.querySelectorAll(".home-header_image-wrapper")],this.heading=document.querySelector(".home-header_heading"),this.navbar=document.querySelector(".navbar_component"),this.taglines=[...document.querySelectorAll(".tagline")],this.baseX=0,this.baseY=0}init(){this.intro()}intro(){this.repositionImages(),this.centerGrid(),this.setupSplitText();const t=gsap.timeline();t.set(this.dom,{scale:.5}),t.set(this.imageWrappers,{scale:.5,opacity:0,filter:"blur(4px)"}),this.taglines.length>0&&t.set(this.taglines,{yPercent:100,autoAlpha:0}),t.set(this.navbar,{y:-100,autoAlpha:0}),t.to(this.heading,{autoAlpha:1,duration:.1}),t.from(this.headingChars,{yPercent:100,autoAlpha:0,duration:2,ease:"expo.inOut",stagger:.02}),this.taglines.length>0&&t.to(this.taglines,{yPercent:0,autoAlpha:1,duration:.8,ease:"expo.out",stagger:.15},"-=1.5"),t.to(this.imageWrappers,{scale:1,opacity:1,filter:"blur(0px)",duration:.6,ease:"power3.out",stagger:{amount:1.2,from:"random"}}),t.to(this.dom,{scale:1,duration:1.2,ease:"power3.inOut"}),t.to(this.imageWrappers,{x:(o,s)=>s.dataset.x||0,y:(o,s)=>s.dataset.y||0,duration:.96,ease:"power3.inOut"},"-=1.2"),t.to(this.navbar,{y:0,autoAlpha:1,duration:.8,ease:"power3.out"},"-=0.4"),t.call(()=>{this.addEvents(),this.observeProducts()})}setupSplitText(){this.heading&&(this.splitText=SplitText.create(this.heading,{type:"chars",mask:"chars"}),this.headingChars=this.splitText.chars)}repositionImages(){this.imageWrappers.forEach(t=>{const o=t.dataset.x,s=t.dataset.y;(o||s)&&gsap.set(t,{clearProps:"all",...o&&{x:o},...s&&{y:s}})})}centerGrid(){const t=this.grid.offsetWidth,o=this.grid.offsetHeight,s=window.innerWidth,r=window.innerHeight,a=(s-t)/2,n=(r-o)/2;gsap.set(this.grid,{x:a,y:n}),this.baseX=a,this.baseY=n}addEvents(){window.addEventListener("resize",()=>{this.centerGrid()}),this.dom.addEventListener("mousemove",t=>{const o=(t.clientX/window.innerWidth-.5)*30,s=(t.clientY/window.innerHeight-.5)*30;gsap.to(this.grid,{x:this.baseX+o,y:this.baseY+s,duration:.8,ease:"power2.out",overwrite:"auto"})})}observeProducts(){const t=new IntersectionObserver(o=>{o.forEach(s=>{s.isIntersecting?gsap.to(s.target,{scale:1,opacity:1,filter:"blur(0px)",duration:.5,ease:"power2.out"}):gsap.to(s.target,{opacity:0,scale:.5,filter:"blur(4px)",duration:.5,ease:"power2.in"})})},{root:null,threshold:.1});this.imageWrappers.forEach(o=>{t.observe(o)})}}const i=new e;U(".home-header_image").then(()=>{i.init(),document.body.classList.remove("loading")})},K=()=>{gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},e=>{const{isMobile:i,isMobileLandscape:l,isTablet:t}=e.conditions,o=gsap.context(()=>{const s=document.querySelectorAll("[data-horizontal-scroll-wrap]");s.length&&(s.forEach(r=>{const a=r.querySelector(".foreword-ceo_image-wrapper"),n=r.querySelector(".foreword-header_accent.is-1"),d=r.querySelector(".foreword-header_accent.is-2"),c=r.querySelector(".foreword_ceo-label-wrapper"),p=[1,2,3,4].map(h=>r.querySelector(`.is-foreword-${h}`)).filter(Boolean);a&&gsap.set(a,{opacity:0}),n&&gsap.set(n,{scale:0,transformOrigin:"center"}),d&&gsap.set(d,{scale:0,transformOrigin:"center"}),c&&gsap.set(c,{opacity:0,y:20});const g=gsap.timeline({scrollTrigger:{trigger:a||r,start:"top 40%"}});a&&g.to(a,{opacity:1,duration:.6},0),n&&g.to(n,{scale:1,duration:.8,ease:"back.out(1.7)"},.6,"<"),d&&g.to(d,{scale:1,duration:.8,ease:"back.out(1.7)"},.7,"<"),c&&g.to(c,{opacity:1,y:0,duration:.6,ease:"power2.out"},.8,"<");const m=r.querySelectorAll("#foreword > p");m.length&&(gsap.set(m,{opacity:0,y:30}),gsap.to(m,{opacity:1,y:0,duration:.8,stagger:.2,ease:"power2.out",scrollTrigger:{trigger:r,start:"top 20%",end:"bottom -100%",scrub:1,onUpdate:h=>{}}})),p.forEach((h,y)=>{gsap.set(h,{scale:0,rotation:0,transformOrigin:"center"});const f=[{start:"0%",end:"10%"},{start:"10%",end:"25%"},{start:"25%",end:"40%"},{start:"40%",end:"55%"}],S=f[y]||f[0];gsap.to(h,{scale:1,ease:"power2.out",scrollTrigger:{trigger:r,start:`left+=${S.start} left`,end:`left+=${S.end} left`,scrub:1}});const v=2+Math.random()*4;gsap.to(h,{rotation:360,duration:v,ease:"none",repeat:-1})})}),s.forEach(r=>{const a=r.getAttribute("data-horizontal-scroll-disable");if(a==="mobile"&&i||a==="mobileLandscape"&&l||a==="tablet"&&t)return;const n=gsap.utils.toArray("[data-horizontal-scroll-panel]",r);n.length<2||gsap.to(n,{x:()=>-(r.scrollWidth-window.innerWidth),ease:"none",scrollTrigger:{trigger:r,start:"top top",end:()=>"+="+(r.scrollWidth-window.innerWidth),scrub:!0,pin:!0,invalidateOnRefresh:!0}})}))});return()=>o.revert()}),window.addEventListener("resize",()=>{ScrollTrigger.refresh()})},Q=()=>{document.querySelectorAll('[data-sticky-title="wrap"]').forEach(e=>{const i=Array.from(e.querySelectorAll('[data-sticky-title="heading"]')),l=Array.from(e.querySelectorAll(".bg-shape img")),t=gsap.timeline({scrollTrigger:{trigger:e,start:"top 40%",end:"bottom bottom",scrub:!0}}),o=.7,s=.7,r=.15;l.forEach((a,n)=>{gsap.set(a,{autoAlpha:0,scale:1.1})}),i.forEach((a,n)=>{const d=gsap.timeline();a.setAttribute("aria-label",a.textContent);const c=new SplitText(a,{type:"words,chars"});c.words.forEach(g=>g.setAttribute("aria-hidden","true")),gsap.set(a,{visibility:"visible"});const p=e.querySelector(`.bg-shape.is-${n+1} img`);if(n===0)d.fromTo(p,{autoAlpha:0,scale:1.1},{autoAlpha:1,scale:1,duration:.8,ease:"power2.out"},.2);else{const g=e.querySelector(`.bg-shape.is-${n} img`);d.to(g,{autoAlpha:0,scale:1.1,duration:.8,ease:"power2.out"},0),d.fromTo(p,{autoAlpha:0,scale:1.1},{autoAlpha:1,scale:1,duration:.8,ease:"power2.out"},.4)}d.from(c.chars,{autoAlpha:0,stagger:{amount:o,from:"start"},duration:o},n===0?0:s*.3),n<i.length-1&&d.to(c.chars,{autoAlpha:0,stagger:{amount:s,from:"end"},duration:s}),n===0?t.add(d):t.add(d,`-=${r}`)})})},Z=()=>{const u=[{cause:"Affordable Housing",count:105,percent:17},{cause:"Ageing",count:109,percent:17},{cause:"Agriculture",count:226,percent:36},{cause:"Arts & Culture",count:132,percent:21},{cause:"Climate Action & Environment",count:385,percent:61},{cause:"Conservation",count:129,percent:20},{cause:"Education",count:396,percent:63},{cause:"Employability",count:243,percent:38},{cause:"Energy",count:193,percent:31},{cause:"Financial Inclusion",count:232,percent:37},{cause:"Gender",count:260,percent:41},{cause:"Governance",count:130,percent:21},{cause:"Health",count:333,percent:53},{cause:"Livelihood and Poverty Alleviation",count:350,percent:55},{cause:"Nutrition",count:143,percent:23},{cause:"Water & Sanitation & Hygiene",count:185,percent:29}],e=t=>getComputedStyle(document.documentElement).getPropertyValue(t).trim(),i={Education:e("--color-education"),"Climate Action & Environment":e("--color-climate"),"Livelihood and Poverty Alleviation":e("--color-livelihood"),Health:e("--color-health"),Employability:e("--color-employability"),Gender:e("--color-gender"),"Financial Inclusion":e("--color-financial-inclusion"),Agriculture:e("--color-agriculture"),Energy:e("--color-energy"),"Water & Sanitation & Hygiene":e("--color-water"),Nutrition:e("--color-nutrition"),"Arts & Culture":e("--color-arts"),Governance:e("--color-governance"),Conservation:e("--color-conservation"),Ageing:e("--color-aging"),"Affordable Housing":e("--color-affordable-housing")},l=()=>{const t=document.querySelector(".supported-chart"),o=t.offsetWidth,s=t.offsetHeight,r=Math.min(o,s),a=r,n=r,d=r*.15;d3.select(".supported-chart svg").remove();const c=d3.select(".supported-chart").append("svg").attr("viewBox",`0 0 ${a} ${n}`).attr("preserveAspectRatio","xMidYMid meet").style("width","100%").style("height","100%").append("g").attr("transform",`translate(${a/2},${n/2-100})`),p=d3.pie().sort(null).value(1);d3.arc().innerRadius(d).outerRadius(v=>d+v.data.percent*r*.0045).cornerRadius(10).padAngle(.03);const g=c.selectAll("path").data(p(u)).enter().append("path").attr("fill",v=>i[v.data.cause]||"#ccc").attr("d",d3.arc().innerRadius(d).outerRadius(d)).attr("stroke","#fff").attr("stroke-width",2).style("cursor","pointer"),m=()=>{g.transition().delay((v,b)=>b*100).duration(800).ease(d3.easeCubicOut).attrTween("d",function(v){const b=d3.interpolate(d,d+v.data.percent*r*.0045);return function(A){return d3.arc().innerRadius(d).outerRadius(b(A)).cornerRadius(10).padAngle(.03)(v)}})};gsap.timeline({scrollTrigger:{trigger:".supported-chart",start:"top 80%",once:!0}}).add(()=>m());const h=(v,b)=>{const A=v.split(/\s+/);if(A.length<=2)return[v];const w=document.createElement("canvas").getContext("2d");w.font=`700 ${r*.02}px sans-serif`;let T=Math.ceil(A.length/2),k=A.slice(0,T).join(" "),x=A.slice(T).join(" ");for(;T>1&&(w.measureText(k).width>b||w.measureText(x).width>b);)T--,k=A.slice(0,T).join(" "),x=A.slice(T).join(" ");return[k,x]},y=c.append("g").attr("class","supported-chart_center-text").style("pointer-events","none"),f=y.append("text").attr("class","center-cause").attr("opacity",0).style("font-size",`${r*.02}px`).style("font-weight","700").style("fill","var(--color-scheme-1--text)").style("text-anchor","middle");y.append("text").attr("class","center-percent").attr("y",r*.025).attr("opacity",0).style("font-size",`${r*.018}px`).style("font-weight","700").style("fill","var(--_primitives---brand--primary--navy-medium)").style("text-anchor","middle"),g.on("mouseover",function(v,b){c.selectAll("path").transition().duration(200).style("opacity",.3),d3.select(this).transition().duration(200).style("opacity",1);const A=h(b.data.cause,d*1.8),w=r*.02,T=A.length>1?r*.008:0,k=-(A.length-1)*w/2-r*.01-T;f.selectAll("*").remove(),A.forEach((x,M)=>{f.append("tspan").attr("x",0).attr("dy",M===0?0:w).text(x)}),f.attr("y",k).transition().duration(200).style("opacity",1),y.select(".center-percent").text(`${b.data.percent}%`).transition().duration(200).style("opacity",1)}).on("mouseout",function(){c.selectAll("path").transition().duration(200).style("opacity",1),y.selectAll("text").transition().duration(200).style("opacity",0)}),document.querySelectorAll(".supported-chart_legend-color").forEach(v=>{const b=parseInt(v.dataset.index),A=u[b]?.cause;if(!A)return;const w=i[A];w&&(v.style.backgroundColor=w)});const S=c.selectAll("path");document.querySelectorAll(".supported-chart_legend-item").forEach(v=>{const b=parseInt(v.querySelector(".supported-chart_legend-color").dataset.index);v.addEventListener("mouseenter",()=>{S.transition().duration(200).style("opacity",.3),d3.select(S.nodes()[b]).transition().duration(200).style("opacity",1);const A=u[b],w=h(A.cause,d*1.8),T=r*.02,k=w.length>1?r*.008:0,x=-(w.length-1)*T/2-r*.01-k;f.selectAll("*").remove(),w.forEach((M,q)=>{f.append("tspan").attr("x",0).attr("dy",q===0?0:T).text(M)}),f.attr("y",x).transition().duration(200).style("opacity",1),y.select(".center-percent").text(`${A.percent}%`).transition().duration(200).style("opacity",1)}),v.addEventListener("mouseleave",()=>{S.transition().duration(200).style("opacity",1),y.selectAll("text").transition().duration(200).style("opacity",0)})})};l(),window.addEventListener("resize",l)},tt=()=>{const u={name:"Beneficiary Communities",children:[{name:"Children & youths",value:433,percent:68.48},{name:"Women & girls",value:413,percent:65.35},{name:"People in poverty",value:397,percent:62.82},{name:"Environment",value:306,percent:48.42},{name:"People without employment",value:257,percent:40.67},{name:"People with disabilities",value:208,percent:32.91},{name:"Elderly",value:198,percent:31.33},{name:"People with medical needs",value:198,percent:31.33},{name:"Ethnic minorities",value:182,percent:28.8},{name:"Immigrants & asylum seekers & refugees",value:112,percent:17.72},{name:"Offenders & re-offenders",value:47,percent:7.44}]},e=document.querySelector(".beneficiary-treemap"),i=e.clientWidth||1e3,l=e.clientHeight||600,t=8;e.innerHTML="";const o=d3.select(e).append("svg").attr("viewBox",[0,0,i,l]).style("width","100%").style("height","100%"),s={"Children & youths":"#00B3AD","Women & girls":"#F17C38","People in poverty":"#FED452",Environment:"#ADD5E0","People without employment":"#4AC1BE","People with disabilities":"#002943",Elderly:"#F59D6A","People with medical needs":"#FEE07E","Ethnic minorities":"#86D1D1","Immigrants & asylum seekers & refugees":"#80BDB4","Offenders & re-offenders":"#F2948C"},r=d3.hierarchy(u).sum(c=>c.value).sort((c,p)=>p.value-c.value);d3.treemap().tile(d3.treemapBinary).size([i,l]).paddingInner(t).round(!0)(r);const a=o.selectAll("g").data(r.leaves()).join("g").attr("transform",c=>`translate(${c.x0},${c.y0})`).style("cursor","pointer").style("opacity",0),n=c=>{const p=d3.color(c);return .2126*(p.r/255)+.7152*(p.g/255)+.0722*(p.b/255)>.6?"#002943":"#ffffff"},d=(c,p)=>{c.each(function(){const g=d3.select(this),m=g.text().split(/\s+/).reverse();let h,y=[],f=0;const S=1.1,v=g.attr("y");let b=g.text(null).append("tspan").attr("x",16).attr("y",v);for(;h=m.pop();)y.push(h),b.text(y.join(" ")),b.node().getComputedTextLength()>p&&(y.pop(),b.text(y.join(" ")),y=[h],b=g.append("tspan").attr("x",16).attr("y",v).attr("dy",`${++f*S}em`).text(h))})};a.each(function(c){const p=d3.select(this),g=s[c.data.name]||"#ccc",m=n(g),h=c.x1-c.x0,y=c.y1-c.y0,f=p.append("rect").attr("fill",g).attr("rx",10).attr("ry",10).attr("width",h).attr("height",y).style("filter","drop-shadow(0 1px 2px rgba(0,0,0,0.05))").style("transform-origin",`${h/2}px ${y/2}px`);gsap.set(f.node(),{scale:1});const S=p.append("text").attr("x",16).attr("y",24).attr("fill",m).attr("font-size","1rem").attr("font-weight",600).text(c.data.name).call(d,h-32);S.node().getBBox().height>y*.6&&S.style("display","none");let v=null;y>40&&h>80&&(v=p.append("text").attr("x",h-16).attr("y",y-12).attr("text-anchor","end").attr("fill",m).attr("font-size","1.25rem").attr("opacity",0).text(`${c.data.percent.toFixed(2)}%`)),p.on("mouseenter",()=>{p.raise(),gsap.to(f.node(),{scale:1.05,duration:.25,ease:"power2.out"}),gsap.to(f.node(),{filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.15))",duration:.25,ease:"power2.out"}),gsap.to(a.nodes().filter(b=>b!==p.node()),{opacity:.3,duration:.25,ease:"power2.out"}),v&&gsap.to(v.node(),{opacity:1,duration:.25,ease:"power2.out"})}).on("mouseleave",()=>{gsap.to(f.node(),{scale:1,duration:.25,ease:"power2.out"}),gsap.to(f.node(),{filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.05))",duration:.25,ease:"power2.out"}),gsap.to(a.nodes(),{opacity:1,duration:.25,ease:"power2.out"}),v&&gsap.to(v.node(),{opacity:0,duration:.25,ease:"power2.out"})})}),gsap.to(a.nodes(),{opacity:1,duration:.6,ease:"power2.out",stagger:.08,scrollTrigger:{trigger:e,start:"top 80%",toggleActions:"play none none none"}})},et=()=>{const u=document.querySelector(".section_new");if(!u)return;const e=u.querySelector(".new_pin-height"),i=u.querySelector(".new_layout"),l=u.querySelectorAll(".new-paragraph_item"),t=u.querySelector(".button-group");if(!e||!i||l.length===0)return;const o=Array.from(l).map(r=>new SplitText(r,{type:"words",wordsClass:"word",mask:"words"}));gsap.set(o.flatMap(r=>r.words),{yPercent:100});let s=!1;ScrollTrigger.create({trigger:u,start:"top bottom",once:!0,onEnter:()=>{s||(s=!0,requestAnimationFrame(()=>{ScrollTrigger.refresh(),ScrollTrigger.create({trigger:e,start:"top top",end:"bottom bottom",pin:i});const r=gsap.timeline({scrollTrigger:{trigger:e,start:"top top",end:"bottom bottom",scrub:!0}});o.forEach((a,n)=>{r.to(a.words,{yPercent:0,duration:1,stagger:.2,ease:"power4.out"},n>0?"+=0.5":0)}),t&&(gsap.set(t,{opacity:0,y:20}),r.to(t,{opacity:1,y:0,duration:.8,ease:"power2.out"},"+=0.3"))}))}})},ot=()=>{const u=document.querySelector(".section_word-break"),e=document.querySelector(".section_word-break .word-break-text"),i=new SplitText(e,{type:"words, chars",smartWrap:!0,wordsClass:"word",charsClass:"char"}),l=i.chars;i.words;const t=e.clientWidth-document.body.clientWidth,o=gsap.to(e,{x:-t,ease:"none",scrollTrigger:{trigger:".section_word-break .word-break_container",pin:!0,end:"+="+t,scrub:!0}});gsap.from(u,{ease:"power1.out",scrollTrigger:{trigger:".section_word-break .word-break_container",start:"top top",end:"+=200",scrub:!0}}),l.forEach(s=>{gsap.from(s,{yPercent:(Math.random()-.5)*400,rotation:(Math.random()-.5)*60,ease:"elastic.out(1.2, 1)",scrollTrigger:{trigger:s,containerAnimation:o,start:"left 90%",end:"left 10%",scrub:.5}})})};function at(){document.querySelectorAll("[data-highlight-text]").forEach(e=>{const i=e.getAttribute("data-highlight-scroll-start")||"top 90%",l=e.getAttribute("data-highlight-scroll-end")||"center 40%";e.getAttribute("data-highlight-fade");const t=e.getAttribute("data-highlight-stagger")||.1,o=e.getAttribute("data-highlight-bg")||"#C1E6E7";new SplitText(e,{type:"words",autoSplit:!0,onSplit(s){return gsap.context(()=>{const a=[];s.words.forEach(d=>{const c=document.createElement("div");c.className="highlight-word",d.parentNode.insertBefore(c,d),c.appendChild(d),a.push(c)});let n=gsap.timeline({scrollTrigger:{scrub:!0,trigger:e,start:i,end:l}});s.words.forEach((d,c)=>{const p=a[c],g=c*t;n.set(p,{backgroundColor:o},g).to(p,{backgroundColor:o,duration:.2,ease:"linear"},g+.2).from(d,{opacity:0,duration:.2,ease:"linear"},g+.4).to(p,{backgroundColor:"transparent",duration:.3,ease:"linear"},g+.6)})})}})})}const rt=()=>{document.querySelectorAll(".section-title_component").forEach(e=>{const i=e.querySelector(".section-title_accent-shape.is-1"),l=e.querySelector(".section-title_accent-shape.is-2"),t=e.querySelector(".section-title_inner > h2");if(!i||!l||!t)return;const o=new SplitText(t,{type:"words",mask:"words"});gsap.set([i,l],{scale:0,rotation:-45,transformOrigin:"center center"}),gsap.set(o.words,{autoAlpha:0,y:30}),gsap.timeline({scrollTrigger:{trigger:e,start:"top 80%",end:"bottom 20%"}}).to(i,{scale:1,rotation:0,duration:.6,ease:"back.out(1.7)"}).to(l,{scale:1,duration:.5,ease:"back.out(1.4)"},"-=0.3").to(o.words,{autoAlpha:1,y:0,duration:.7,stagger:.08,ease:"power2.out"},"-=0.2")})},nt=()=>{const u=document.querySelector(".section_highlight-cards .highlight-card_wrapper");if(!u)return;const e=u.clientWidth,i=document.querySelectorAll(".highlight_card"),l=i.length,t=document.querySelectorAll(".highlight_card .highlight_card-content");let o=0;i.forEach(a=>{gsap.set(a,{xPercent:(Math.random()-.5)*10,yPercent:(Math.random()-.5)*10,rotation:(Math.random()-.5)*20})});const s=a=>{a<0||a>=i.length||(gsap.set(i[a],{zIndex:"auto"}),gsap.to(i[a],{xPercent:(Math.random()-.5)*10,yPercent:(Math.random()-.5)*10,rotation:(Math.random()-.5)*20,scale:1,duration:.8,ease:"elastic.out(1, 0.75)"}))},r=a=>{i.forEach((n,d)=>{gsap.set(n,{zIndex:d===a?20:"auto"})}),gsap.to(i[a],{xPercent:0,yPercent:0,rotation:0,duration:.8,scale:1.1,ease:"elastic.out(1, 0.75)"}),t.forEach((n,d)=>{d!==a?gsap.to(n,{xPercent:80/(d-a),ease:"elastic.out(1, 0.75)",duration:.8}):gsap.to(n,{xPercent:0,ease:"elastic.out(1, 0.75)",duration:.8})})};u.addEventListener("mousemove",a=>{const d=(a.clientX-u.getBoundingClientRect().left)/e,c=Math.ceil(d*l);o!==c&&c>0&&c<=l&&(o!==0&&s(o-1),o=c,r(o-1))}),u.addEventListener("mouseleave",()=>{o>0&&s(o-1),o=0,gsap.to(t,{xPercent:0,ease:"elastic.out(1, 0.75)",duration:.8})})};function st(){(()=>{const i=document.querySelector(".section_work");if(!i)return;const l=i.querySelectorAll(".work_list > *"),t=i.querySelector(".button");if(!l.length||!t)return;gsap.set([...l,t],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:i,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(l,{opacity:1,y:0,duration:.6,ease:"power2.out",stagger:.15}).to(t,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.3")})();const e={top:"translateY(-100%)",bottom:"translateY(100%)",left:"translateX(-100%)",right:"translateX(100%)"};document.querySelectorAll("[data-directional-hover]").forEach(i=>{const l=i.getAttribute("data-type")||"all";i.querySelectorAll("[data-directional-hover-item]").forEach(o=>{const s=o.querySelector("[data-directional-hover-tile]");s&&(o.addEventListener("mouseenter",r=>{const a=t(r,o,l);s.style.transition="none",s.style.transform=e[a]||"translate(0, 0)",s.offsetHeight,s.style.transition="",s.style.transform="translate(0%, 0%)",o.setAttribute("data-status",`enter-${a}`)}),o.addEventListener("mouseleave",r=>{const a=t(r,o,l);o.setAttribute("data-status",`leave-${a}`),s.style.transform=e[a]||"translate(0, 0)"}))});function t(o,s,r){const{left:a,top:n,width:d,height:c}=s.getBoundingClientRect(),p=o.clientX-a,g=o.clientY-n;if(r==="y")return g<c/2?"top":"bottom";if(r==="x")return p<d/2?"left":"right";const m={top:g,right:d-p,bottom:c-g,left:p};return Object.entries(m).reduce((h,y)=>h[1]<y[1]?h:y)[0]}})}function it(){(()=>{const l=document.querySelector(".section_partners");if(!l)return;const t=l.querySelector(".partners_top .text-size-large"),o=l.querySelector(".partners_top .button"),s=l.querySelector(".partners-logo-wall_component");if(!t||!o||!s)return;gsap.set([t,o,s],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:l,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse",refreshPriority:-1}}).to(t,{opacity:1,y:0,duration:.8,ease:"power3.out"}).to(o,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.4").to(s,{opacity:1,y:0,duration:.8,ease:"power2.out"},"-=0.2")})(),document.querySelectorAll("[data-logo-wall-cycle-init]").forEach(l=>{const t=l.querySelector("[data-logo-wall-list]"),o=Array.from(t.querySelectorAll("[data-logo-wall-item]")),s=l.getAttribute("data-logo-wall-shuffle")!=="false",r=o.map(b=>b.querySelector("[data-logo-wall-target]")).filter(Boolean);let a=[],n=0,d=[],c=[],p=0,g;function m(b){return window.getComputedStyle(b).display!=="none"}function h(b){const A=b.slice();for(let w=A.length-1;w>0;w--){const T=Math.floor(Math.random()*(w+1));[A[w],A[T]]=[A[T],A[w]]}return A}function y(){g&&g.kill(),a=o.filter(m),n=a.length,c=h(Array.from({length:n},(w,T)=>T)),p=0,o.forEach(w=>{w.querySelectorAll("[data-logo-wall-target]").forEach(T=>T.remove())}),d=r.map(w=>w.cloneNode(!0));let b,A;if(s){const w=h(d);b=w.slice(0,n),A=h(w.slice(n))}else b=d.slice(0,n),A=h(d.slice(n));d=b.concat(A);for(let w=0;w<n;w++)(a[w].querySelector("[data-logo-wall-target-parent]")||a[w]).appendChild(d.shift());g=gsap.timeline({repeat:-1,paused:!0}),g.call(f),g.to({},{duration:.9+1})}function f(){if(o.filter(m).length!==n){y();return}if(!d.length)return;const A=c[p%n];p++;const w=a[A],T=w.querySelector("[data-logo-wall-target-parent]")||w.querySelector("*:has(> [data-logo-wall-target])")||w;if(T.querySelectorAll("[data-logo-wall-target]").length>1)return;const x=T.querySelector("[data-logo-wall-target]"),M=d.shift();gsap.set(M,{yPercent:50,autoAlpha:0}),T.appendChild(M),x&&gsap.to(x,{yPercent:-50,autoAlpha:0,duration:.9,ease:"expo.inOut",onComplete:()=>{x.remove(),d.push(x)}}),gsap.to(M,{yPercent:0,autoAlpha:1,duration:.9,delay:.1,ease:"expo.inOut"})}y();let S;ScrollTrigger.addEventListener("refreshInit",()=>{S&&S.kill()});const v=()=>{S=ScrollTrigger.create({trigger:l,start:"top bottom",end:"bottom top",onEnter:()=>g.play(),onLeave:()=>g.pause(),onEnterBack:()=>g.play(),onLeaveBack:()=>g.pause()}),S.isActive&&g.play()};document.readyState==="complete"?(ScrollTrigger.refresh(),gsap.delayedCall(.3,v)):window.addEventListener("load",()=>{ScrollTrigger.refresh(),gsap.delayedCall(.3,v)}),document.addEventListener("visibilitychange",()=>{document.hidden?g.pause():S&&S.isActive&&g.play()})})}function ct(){(()=>{const i=document.querySelector(".section_team");if(!i)return;const l=i.querySelector(".team_top .text-size-large"),t=i.querySelector(".filter-group");if(!l||!t)return;gsap.set([l,t],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:i,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(l,{opacity:1,y:0,duration:.8,ease:"power3.out"}).to(t,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.4")})(),document.querySelectorAll("[data-filter-group]").forEach(i=>{const l=i.querySelectorAll("[data-filter-target]"),t=i.querySelectorAll("[data-filter-name]"),o=300,s=a=>{t.forEach(n=>{const c=n.getAttribute("data-filter-name")===a;n.getAttribute("data-filter-status")==="active"&&!c?(n.setAttribute("data-filter-status","transition-out"),setTimeout(()=>{n.setAttribute("data-filter-status","not-active"),n.setAttribute("aria-hidden","true")},o)):c&&setTimeout(()=>{n.setAttribute("data-filter-status","active"),n.setAttribute("aria-hidden","false")},o)}),l.forEach(n=>{const d=n.getAttribute("data-filter-target")===a;n.setAttribute("data-filter-status",d?"active":"not-active"),n.setAttribute("aria-pressed",d?"true":"false")})};l.forEach(a=>{a.addEventListener("click",()=>{const n=a.getAttribute("data-filter-target");a.getAttribute("data-filter-status")!=="active"&&s(n)})});const r=l[0];r&&s(r.getAttribute("data-filter-target"))})}function lt(){gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},e=>{const{isMobile:i,isMobileLandscape:l,isTablet:t}=e.conditions,o=gsap.context(()=>{document.querySelectorAll('[data-parallax="trigger"]').forEach(s=>{const r=s.getAttribute("data-parallax-disable");if(r==="mobile"&&i||r==="mobileLandscape"&&l||r==="tablet"&&t)return;const a=s.querySelector('[data-parallax="target"]')||s,d=(s.getAttribute("data-parallax-direction")||"vertical")==="horizontal"?"xPercent":"yPercent",c=s.getAttribute("data-parallax-scrub"),p=c?parseFloat(c):!0,g=s.getAttribute("data-parallax-start"),m=g!==null?parseFloat(g):20,h=s.getAttribute("data-parallax-end"),y=h!==null?parseFloat(h):-20,S=`clamp(${s.getAttribute("data-parallax-scroll-start")||"top bottom"})`,b=`clamp(${s.getAttribute("data-parallax-scroll-end")||"bottom top"})`;gsap.fromTo(a,{[d]:m},{[d]:y,ease:"none",scrollTrigger:{trigger:s,start:S,end:b,scrub:p}})})});return()=>o.revert()})}const dt=()=>{const u=gsap.utils.toArray("[data-bg-transition]");u.length&&u.forEach((e,i)=>{const l=u[i+1];if(!l)return;const t=window.getComputedStyle(e).backgroundColor,o=window.getComputedStyle(l).backgroundColor;gsap.set(l,{backgroundColor:t}),gsap.to(l,{backgroundColor:o,duration:.4,ease:"power1.inOut",scrollTrigger:{trigger:l,start:"top 50%",toggleActions:"play complete none reverse"}})})},ut=()=>{if(typeof Matter>"u"){console.warn("Matter.js is not loaded. Falling2D animation will not initialize.");return}const u=()=>{const x=document.querySelector("#canvas-target");if(x&&!x.hasAttribute("data-matter-initialized")){const M=x.closest(".footer_component");if(M){const q=M.getBoundingClientRect();q.top<window.innerHeight&&q.bottom>0?(console.log("Fallback: Footer section is visible - initializing Matter.js physics"),k(x),x.setAttribute("data-matter-initialized","true")):(console.log("Fallback: Footer section not visible yet, retrying in 1 second"),setTimeout(u,1e3))}}};setTimeout(u,4e3);const e=Matter.Engine,i=Matter.Render,l=Matter.Runner,t=Matter.Bodies,o=Matter.Composite,s=Matter.Events;let r,a,n,d,c,p,g,m,h,y;const f=["#e42919","#00b4ae","#007b69","#f27c38","#ffd552","#91c7d6"],S=2,v=25,b=.65,A=(x,M)=>Math.random()*(M-x)+x,w=()=>{if(r&&e.clear(r),a&&i.stop(a),n&&l.stop(n),m&&window.removeEventListener("resize",m),h&&y){const x=document.querySelector("#canvas-target");x&&(x.removeEventListener("mousemove",h),x.removeEventListener("mouseleave",y))}},T=(x,M,q,R)=>{const B=[];for(let O=0;O<=20;O++){const H=Math.PI*(O/20);B.push({x:Math.cos(H)*q,y:-Math.sin(H)*q})}return B.push({x:-q,y:0}),t.fromVertices(x,M,[B],{restitution:b,render:{fillStyle:R,strokeStyle:R}})},k=x=>{w();const M=x.getBoundingClientRect(),q=M.width,R=M.height,B=q/4,W=q/15,O=W/2,H=q-W/2;r=e.create(),r.world.gravity.y=S,r.timing.timeScale=.9,a=i.create({element:x,engine:r,options:{background:"transparent",wireframes:!1,width:q,height:R,pixelRatio:window.devicePixelRatio||2}}),a.canvas.width=q*(window.devicePixelRatio||2),a.canvas.height=R*(window.devicePixelRatio||2),a.canvas.style.width=`${q}px`,a.canvas.style.height=`${R}px`,d=t.rectangle(q/2,-B,q*2,B*2,{isStatic:!0}),c=t.rectangle(q/2,R+B,q*2,B*2,{isStatic:!0}),p=t.rectangle(-B,R/2,B*2,R*2,{isStatic:!0}),g=t.rectangle(q+B,R/2,B*2,R*2,{isStatic:!0}),o.add(r.world,[d,c,p,g]);const Tt=()=>{const C=f[Math.floor(Math.random()*f.length)],L=Math.random();if(L<.25){const E=W*(.3+Math.random()*.95),I=t.circle(A(O,H),-W,E,{restitution:b,render:{fillStyle:C,strokeStyle:C}});o.add(r.world,I)}else if(L<.5){const E=W*(.3+Math.random()*.95),I=T(A(O,H),-W,E,C);o.add(r.world,I)}else if(L<.75){const E=W*(.5+Math.random()*.75),I=t.rectangle(A(O,H),-W,E,E,{chamfer:{radius:E*.15},restitution:b,render:{fillStyle:C,strokeStyle:C}});o.add(r.world,I)}else{const E=W*(.5+Math.random()*.75),I=E*.15,P=Math.floor(Math.random()*4),_=I*(.5+Math.random()*.5),z=_*3,$=[_,_,_,_];$[P]=z;const qt=t.rectangle(A(O,H),-W,E,E,{chamfer:{radius:$},restitution:b,render:{fillStyle:C,strokeStyle:C}});o.add(r.world,qt)}};n=l.create(),i.run(a),l.run(n,r);let D=0;const X=()=>{D<v&&(Tt(),D++,setTimeout(X,100))};setTimeout(X,100);let j=0,V=0,F=!1;h=C=>{const L=x.getBoundingClientRect();j=C.clientX-L.left,V=C.clientY-L.top,F=!0},y=()=>{F=!1},x.addEventListener("mousemove",h),x.addEventListener("mouseleave",y),s.on(r,"afterUpdate",()=>{if(!F)return;const C=o.allBodies(r.world).filter(E=>!E.isStatic),L=150;C.forEach(E=>{const I=E.position.x-j,P=E.position.y-V,_=Math.sqrt(I*I+P*P);if(_<L){const z=(1-_/L)*.2;Matter.Body.setVelocity(E,{x:E.velocity.x,y:Math.min(E.velocity.y-z,-15)})}})});let Y;m=()=>{clearTimeout(Y),Y=setTimeout(()=>{l.stop(n);const C=x.getBoundingClientRect(),L=C.width,E=C.height;a.canvas.width=L*(window.devicePixelRatio||2),a.canvas.height=E*(window.devicePixelRatio||2),a.canvas.style.width=`${L}px`,a.canvas.style.height=`${E}px`,o.allBodies(r.world).filter(_=>!_.isStatic).forEach(_=>{const z=Math.max(50,Math.min(_.position.x,L-50)),$=Math.max(50,Math.min(_.position.y,E-50));Matter.Body.setPosition(_,{x:z,y:$}),Matter.Body.setVelocity(_,{x:0,y:0})}),o.remove(r.world,[d,c,p,g]);const P=L/4;d=t.rectangle(L/2,-P,L*2,P*2,{isStatic:!0}),c=t.rectangle(L/2,E+P,L*2,P*2,{isStatic:!0}),p=t.rectangle(-P,E/2,P*2,E*2,{isStatic:!0}),g=t.rectangle(L+P,E/2,P*2,E*2,{isStatic:!0}),o.add(r.world,[d,c,p,g]),l.run(n,r)},200)},window.addEventListener("resize",m)};{if(typeof ScrollTrigger>"u"){console.warn("ScrollTrigger is not loaded. Falling back to load event initialization."),window.addEventListener("load",()=>{const M=document.querySelector("#canvas-target");M&&k(M)});return}const x=()=>{document.querySelectorAll(".footer_component").forEach(M=>{M.querySelector("#canvas-target")&&ScrollTrigger.create({trigger:M,start:"top 80%",end:"bottom 20%",once:!0,refreshPriority:1,onEnter:()=>{const q=M.querySelector("#canvas-target");q&&!q.hasAttribute("data-matter-initialized")&&(console.log("Footer ScrollTrigger activated - initializing Matter.js"),k(q),q.setAttribute("data-matter-initialized","true"))},onLeave:()=>{console.log("Footer section left view")},onEnterBack:()=>{console.log("Footer section entered back")}})})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{setTimeout(x,1e3)}):setTimeout(x,1e3)}return{cleanup:w}},gt=()=>{const u=window.innerWidth,e=document.querySelector(".section_image-break .image-break_wrapper"),i=e.querySelectorAll(".image-break_media"),l=document.querySelector(".section_image-break .image-break_text");let t;l&&(t=new SplitText(l,{type:"chars"}).chars,gsap.set(t,{opacity:0,yPercent:100})),i.forEach(r=>{gsap.set(r,{x:(Math.random()-.5)*.16*u,y:(Math.random()-.5)*.1*u})});const o=e.clientWidth-document.body.clientWidth,s=gsap.to(e,{x:-o,ease:"none",scrollTrigger:{trigger:e.parentNode,pin:!0,scrub:!0,end:"+="+o}});if(i.forEach(r=>{gsap.from(r,{rotation:(Math.random()-.5)*80,yPercent:(Math.random()-.5)*300,xPercent:Math.random()*400,ease:"power1.out",scrollTrigger:{trigger:r,containerAnimation:s,start:"left 110%",end:"left 65%",scrub:!0}}),gsap.fromTo(r,{rotation:0,yPercent:0,xPercent:0},{rotation:(Math.random()-.5)*80,yPercent:(Math.random()-.5)*300,xPercent:-Math.random()*400,ease:"power1.in",scrollTrigger:{trigger:r,containerAnimation:s,start:"right 35%",end:"right -10%",scrub:!0}})}),t&&i.length>0){const r=Math.floor(t.length/2),a=i[i.length-1];gsap.to(t,{opacity:1,yPercent:0,duration:1.2,ease:"back.out(2.5)",stagger:{amount:.8,from:r,ease:"power2.out"},scrollTrigger:{trigger:a,containerAnimation:s,start:"left center",toggleActions:"play none none none"}})}};function pt(){document.querySelectorAll(".members-content_wrapper").forEach(u=>{const e=u.querySelector(".members-number");if(!e)return;const i=e.querySelector("span:first-child");if(!i)return;const l=parseFloat(e.getAttribute("data-count-start"))||0,t=parseFloat(e.getAttribute("data-count-end"))||parseFloat(i.textContent.replace(/,/g,""));i.textContent=l,i.classList.add("odometer");const o=new Odometer({el:i,value:l,format:"(,ddd)",duration:2e3});u.odometerInstance={odometer:o,endValue:t}})}const ht=()=>{pt();const u=mt();ft(u)},mt=()=>{const u=document.querySelectorAll("[cs-element='tab-item']"),e=document.querySelector("[cs-element='tab-main']");if(!e)return;e.setAttribute("data-member-color","");const i=e.querySelector("h3.heading-style-h6"),l=e.querySelector(".member-tab-center_icon"),t=e.querySelector("p");if(!i||!l||!t)return;let o=0,s,r;const a=c=>{const p=c.querySelector(".members-tab_icon-wrapper"),g=c.querySelector(".tab-title-small"),m=c.querySelector(".members-tab_description > p");if(!p||!g||!m)return;const h=p.innerHTML,y=g.textContent,f=m.textContent,S=c.getAttribute("data-member-color");i.innerText!==y&&(i.innerHTML=y,l.innerHTML=h,t.textContent=f,e.parentNode.setAttribute("data-member-color",S),gsap.fromTo(e.parentNode,{scale:.8,opacity:0},{scale:1,opacity:1,duration:1,ease:"back.out(1.4)"}))},n=(c=8e3)=>{r=setTimeout(()=>{o=(o+1)%u.length,a(u[o]),s=setInterval(()=>{o=(o+1)%u.length,a(u[o])},1e4)},c)},d=()=>{clearTimeout(r),clearInterval(s),n()};return u.forEach((c,p)=>{c.addEventListener("mouseenter",()=>{o=p,a(c),d()}),c.addEventListener("mouseleave",()=>{d()})}),n},ft=u=>{const e=document.querySelectorAll(".members-content_wrapper"),i=document.querySelectorAll("[cs-element='tab-item']"),l=document.querySelector("[data-member-tab-center]");e.forEach(t=>{if(!t.odometerInstance)return;const o=t.querySelector("[data-member-heading]"),s=t.querySelector("[data-member-button]");if(!o||!s)return;const r=Array.from(i),a=Math.floor(r.length/2),n=[...r.slice(0,a),l,...r.slice(a)];gsap.set([o,s],{opacity:0,y:30}),gsap.set(n,{opacity:0,scale:0}),gsap.timeline({scrollTrigger:{trigger:t,start:"top 80%",once:!0},onComplete:()=>{u&&u(2e3)}}).call(()=>{t.odometerInstance.odometer.update(t.odometerInstance.endValue)}).to([o,s],{opacity:1,y:0,duration:.8,stagger:.2,ease:"power2.out"},"+=0.3").to(n,{opacity:1,scale:1,duration:1.2,stagger:{amount:.8,from:"center"},ease:"back.out(1.4)"},"<")})},yt=()=>{const u=document.querySelector(".regions_wrapper"),e=document.querySelector(".region_button-wrapper"),i=Array.from(document.querySelectorAll(".region_button")),l=Array.from(document.querySelectorAll(".regions_base.is-overlay")),t=Array.from(document.querySelectorAll(".regions-reflections_item"));if(!i.length||!l.length)return;if(u&&e){const m=Array.from(e.children);gsap.timeline().from(u,{scale:.8,autoAlpha:0,duration:1.5,ease:"back.out(1.7)"}).from(m,{autoAlpha:0,y:20,duration:1.2,stagger:.1,ease:"back.out(1.7)"},"+=0.05")}const o=m=>{const h=m.className.match(/is-(?!overlay)([a-z0-9-]+)/i);return h?h[1]:""},s=m=>(m.getAttribute("data-region")||o(m)).trim(),r=new Map,a=new Map;if(l.forEach(m=>{const h=s(m);h&&r.set(h,m)}),t.forEach(m=>{const h=s(m);h&&a.set(h,m)}),!r.size)return;gsap.set([...r.values()],{autoAlpha:0,pointerEvents:"none"}),a.size&&gsap.set([...a.values()],{autoAlpha:0});let n,d,c,p;const g=(m,h,y)=>{if(p&&(clearTimeout(p),p=null),n===m&&d===h)return;const f=n,S=d;f&&(gsap.killTweensOf(f),gsap.to(f,{autoAlpha:0,duration:.2,onComplete:()=>gsap.set(f,{display:"none"})})),S&&(gsap.killTweensOf(S),gsap.to(S,{autoAlpha:0,duration:.2})),n=m,d=h,c&&c.classList.remove("is-active"),c=y||null,c&&c.classList.add("is-active"),n&&(gsap.killTweensOf(n),gsap.set(n,{display:"block"}),gsap.fromTo(n,{autoAlpha:0},{autoAlpha:1,duration:.3})),d&&(gsap.killTweensOf(d),gsap.fromTo(d,{autoAlpha:0,scale:.8},{autoAlpha:1,scale:1,duration:.5,ease:"back.out(1.7)"}))};i.forEach(m=>{const h=s(m),y=r.get(h),f=a.get(h);y&&(m.addEventListener("mouseenter",()=>g(y,f,m)),m.addEventListener("mouseleave",()=>{n===y&&(p=setTimeout(()=>{g(null,null,null)},100))}))})};function vt(){const u=document.querySelector("[data-modal-slide-group]");if(!u)return null;const e=u.querySelectorAll("[data-modal-slide-name]"),i=u.querySelectorAll("[data-modal-slide-target]"),l=u.querySelectorAll("[data-modal-slide-close]"),t=a=>{const n=u.querySelector(`[data-modal-slide-name="${a}"]`);n&&(e.forEach(d=>d.setAttribute("data-modal-slide-status","not-active")),n.setAttribute("data-modal-slide-status","active"),u.setAttribute("data-modal-slide-group","active"),gsap.set(n,{opacity:1}),gsap.fromTo(n,{y:"100%"},{y:"0%",duration:.6,ease:"power3.out"}))};let o=null;const s=()=>{const a=u.querySelector('[data-modal-slide-name][data-modal-slide-status="active"]');a&&gsap.to(a,{y:"100%",duration:.5,ease:"power3.in",onComplete:()=>{i.forEach(n=>n.setAttribute("data-modal-slide-status","not-active")),e.forEach(n=>n.setAttribute("data-modal-slide-status","not-active")),u.setAttribute("data-modal-slide-group","not-active"),gsap.set(a,{opacity:0}),o&&o()}})};return i.forEach(a=>{a.addEventListener("click",function(){t(this.getAttribute("data-modal-slide-target"))})}),l.forEach(a=>a.addEventListener("click",s)),document.addEventListener("keydown",a=>{a.key==="Escape"&&u.getAttribute("data-modal-slide-group")==="active"&&s()}),{openModal:t,closeModals:s,setOnClose:a=>{o=a}}}const bt=()=>{const u=vt(),e=[];let i=!1;(()=>{const o=document.querySelector(".section_events .events_top .text-size-medium"),s=document.querySelectorAll(".events_list-wrapper > *"),r=document.querySelector(".events_bottom .button");if(!o||!s.length||!r)return;gsap.set([o,...s,r],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:".section_events",start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(o,{opacity:1,y:0,duration:.8,ease:"power3.out"}).to(s,{opacity:1,y:0,duration:.6,ease:"power2.out",stagger:.15},"-=0.4").to(r,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.2")})(),document.querySelectorAll('[data-tabs="wrapper"]').forEach(o=>{const s=o.querySelectorAll('[data-tabs="content-item"]'),r=o.querySelectorAll('[data-tabs="visual-item"]'),a=o.dataset.tabsAutoplay==="true",n=parseInt(o.dataset.tabsAutoplayDuration)||5e3;let d=null,c=null,p=!1,g=null;const m={current:null};function h(f){g&&g.kill();const S=s[f].querySelector('[data-tabs="item-progress"]');S&&(gsap.set(S,{scaleX:0,transformOrigin:"left center"}),g=gsap.to(S,{scaleX:1,duration:n/1e3,ease:"power1.inOut",onComplete:()=>{if(!p){const v=(f+1)%s.length;y(v)}}}),m.current=g)}function y(f){if(p||s[f]===d)return;p=!0,g&&g.kill();const S=d,v=c,b=S?.querySelector('[data-tabs="item-progress"]'),A=s[f],w=r[f],T=A.querySelector('[data-tabs="item-progress"]');S?.classList.remove("is-active"),v?.classList.remove("is-active"),A.classList.add("is-active"),w.classList.add("is-active");const k=gsap.timeline({defaults:{duration:.65,ease:"power3"},onComplete:()=>{d=A,c=w,p=!1,a&&h(f)}});S&&(S.classList.remove("is-active"),v?.classList.remove("is-active"),k.set(b,{transformOrigin:"right center"}).to(b,{scaleX:0,duration:.3},0).to(v,{autoAlpha:0,xPercent:3},0)),A.classList.add("is-active"),w.classList.add("is-active"),k.fromTo(w,{autoAlpha:0,xPercent:3},{autoAlpha:1,xPercent:0},.3).set(T,{scaleX:0,transformOrigin:"left center"},0)}e.push(m),y(0),s.forEach((f,S)=>{f.addEventListener("click",()=>{if(u){const v=f.getAttribute("data-modal-slide-target");v&&(i=!0,e.forEach(b=>{b.current&&b.current.pause()}),window.lenis&&window.lenis.stop(),u.openModal(v))}}),a&&(f.addEventListener("mouseenter",()=>{f===d&&g&&!i&&g.pause()}),f.addEventListener("mouseleave",()=>{f===d&&g&&!i&&g.resume()}))})}),u.setOnClose(()=>{i=!1,e.forEach(o=>{o.current&&o.current.resume()}),window.lenis&&window.lenis.start()})},wt=()=>{document.querySelectorAll(".section_highlight-scroll").forEach(e=>{const i=e.querySelectorAll(".highlight-scroll_icon");e.querySelectorAll(".highlight-scroll_content");const l=e.querySelectorAll(".highlight-scroll_content .heading-style-h3"),t=e.querySelectorAll(".highlight_timeline-circle"),o=e.querySelector(".highlight_timeline-line"),s=e.querySelector(".highlight-scroll_icon-wrapper");i.length===0||l.length===0||(i.forEach((r,a)=>{a===0?(r.classList.add("is-active"),gsap.set(r,{autoAlpha:1})):(r.classList.remove("is-active"),gsap.set(r,{autoAlpha:0}))}),gsap.timeline({scrollTrigger:{trigger:e,start:"top center",end:"bottom center",scrub:1,onUpdate:r=>{const a=r.progress,n=Math.round(a*(l.length-1)),d=Math.min(Math.max(n,0),l.length-1);if(i.forEach((c,p)=>{p===d?(c.classList.add("is-active"),gsap.to(c,{autoAlpha:1,duration:.3,ease:"power2.out"})):(c.classList.remove("is-active"),gsap.to(c,{autoAlpha:0,duration:.3,ease:"power2.out"}))}),t.forEach((c,p)=>{const g=p===d,m=c.classList.contains("is-active");if(g&&!m?(c.classList.add("is-active"),gsap.fromTo(c,{scale:.5,opacity:.3},{scale:1.2,opacity:1,duration:.4,ease:"back.out(1.7)"})):!g&&m&&(c.classList.remove("is-active"),gsap.to(c,{scale:.8,opacity:.3,duration:.3,ease:"power2.out"})),s){const h=s.getBoundingClientRect(),y=e.getBoundingClientRect(),f=h.top-y.top,S=y.height,v=Math.max(0,Math.min(1,f/S));gsap.set(c,{y:v*100+"%",transformOrigin:"center center"})}}),o&&s){const c=s.getBoundingClientRect(),p=e.getBoundingClientRect(),g=c.top-p.top,m=p.height,h=Math.max(0,Math.min(1,g/m));gsap.set(o,{scaleY:h,transformOrigin:"top center"})}}}}),l.forEach((r,a)=>{ScrollTrigger.create({trigger:r,start:"top center",end:"bottom center",onEnter:()=>{i.forEach((n,d)=>{const c=d===a;n.classList.contains("is-active"),c?(n.classList.add("is-active"),gsap.to(n,{autoAlpha:1,duration:.3,ease:"power2.out"})):(n.classList.remove("is-active"),gsap.to(n,{autoAlpha:0,duration:.3,ease:"power2.out"}))}),t.forEach((n,d)=>{const c=d===a,p=n.classList.contains("is-active");c&&!p?(n.classList.add("is-active"),gsap.fromTo(n,{scale:.5,opacity:.3},{scale:1.2,opacity:1,duration:.4,ease:"back.out(1.7)"})):!c&&p&&(n.classList.remove("is-active"),gsap.to(n,{scale:.8,opacity:.3,duration:.3,ease:"power2.out"}))})},onEnterBack:()=>{i.forEach((n,d)=>{const c=d===a;n.classList.contains("is-active"),c?(n.classList.add("is-active"),gsap.to(n,{autoAlpha:1,duration:.3,ease:"power2.out"})):(n.classList.remove("is-active"),gsap.to(n,{autoAlpha:0,duration:.3,ease:"power2.out"}))}),t.forEach((n,d)=>{const c=d===a,p=n.classList.contains("is-active");c&&!p?(n.classList.add("is-active"),gsap.fromTo(n,{scale:.5,opacity:.3},{scale:1.2,opacity:1,duration:.4,ease:"back.out(1.7)"})):!c&&p&&(n.classList.remove("is-active"),gsap.to(n,{scale:.8,opacity:.3,duration:.3,ease:"power2.out"}))})}})}))})},At=()=>{document.querySelectorAll(".button[data-tier]").forEach(e=>{const i=e.getAttribute("data-tier");i&&e.addEventListener("click",()=>{const l=document.querySelector(`.benefits_lightbox[data-tier="${i}"]`);l&&l.click()})})};class St{constructor(e,i=0){if(!e||!(e instanceof HTMLElement))throw new Error("Invalid element provided.");this.highlightedElement=e,this.highlightedWords=this.highlightedElement.querySelectorAll(".word"),this.delay=i,this.animationDefaults={duration:.4,ease:"power1"},this.setInitialState(),this.initializeEffect()}setInitialState(){gsap.set(this.highlightedWords,{scale:1.3,opacity:0}),gsap.set(this.highlightedElement,{"--after-scale":0})}initializeEffect(){this.scroll()}scroll(){ScrollTrigger.create({trigger:this.highlightedElement,start:"top 60%",onEnter:()=>this.animateWords(),onEnterBack:()=>this.animateWords(),onLeave:()=>this.resetWords(),onLeaveBack:()=>this.resetWords()})}animateWords(){gsap.timeline({defaults:this.animationDefaults,delay:this.delay}).fromTo(this.highlightedWords,{scale:1.3,opacity:0},{stagger:e=>.1+.05*e,scale:1,opacity:1}).fromTo(this.highlightedElement,{"--after-scale":0},{duration:.8,ease:"expo","--after-scale":1},0)}resetWords(){gsap.killTweensOf([this.highlightedWords,this.highlightedElement]),gsap.set(this.highlightedElement,{"--after-scale":0})}}const xt=()=>{const u=document.querySelectorAll(".section_highlight-content.is-title-waterfall .highlight-title_container"),e=document.querySelectorAll(".section_highlight-content.is-title-waterfall .highlight-content_bottom");!u.length||!e.length||(u.forEach(i=>{const l=i.querySelector(".highlight-title-heading");if(!l)return;const o=new SplitText(l,{type:"chars",charsClass:"letter"}).chars;requestAnimationFrame(()=>{const s=i.clientHeight-l.clientHeight;ScrollTrigger.create({trigger:i,pin:l,start:"top top",end:"+="+s}),o.forEach(r=>{const a=Math.random()*s;gsap.from(r,{y:a,ease:"none",scrollTrigger:{trigger:l,start:"top top",end:"+="+a,scrub:!0}})})})}),e.forEach(i=>{const l=i.querySelector(".text-size-large"),t=i.querySelector(".highlight-image_wrapper"),o=i.querySelectorAll("[data-highlight-stagger]");l&&gsap.from(l,{y:30,opacity:0,duration:.8,ease:"power2.out",scrollTrigger:{trigger:i,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}),o.forEach(s=>{new SplitText(s,{type:"words",wordsClass:"word"}),new St(s,.5)}),t&&gsap.from(t,{scale:.8,opacity:0,duration:1.2,ease:"power2.out",scrollTrigger:{trigger:i,start:"top 50%",end:"bottom 20%",toggleActions:"play none none reverse"}})}))};gsap.registerPlugin(ScrollTrigger,SplitText),window.lenis=G();const Et=()=>{N(),J(),K(),Q(),Z(),tt(),et(),ot(),at(),xt(),rt(),nt(),st(),it(),ct(),lt(),dt(),ut(),gt(),ht(),yt(),bt(),wt(),At()};document.addEventListener("DOMContentLoaded",async()=>{await document.fonts.ready,Et()})})();
