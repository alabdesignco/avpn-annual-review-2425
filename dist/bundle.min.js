(function(){"use strict";const nt=()=>{const l=new Lenis({duration:1.5,easing:s=>Math.min(1,1.001-Math.pow(2,-10*s)),orientation:"vertical",gestureOrientation:"vertical",allowNestedScroll:!0,smoothWheel:!0,wheelMultiplier:.9,smoothTouch:!0,syncTouch:!0,touchMultiplier:1,infinite:!1});return l.on("scroll",ScrollTrigger.update),gsap.ticker.add(s=>{l.raf(s*1e3)}),gsap.ticker.lagSmoothing(0),l};function J(){const l=document.querySelector("[data-modal-group-status]"),s=document.querySelectorAll("[data-modal-name]"),i=document.querySelectorAll("[data-modal-target]");i.forEach(o=>{o.addEventListener("click",function(){const a=this.getAttribute("data-modal-target");i.forEach(t=>t.setAttribute("data-modal-status","not-active")),s.forEach(t=>t.setAttribute("data-modal-status","not-active")),document.querySelector(`[data-modal-target="${a}"]`).setAttribute("data-modal-status","active"),document.querySelector(`[data-modal-name="${a}"]`).setAttribute("data-modal-status","active"),l&&l.setAttribute("data-modal-group-status","active"),window.lenis&&window.lenis.stop()})}),document.querySelectorAll("[data-modal-close]").forEach(o=>{o.addEventListener("click",u)}),document.addEventListener("keydown",function(o){o.key==="Escape"&&u()});function u(){i.forEach(o=>o.setAttribute("data-modal-status","not-active")),s.forEach(o=>o.setAttribute("data-modal-status","not-active")),l&&l.setAttribute("data-modal-group-status","not-active"),window.lenis&&window.lenis.start()}}const st=(l="img")=>new Promise(s=>{imagesLoaded(document.querySelectorAll(l),{background:!0},s)}),it=()=>{if(!document.querySelector(".section_home-header .home-header_wrapper"))return;class s{constructor(){this.dom=document.querySelector(".section_home-header"),this.grid=document.querySelector(".home-header_wrapper"),this.imageWrappers=[...document.querySelectorAll(".home-header_image-wrapper")],this.heading=document.querySelector(".home-header_heading"),this.navbar=document.querySelector(".navbar_component"),this.taglines=[...document.querySelectorAll(".tagline")],this.baseX=0,this.baseY=0}init(){this.intro()}intro(){this.centerGrid(),this.setupSplitText();const o=gsap.timeline();o.set(this.dom,{scale:.5}),o.set(this.imageWrappers,{scale:.5,autoAlpha:0}),this.taglines.length>0&&o.set(this.taglines,{yPercent:100,autoAlpha:0}),o.set(this.navbar,{y:-100,autoAlpha:0}),o.to(this.heading,{autoAlpha:1,duration:.1}),o.from(this.headingChars,{yPercent:100,autoAlpha:0,duration:2,ease:"expo.inOut",stagger:.02}),this.taglines.length>0&&o.to(this.taglines,{yPercent:0,autoAlpha:1,duration:.8,ease:"expo.out",stagger:.15},"-=1.5"),o.to(this.imageWrappers,{scale:1,autoAlpha:1,duration:.6,ease:"power3.out",stagger:{amount:1.2,from:"random"}}),o.to(this.dom,{scale:1,duration:1.2,ease:"power3.inOut"}),o.to(this.navbar,{y:0,autoAlpha:1,duration:.8,ease:"power3.out"},"-=0.4"),o.call(()=>{this.animateToPositions(),this.addEvents(),this.observeImages(),this.applyHideAfterIntro()})}animateToPositions(){const o=window.matchMedia("(max-width: 479px)").matches,a=window.matchMedia("(min-width: 480px) and (max-width: 991px)").matches,t=window.innerWidth>=992;this.imageWrappers.forEach(e=>{if(e.hasAttribute("data-hide-after")){const r=e.getAttribute("data-hide-after");if(!r||r==="mobile"&&o||r==="tablet"&&a||r==="desktop"&&t)return}gsap.to(e,{x:this.getResponsiveValue(e,"x")||0,y:this.getResponsiveValue(e,"y")||0,duration:.96,ease:"power3.inOut"})})}setupSplitText(){this.heading&&(this.splitText=SplitText.create(this.heading,{type:"chars",mask:"chars"}),this.headingChars=this.splitText.chars)}getResponsiveValue(o,a){const t=window.matchMedia("(max-width: 479px)").matches,e=window.matchMedia("(min-width: 480px) and (max-width: 991px)").matches;return t?o.dataset[`mobile${a.charAt(0).toUpperCase()+a.slice(1)}`]||o.dataset[`tablet${a.charAt(0).toUpperCase()+a.slice(1)}`]||o.dataset[a]:e&&o.dataset[`tablet${a.charAt(0).toUpperCase()+a.slice(1)}`]||o.dataset[a]}repositionImages(){this.imageWrappers.forEach(o=>{const a=this.getResponsiveValue(o,"x")||0,t=this.getResponsiveValue(o,"y")||0;gsap.set(o,{x:a,y:t})})}centerGrid(){const o=this.grid.offsetWidth,a=this.grid.offsetHeight,t=window.innerWidth,e=window.innerHeight,r=(t-o)/2,d=(e-a)/2;gsap.set(this.grid,{x:r,y:d}),this.baseX=r,this.baseY=d}addEvents(){let o,a=window.innerWidth;window.addEventListener("resize",()=>{clearTimeout(o),o=setTimeout(()=>{const e=window.innerWidth;e!==a&&(this.centerGrid(),this.repositionImages(),a=e)},200)}),window.innerWidth>=992&&this.dom.addEventListener("mousemove",e=>{const r=(e.clientX/window.innerWidth-.5)*30,d=(e.clientY/window.innerHeight-.5)*30;gsap.to(this.grid,{x:this.baseX+r,y:this.baseY+d,duration:.8,ease:"power2.out",overwrite:"auto"})})}observeImages(){if(!(window.innerWidth>=992))return;const a=.88,t=.72,e=[0,.5,.72,.88,1],r=new IntersectionObserver(d=>{d.forEach(n=>{const c=n.target,g=n.intersectionRatio;!(c.__visible===!0)&&g>=a?(c.__visible=!0,gsap.to(c,{scale:1,autoAlpha:1,duration:.8,ease:"power3.out"})):g<=t&&c.__visible!==!1&&(c.__visible=!1,gsap.to(c,{scale:.5,autoAlpha:0,duration:.6,ease:"power3.out"}))})},{threshold:e});this.imageWrappers.forEach(d=>{d.hasAttribute("data-hide-after")||r.observe(d)})}applyHideAfterIntro(){const o=window.matchMedia("(max-width: 479px)").matches,a=window.matchMedia("(min-width: 480px) and (max-width: 991px)").matches,t=window.innerWidth>=992;this.imageWrappers.forEach(e=>{if(e.hasAttribute("data-hide-after")){const r=e.getAttribute("data-hide-after");(!r||r==="mobile"&&o||r==="tablet"&&a||r==="desktop"&&t)&&gsap.to(e,{scale:.5,autoAlpha:0,duration:.6,ease:"power3.out"})}else t||gsap.set(e,{scale:1,autoAlpha:1})})}}const i=new s;st(".home-header_image").then(()=>{i.init(),document.body.classList.remove("loading")})},ct=()=>{if(typeof document>"u")return;gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},s=>{const{isMobile:i,isMobileLandscape:u,isTablet:o}=s.conditions,a=gsap.context(()=>{const t=document.querySelectorAll("[data-horizontal-scroll-wrap]");t.length&&(t.forEach(e=>{const r=e.querySelector(".foreword-ceo_image-wrapper"),d=e.querySelector(".foreword-header_accent.is-1"),n=e.querySelector(".foreword-header_accent.is-2"),c=e.querySelector(".foreword_ceo-label-wrapper");r&&gsap.set(r,{opacity:0,scale:.8}),d&&gsap.set(d,{scale:0,transformOrigin:"center"}),n&&gsap.set(n,{scale:0,transformOrigin:"center"}),c&&gsap.set(c,{opacity:0,y:20});const g=gsap.timeline({scrollTrigger:{trigger:r||e,start:"top 40%"}});r&&g.to(r,{opacity:1,scale:1,duration:.6,ease:"back.out(1.7)"},0),d&&g.to(d,{scale:1,duration:.8,ease:"back.out(1.7)"},.6),n&&g.to(n,{scale:1,duration:.8,ease:"back.out(1.7)"},.6),c&&g.to(c,{opacity:1,y:0,duration:.6,ease:"back.out(1.7)"},.6);const p=e.querySelectorAll(".shape.is-foreword-1, .shape.is-foreword-2, .shape.is-foreword-3, .shape.is-foreword-4");gsap.set(p,{scale:0,rotation:0});const f=e.querySelectorAll("#foreword > p");f.length&&(gsap.set(f,{opacity:0,clipPath:"circle(0% at 100% 0%)"}),f.forEach(A=>{}),f.forEach((A,T)=>{A.classList.add(`foreword-paragraph-${T}`)}))}),t.forEach(e=>{const r=e.getAttribute("data-horizontal-scroll-disable");if(r==="mobile"&&i||r==="mobileLandscape"&&u||r==="tablet"&&o){const p=e.querySelectorAll("#foreword > p");p.length&&p.forEach((f,A)=>{gsap.to(f,{opacity:1,clipPath:"circle(150% at 100% 0%)",duration:1,scrollTrigger:{trigger:f,start:"top 80%",toggleActions:"play none none none"},delay:A*.15})});return}const n=gsap.utils.toArray("[data-horizontal-scroll-panel]",e);if(n.length<2)return;const c=e.querySelectorAll("#foreword > p"),g=c.length;gsap.to(n,{x:()=>-(e.scrollWidth-window.innerWidth),ease:"none",scrollTrigger:{trigger:e,start:"top top",end:()=>"+="+(e.scrollWidth-window.innerWidth),scrub:!0,pin:!0,invalidateOnRefresh:!0,onUpdate:p=>{let f=Math.min(Math.max(p.progress,0),1);o&&!u&&(f=Math.pow(f,.6));const A=Math.min(Math.floor(f*g),g-1),T=e.querySelector(".shape.shape--rounded.is-foreword-1"),M=e.querySelector(".shape.shape--circle.is-foreword-2"),S=e.querySelector(".shape.shape--leaf.is-foreword-3"),C=e.querySelector(".shape.shape--quarter.is-foreword-4");f>=.2&&T&&!T.hasAttribute("data-rotating")&&(gsap.to(T,{scale:1,duration:.6,ease:"back.out(1.7)"}),gsap.to(T,{rotation:"+=360",duration:20,ease:"none",repeat:-1}),T.setAttribute("data-rotating","true")),f>=.5&&M&&!M.hasAttribute("data-rotating")&&(gsap.to(M,{scale:1,duration:.6,ease:"back.out(1.7)"}),gsap.to(M,{rotation:"+=360",duration:18,ease:"none",repeat:-1}),M.setAttribute("data-rotating","true")),f>=.8&&S&&!S.hasAttribute("data-rotating")&&(gsap.to(S,{scale:1,duration:.6,ease:"back.out(1.7)"}),gsap.to(S,{rotation:"+=360",duration:16,ease:"none",repeat:-1}),S.setAttribute("data-rotating","true")),f>=.99&&C&&!C.hasAttribute("data-rotating")&&(gsap.to(C,{scale:1,duration:.6,ease:"back.out(1.7)"}),gsap.to(C,{rotation:"+=360",duration:14,ease:"none",repeat:-1}),C.setAttribute("data-rotating","true")),c.forEach((w,m)=>{m<=A&&gsap.to(w,{opacity:1,clipPath:"circle(150% at 100% 0%)",duration:1.2})})}}})}))});return()=>a.revert()})},lt=()=>{document.querySelectorAll('[data-sticky-title="wrap"]').forEach(s=>{const i=Array.from(s.querySelectorAll('[data-sticky-title="heading"]')),u=Array.from(s.querySelectorAll(".bg-shape img")),o=gsap.timeline({scrollTrigger:{trigger:s,start:"top 40%",end:"bottom bottom",scrub:!0}}),a=.7,t=.7,e=.15;u.forEach((r,d)=>{gsap.set(r,{autoAlpha:0,scale:1.1})}),i.forEach((r,d)=>{const n=gsap.timeline();r.setAttribute("aria-label",r.textContent);const c=new SplitText(r,{type:"words,chars"});c.words.forEach(p=>p.setAttribute("aria-hidden","true")),gsap.set(r,{visibility:"visible"});const g=s.querySelector(`.bg-shape.is-${d+1} img`);if(d===0)n.fromTo(g,{autoAlpha:0,scale:1.1},{autoAlpha:1,scale:1,duration:.8,ease:"power2.out"},.2);else{const p=s.querySelector(`.bg-shape.is-${d} img`);n.to(p,{autoAlpha:0,scale:1.1,duration:.8,ease:"power2.out"},0),n.fromTo(g,{autoAlpha:0,scale:1.1},{autoAlpha:1,scale:1,duration:.8,ease:"power2.out"},.4)}n.from(c.chars,{autoAlpha:0,stagger:{amount:a,from:"start"},duration:a},d===0?0:t*.3),d<i.length-1&&n.to(c.chars,{autoAlpha:0,stagger:{amount:t,from:"end"},duration:t}),d===0?o.add(n):o.add(n,`-=${e}`)})})},dt=()=>{const l=[{cause:"Affordable Housing",count:103,percent:16},{cause:"Ageing",count:108,percent:17},{cause:"Agriculture",count:217,percent:34},{cause:"Arts & Culture",count:126,percent:20},{cause:"Climate Action & Environment",count:364,percent:58},{cause:"Conservation",count:128,percent:20},{cause:"Education",count:379,percent:60},{cause:"Employability",count:229,percent:36},{cause:"Energy",count:188,percent:30},{cause:"Financial Inclusion",count:221,percent:35},{cause:"Gender",count:254,percent:40},{cause:"Governance",count:130,percent:21},{cause:"Health & Nutrition",count:207,percent:33},{cause:"Livelihood & Poverty Alleviation",count:329,percent:52},{cause:"Water, Sanitation & Hygiene",count:185,percent:29}],s=t=>getComputedStyle(document.documentElement).getPropertyValue(t).trim(),i={Education:s("--color-education"),"Climate Action & Environment":s("--color-climate"),"Livelihood & Poverty Alleviation":s("--color-livelihood"),"Health & Nutrition":s("--color-health"),Employability:s("--color-employability"),Gender:s("--color-gender"),"Financial Inclusion":s("--color-financial-inclusion"),Agriculture:s("--color-agriculture"),Energy:s("--color-energy"),"Water, Sanitation & Hygiene":s("--color-water"),"Arts & Culture":s("--color-arts"),Governance:s("--color-governance"),Conservation:s("--color-conservation"),Ageing:s("--color-aging"),"Affordable Housing":s("--color-affordable-housing")};let u=!1;const o=(t=!1)=>{const e=document.querySelector(".supported-chart");if(!e)return;const r=e.offsetWidth,d=e.offsetHeight,n=Math.min(r,d),c=n,g=n,p=n*.15;d3.select(".supported-chart svg").remove();const f=window.matchMedia("(max-width: 991px)").matches,A=d3.select(".supported-chart").append("svg").attr("viewBox",`0 0 ${c} ${g}`).attr("preserveAspectRatio","xMidYMid meet").style("width","100%").style("height","100%").append("g").attr("transform",`translate(${c/2},${g/2-(f?0:80)})`),T=d3.pie().sort(null).value(1);d3.arc().innerRadius(p).outerRadius(h=>p+h.data.percent*n*.0048).cornerRadius(10).padAngle(.035);const M=A.selectAll("path").data(T(l)).enter().append("path").attr("fill",h=>i[h.data.cause]||"#ccc").attr("d",d3.arc().innerRadius(p).outerRadius(t?p:p+(h=>h.data.percent*n*.0048))).attr("stroke","#fff").attr("stroke-width",2).style("cursor","pointer");t&&!u&&(u=!0,M.transition().delay((h,b)=>b*100).duration(800).ease(d3.easeCubicOut).attrTween("d",function(h){const b=d3.interpolate(p,p+h.data.percent*n*.0048);return function(q){return d3.arc().innerRadius(p).outerRadius(b(q)).cornerRadius(10).padAngle(.035)(h)}}));const S=(h,b)=>{const q=h.split(/\s+/);if(q.length<=2)return[h];const E=document.createElement("canvas").getContext("2d");E.font=`700 ${n*.02}px sans-serif`;let L=Math.ceil(q.length/2),k=q.slice(0,L).join(" "),P=q.slice(L).join(" ");for(;L>1&&(E.measureText(k).width>b||E.measureText(P).width>b);)L--,k=q.slice(0,L).join(" "),P=q.slice(L).join(" ");return[k,P]},C=A.append("g").attr("class","supported-chart_center-text").style("pointer-events","none"),w=C.append("text").attr("class","center-cause").attr("opacity",0).style("font-size",`${n*.02}px`).style("font-weight","700").style("fill","var(--color-scheme-1--text)").style("text-anchor","middle");C.append("text").attr("class","center-percent").attr("y",n*.025).attr("opacity",0).style("font-size",`${n*.018}px`).style("font-weight","700").style("fill","var(--_primitives---brand--primary--navy-medium)").style("text-anchor","middle");let m=null;const y=h=>{const b=S(h.data.cause,p*1.8),q=n*.02,E=b.length>1?n*.008:0,L=-(b.length-1)*q/2-n*.01-E;w.selectAll("*").remove(),b.forEach((k,P)=>{w.append("tspan").attr("x",0).attr("dy",P===0?0:q).text(k)}),w.attr("y",L).transition().duration(200).style("opacity",1),C.select(".center-percent").text(`${h.data.percent}%`).transition().duration(200).style("opacity",1)},x=()=>{A.selectAll("path").transition().duration(200).style("opacity",1),C.selectAll("text").transition().duration(200).style("opacity",0)};f?M.on("click",function(h,b){if(m===this){m=null,x();return}m=this,A.selectAll("path").transition().duration(200).style("opacity",.3),d3.select(this).transition().duration(200).style("opacity",1),y(b)}):M.on("mouseover",function(h,b){A.selectAll("path").transition().duration(200).style("opacity",.3),d3.select(this).transition().duration(200).style("opacity",1),y(b)}).on("mouseout",function(){x()}),document.querySelectorAll(".supported-chart_legend-color").forEach(h=>{const b=parseInt(h.dataset.index),q=l[b]?.cause;if(!q)return;const E=i[q];E&&(h.style.backgroundColor=E)});const v=A.selectAll("path");document.querySelectorAll(".supported-chart_legend-item").forEach(h=>{const b=parseInt(h.querySelector(".supported-chart_legend-color").dataset.index);f?h.addEventListener("click",()=>{const q=v.nodes()[b];if(m===q){m=null,x();return}m=q,v.transition().duration(200).style("opacity",.3),d3.select(q).transition().duration(200).style("opacity",1);const E=l[b],L=S(E.cause,p*1.8),k=n*.02,P=L.length>1?n*.008:0,B=-(L.length-1)*k/2-n*.01-P;w.selectAll("*").remove(),L.forEach((R,F)=>{w.append("tspan").attr("x",0).attr("dy",F===0?0:k).text(R)}),w.attr("y",B).transition().duration(200).style("opacity",1),C.select(".center-percent").text(`${E.percent}%`).transition().duration(200).style("opacity",1)}):(h.addEventListener("mouseenter",()=>{v.transition().duration(200).style("opacity",.3),d3.select(v.nodes()[b]).transition().duration(200).style("opacity",1);const q=l[b],E=S(q.cause,p*1.8),L=n*.02,k=E.length>1?n*.008:0,P=-(E.length-1)*L/2-n*.01-k;w.selectAll("*").remove(),E.forEach((B,R)=>{w.append("tspan").attr("x",0).attr("dy",R===0?0:L).text(B)}),w.attr("y",P).transition().duration(200).style("opacity",1),C.select(".center-percent").text(`${q.percent}%`).transition().duration(200).style("opacity",1)}),h.addEventListener("mouseleave",()=>{v.transition().duration(200).style("opacity",1),C.selectAll("text").transition().duration(200).style("opacity",0)}))})};o(),gsap.timeline({scrollTrigger:{trigger:".supported-chart",start:"top 80%",once:!0,onEnter:()=>o(!0)}}),gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},()=>{const t=()=>o(u);return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}})},ut=()=>{const l={name:"Beneficiary Communities",children:[{name:"Children & Youths",value:436,percent:69},{name:"Women & Girls",value:411,percent:65},{name:"People in Poverty",value:398,percent:63},{name:"Environment",value:303,percent:48},{name:"People without Employment",value:259,percent:41},{name:"People with Disabilities",value:208,percent:33},{name:"Elderly",value:196,percent:31},{name:"People with Medical Needs",value:196,percent:31},{name:"Ethnic Minorities",value:183,percent:29},{name:"Immigrants, Asylum Seekers & Refugees",value:114,percent:18},{name:"Offenders & Re-Offenders",value:44,percent:7}]},s=document.querySelector(".beneficiary-treemap");if(!s)return;gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},u=>{const{isMobile:o,isMobileLandscape:a,isTablet:t}=u.conditions,e=s.clientWidth||1e3,r=s.clientHeight||600,d=8;s.innerHTML="";const n=d3.select(s).append("svg").attr("viewBox",[0,0,e,r]).style("width","100%").style("height","100%"),c={"Children & Youths":"#00B3AD","Women & Girls":"#F17C38","People in Poverty":"#FED452",Environment:"#ADD5E0","People without Employment":"#4AC1BE","People with Disabilities":"#002943",Elderly:"#F59D6A","People with Medical Needs":"#FEE07E","Ethnic Minorities":"#86D1D1","Immigrants, Asylum Seekers & Refugees":"#80BDB4","Offenders & Re-Offenders":"#F2948C"},g=o||t||a,p=200,f=g?{...l,children:l.children.map(m=>({...m,layoutValue:Math.max(m.value,p)}))}:{...l,children:l.children.map(m=>({...m,layoutValue:m.value}))},A=d3.hierarchy(f).sum(m=>m.layoutValue).sort((m,y)=>y.layoutValue-m.layoutValue),T=o||t?d3.treemapSlice:d3.treemapBinary;d3.treemap().tile(T).size([e,r]).paddingInner(d).round(!0)(A);const M=n.selectAll("g").data(A.leaves()).join("g").attr("transform",m=>`translate(${m.x0},${m.y0})`).style("cursor","pointer").style("opacity",0),S=m=>{const y=d3.color(m);return .2126*(y.r/255)+.7152*(y.g/255)+.0722*(y.b/255)>.6?"#002943":"#ffffff"},C=(m,y)=>{m.each(function(){const x=d3.select(this),v=x.text().split(/\s+/).reverse();let h,b=[],q=0;const E=1.1,L=x.attr("y");let k=x.text(null).append("tspan").attr("x",16).attr("y",L);for(;h=v.pop();)b.push(h),k.text(b.join(" ")),k.node().getComputedTextLength()>y&&(b.pop(),k.text(b.join(" ")),b=[h],k=x.append("tspan").attr("x",16).attr("y",L).attr("dy",`${++q*E}em`).text(h))})};let w=null;M.each(function(m){const y=d3.select(this),x=c[m.data.name]||"#ccc",v=S(x),h=m.x1-m.x0,b=m.y1-m.y0,q=y.append("rect").attr("fill",x).attr("rx",10).attr("ry",10).attr("width",h).attr("height",b).style("filter","drop-shadow(0 1px 2px rgba(0,0,0,0.05))").style("transform-origin",`${h/2}px ${b/2}px`);gsap.set(q.node(),{scale:1});const E=g&&b<50,L=E?"0.75rem":g?"0.875rem":"1rem",k=E?b/2+4:24,P=y.append("text").attr("x",16).attr("y",k).attr("fill",v).attr("font-size",L).attr("font-weight",600).text(m.data.name).call(C,h-32),B=g?.95:.6;P.node().getBBox().height>b*B&&P.style("display","none");let R=null;const F=g?30:40,N=g?60:80;if(b>F&&h>N){const H=g?"0.875rem":"1.25rem";R=y.append("text").attr("x",h-16).attr("y",b-12).attr("text-anchor","end").attr("fill",v).attr("font-size",H).attr("opacity",0).text(`${Math.round(m.data.percent)}%`)}window.matchMedia("(hover: hover) and (pointer: fine)").matches?y.on("mouseenter",()=>{y.raise(),gsap.to(q.node(),{scale:1.05,duration:.25,ease:"power2.out"}),gsap.to(q.node(),{filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.15))",duration:.25,ease:"power2.out"}),gsap.to(M.nodes().filter(H=>H!==y.node()),{opacity:.3,duration:.25,ease:"power2.out"}),R&&gsap.to(R.node(),{opacity:1,duration:.25,ease:"power2.out"})}).on("mouseleave",()=>{gsap.to(q.node(),{scale:1,duration:.25,ease:"power2.out"}),gsap.to(q.node(),{filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.05))",duration:.25,ease:"power2.out"}),gsap.to(M.nodes(),{opacity:1,duration:.25,ease:"power2.out"}),R&&gsap.to(R.node(),{opacity:0,duration:.25,ease:"power2.out"})}):y.on("click",()=>{const H=w===y.node();if(w&&!H){const X=d3.select(w),G=X.select("rect"),U=X.selectAll("text").filter(function(){return d3.select(this).attr("text-anchor")==="end"});gsap.to(G.node(),{scale:1,filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.05))",duration:.25,ease:"power2.out"}),U.empty()||gsap.to(U.node(),{opacity:0,duration:.25,ease:"power2.out"})}H?(gsap.to(q.node(),{scale:1,filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.05))",duration:.25,ease:"power2.out"}),R&&gsap.to(R.node(),{opacity:0,duration:.25,ease:"power2.out"}),w=null):(y.raise(),gsap.to(q.node(),{scale:1.05,filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.15))",duration:.25,ease:"power2.out"}),R&&gsap.to(R.node(),{opacity:1,duration:.25,ease:"power2.out"}),w=y.node())})}),gsap.to(M.nodes(),{opacity:1,duration:.6,ease:"power2.out",stagger:.08,scrollTrigger:{trigger:s,start:"top 80%",toggleActions:"play none none none"}})})},pt=()=>{const l=document.querySelector(".section_new");if(!l)return;const s=l.querySelector(".new_pin-height"),i=l.querySelector(".new_layout"),u=l.querySelectorAll(".new-paragraph_item"),o=l.querySelector(".button-group");if(!s||!i||u.length===0)return;const a=Array.from(u).map(e=>new SplitText(e,{type:"words",wordsClass:"word",mask:"words"}));gsap.set(a.flatMap(e=>e.words),{yPercent:100});let t=!1;ScrollTrigger.create({trigger:l,start:"top bottom",once:!0,onEnter:()=>{t||(t=!0,requestAnimationFrame(()=>{ScrollTrigger.refresh(),ScrollTrigger.create({trigger:s,start:"top top",end:"bottom bottom",pin:i});const e=gsap.timeline({scrollTrigger:{trigger:s,start:"top top",end:"bottom bottom",scrub:!0}});a.forEach((r,d)=>{e.to(r.words,{yPercent:0,duration:1,stagger:.2,ease:"power4.out"},d>0?"+=0.5":0)}),o&&(gsap.set(o,{opacity:0,y:20}),e.to(o,{opacity:1,y:0,duration:.8,ease:"power2.out"},"+=0.3"))}))}})},gt=()=>{const l=document.querySelector(".section_word-break"),s=document.querySelector(".section_word-break .word-break-text"),i=new SplitText(s,{type:"words, chars",smartWrap:!0,wordsClass:"word",charsClass:"char"}),u=i.chars;i.words;const o=s.clientWidth-document.body.clientWidth,a=gsap.to(s,{x:-o,ease:"none",scrollTrigger:{trigger:".section_word-break .word-break_container",pin:!0,end:"+="+o,scrub:!0}});gsap.from(l,{ease:"power1.out",scrollTrigger:{trigger:".section_word-break .word-break_container",start:"top top",end:"+=200",scrub:!0}}),u.forEach(t=>{gsap.from(t,{yPercent:(Math.random()-.5)*400,rotation:(Math.random()-.5)*60,ease:"elastic.out(1.2, 1)",scrollTrigger:{trigger:t,containerAnimation:a,start:"left 90%",end:"left 10%",scrub:.5}})})};function ht(){document.querySelectorAll("[data-highlight-text]").forEach(s=>{const i=s.getAttribute("data-highlight-scroll-start")||"top 90%",u=s.getAttribute("data-highlight-scroll-end")||"center 40%";s.getAttribute("data-highlight-fade");const o=s.getAttribute("data-highlight-stagger")||.1,a=s.getAttribute("data-highlight-bg")||"#C1E6E7";new SplitText(s,{type:"words",autoSplit:!0,onSplit(t){return gsap.context(()=>{const r=[];t.words.forEach(n=>{const c=document.createElement("div");c.className="highlight-word",n.parentNode.insertBefore(c,n),c.appendChild(n),r.push(c)});let d=gsap.timeline({scrollTrigger:{scrub:!0,trigger:s,start:i,end:u}});t.words.forEach((n,c)=>{const g=r[c],p=c*o;d.set(g,{backgroundColor:a},p).to(g,{backgroundColor:a,duration:.2,ease:"linear"},p+.2).from(n,{opacity:0,duration:.2,ease:"linear"},p+.4).to(g,{backgroundColor:"transparent",duration:.3,ease:"linear"},p+.6)})})}})})}const mt=()=>{document.querySelectorAll(".section-title_component").forEach(s=>{const i=s.querySelector(".section-title_accent-shape.is-1"),u=s.querySelector(".section-title_accent-shape.is-2"),o=s.querySelector(".section-title_inner > h2");if(!i||!u||!o)return;const a=new SplitText(o,{type:"words",mask:"words"});gsap.set([i,u],{scale:0,rotation:-45,transformOrigin:"center center"}),gsap.set(a.words,{autoAlpha:0,y:30}),gsap.timeline({scrollTrigger:{trigger:s,start:"top 80%",end:"bottom 20%"}}).to(i,{scale:1,rotation:0,duration:.6,ease:"back.out(1.7)"}).to(u,{scale:1,duration:.5,ease:"back.out(1.4)"},"-=0.3").to(a.words,{autoAlpha:1,y:0,duration:.7,stagger:.08,ease:"power2.out"},"-=0.2")})},ft=()=>{const l=document.querySelector(".section_highlight-cards .highlight-card_wrapper");if(!l)return;const s=window.matchMedia("(max-width: 991px)").matches,i=document.querySelectorAll(".highlight_card"),u=i.length,o=document.querySelectorAll(".highlight_card .highlight_card-content");if(s){l.classList.add("swiper"),l.innerHTML=`<div class="swiper-wrapper">${l.innerHTML}</div>`,l.querySelectorAll(".highlight_card").forEach(n=>{n.classList.add("swiper-slide")}),new Swiper(l,{effect:"cards",grabCursor:!0,preventClicks:!1,preventClicksPropagation:!1,loop:!0,touchRatio:1.5,touchAngle:45,longSwipesRatio:.5,longSwipesMs:300,cardsEffect:{perSlideOffset:8,perSlideRotate:2,rotate:!0,slideShadows:!1}}),J();return}const a=l.clientWidth;let t=0;i.forEach(d=>{gsap.set(d,{xPercent:(Math.random()-.5)*10,yPercent:(Math.random()-.5)*10,rotation:(Math.random()-.5)*20})});const e=d=>{d<0||d>=i.length||(gsap.set(i[d],{zIndex:"auto"}),gsap.to(i[d],{xPercent:(Math.random()-.5)*10,yPercent:(Math.random()-.5)*10,rotation:(Math.random()-.5)*20,scale:1,duration:.8,ease:"elastic.out(1, 0.75)"}))},r=d=>{i.forEach((n,c)=>{gsap.set(n,{zIndex:c===d?20:"auto"})}),gsap.to(i[d],{xPercent:0,yPercent:0,rotation:0,duration:.8,scale:1.1,ease:"elastic.out(1, 0.75)"}),o.forEach((n,c)=>{c!==d?gsap.to(n,{xPercent:80/(c-d),ease:"elastic.out(1, 0.75)",duration:.8}):gsap.to(n,{xPercent:0,ease:"elastic.out(1, 0.75)",duration:.8})})};l.addEventListener("mousemove",d=>{const c=(d.clientX-l.getBoundingClientRect().left)/a,g=Math.ceil(c*u);t!==g&&g>0&&g<=u&&(t!==0&&e(t-1),t=g,r(t-1))}),l.addEventListener("mouseleave",()=>{t>0&&e(t-1),t=0,gsap.to(o,{xPercent:0,ease:"elastic.out(1, 0.75)",duration:.8})})};function yt(){(()=>{const i=document.querySelector(".section_work");if(!i)return;const u=i.querySelectorAll(".work_list > *"),o=i.querySelector(".button");if(!u.length||!o)return;if(window.matchMedia("(max-width: 479px)").matches){u.forEach((e,r)=>{const d=r%2===0;gsap.set(e,{opacity:0,x:d?100:-100})}),gsap.set(o,{opacity:0,y:30});const t=gsap.timeline({scrollTrigger:{trigger:i,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}});u.forEach((e,r)=>{t.to(e,{opacity:1,x:0,duration:.6,ease:"power2.out"},r*.15)}),t.to(o,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.3")}else gsap.set([...u,o],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:i,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(u,{opacity:1,y:0,duration:.6,ease:"power2.out",stagger:.15}).to(o,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.3")})();const s={top:"translateY(-100%)",bottom:"translateY(100%)",left:"translateX(-100%)",right:"translateX(100%)"};document.querySelectorAll("[data-directional-hover]").forEach(i=>{const u=i.getAttribute("data-type")||"all";i.querySelectorAll("[data-directional-hover-item]").forEach(a=>{const t=a.querySelector("[data-directional-hover-tile]");t&&(a.addEventListener("mouseenter",e=>{const r=o(e,a,u);t.style.transition="none",t.style.transform=s[r]||"translate(0, 0)",t.offsetHeight,t.style.transition="",t.style.transform="translate(0%, 0%)",a.setAttribute("data-status",`enter-${r}`)}),a.addEventListener("mouseleave",e=>{const r=o(e,a,u);a.setAttribute("data-status",`leave-${r}`),t.style.transform=s[r]||"translate(0, 0)"}))});function o(a,t,e){const{left:r,top:d,width:n,height:c}=t.getBoundingClientRect(),g=a.clientX-r,p=a.clientY-d;if(e==="y")return p<c/2?"top":"bottom";if(e==="x")return g<n/2?"left":"right";const f={top:p,right:n-g,bottom:c-p,left:g};return Object.entries(f).reduce((A,T)=>A[1]<T[1]?A:T)[0]}})}function wt(){let i=!1;const u=[];(()=>{const t=document.querySelector(".section_partners");if(!t)return;const e=t.querySelector(".partners_top .text-size-large"),r=t.querySelector(".partners_bottom .text-size-large"),d=t.querySelector(".partners_bottom .button"),n=t.querySelector(".partners-logo-wall_component");!e||!r||!d||!n||(gsap.set([e,r,d,n],{opacity:0,y:30}),gsap.to(e,{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:e,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}),gsap.to(n,{opacity:1,y:0,duration:.8,ease:"power2.out",scrollTrigger:{trigger:n,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse",refreshPriority:-1},onComplete:()=>{i=!0,u.forEach(c=>c())}}),gsap.to(r,{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:r,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}),gsap.to(d,{opacity:1,y:0,duration:.6,ease:"power2.out",scrollTrigger:{trigger:d,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}))})(),document.querySelectorAll("[data-logo-wall-cycle-init]").forEach(t=>{const e=t.querySelector("[data-logo-wall-list]"),r=Array.from(e.querySelectorAll("[data-logo-wall-item]")),d=t.getAttribute("data-logo-wall-shuffle")!=="false";let n=r.map(x=>x.querySelector("[data-logo-wall-target]")).filter(Boolean);if(n.length===0&&(r.map(v=>v.querySelector("[data-logo-wall-target-parent]")).filter(Boolean).forEach(v=>{if(!v.querySelector("[data-logo-wall-target]")){const h=document.createElement("div");h.setAttribute("data-logo-wall-target",""),v.appendChild(h)}}),n=r.map(v=>v.querySelector("[data-logo-wall-target]")).filter(Boolean)),n.length===0)return;let c=[],g=0,p=[],f=[],A=0,T;function M(x){return window.getComputedStyle(x).display!=="none"}function S(x){const v=x.slice();for(let h=v.length-1;h>0;h--){const b=Math.floor(Math.random()*(h+1));[v[h],v[b]]=[v[b],v[h]]}return v}function C(){T&&T.kill(),c=r.filter(M),g=c.length,f=S(Array.from({length:g},(h,b)=>b)),A=0,r.forEach(h=>{h.querySelectorAll("[data-logo-wall-target]").forEach(b=>b.remove())}),p=n.map(h=>h.cloneNode(!0));let x,v;if(d){const h=S(p);x=h.slice(0,g),v=S(h.slice(g))}else x=p.slice(0,g),v=S(p.slice(g));p=x.concat(v);for(let h=0;h<g;h++)(c[h].querySelector("[data-logo-wall-target-parent]")||c[h]).appendChild(p.shift());T=gsap.timeline({repeat:-1,paused:!0}),T.call(w),T.to({},{duration:.9+1})}function w(){if(r.filter(M).length!==g){C();return}if(!p.length)return;const v=f[A%g];A++;const h=c[v],b=h.querySelector("[data-logo-wall-target-parent]")||h.querySelector("*:has(> [data-logo-wall-target])")||h;if(b.querySelectorAll("[data-logo-wall-target]").length>1)return;const E=b.querySelector("[data-logo-wall-target]"),L=p.shift();gsap.set(L,{yPercent:50,autoAlpha:0}),b.appendChild(L),E&&gsap.to(E,{yPercent:-50,autoAlpha:0,duration:.9,ease:"expo.inOut",onComplete:()=>{E.remove(),p.push(E)}}),gsap.to(L,{yPercent:0,autoAlpha:1,duration:.9,delay:.1,ease:"expo.inOut"})}C();let m;ScrollTrigger.addEventListener("refreshInit",()=>{m&&m.kill()});const y=()=>{if(!i){u.push(y);return}m=ScrollTrigger.create({trigger:t,start:"top bottom",end:"bottom top",onEnter:()=>{T.play()},onLeave:()=>{T.pause()},onEnterBack:()=>{T.play()},onLeaveBack:()=>{T.pause()}}),m.isActive&&T.play()};document.readyState==="complete"?(ScrollTrigger.refresh(),gsap.delayedCall(.3,y)):window.addEventListener("load",()=>{ScrollTrigger.refresh(),gsap.delayedCall(.3,y)}),document.addEventListener("visibilitychange",()=>{document.hidden?T.pause():m&&m.isActive&&T.play()})})}function bt(){(()=>{const i=document.querySelector(".section_team");if(!i)return;const u=i.querySelector(".team_top .text-size-large"),o=i.querySelector(".filter-group");if(!u||!o)return;gsap.set([u,o],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:i,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(u,{opacity:1,y:0,duration:.8,ease:"power3.out"}).to(o,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.4")})(),document.querySelectorAll("[data-filter-group]").forEach(i=>{const u=i.querySelectorAll("[data-filter-target]"),o=i.querySelectorAll("[data-filter-name]"),a=300,t=r=>{o.forEach(d=>{const c=d.getAttribute("data-filter-name")===r;d.getAttribute("data-filter-status")==="active"&&!c?(d.setAttribute("data-filter-status","transition-out"),setTimeout(()=>{d.setAttribute("data-filter-status","not-active"),d.setAttribute("aria-hidden","true")},a)):c&&setTimeout(()=>{d.setAttribute("data-filter-status","active"),d.setAttribute("aria-hidden","false")},a)}),u.forEach(d=>{const n=d.getAttribute("data-filter-target")===r;d.setAttribute("data-filter-status",n?"active":"not-active"),d.setAttribute("aria-pressed",n?"true":"false")})};u.forEach(r=>{r.addEventListener("click",()=>{const d=r.getAttribute("data-filter-target");r.getAttribute("data-filter-status")!=="active"&&t(d)})});const e=u[0];e&&t(e.getAttribute("data-filter-target"))})}function vt(){gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},s=>{const{isMobile:i,isMobileLandscape:u,isTablet:o}=s.conditions,a=gsap.context(()=>{document.querySelectorAll('[data-parallax="trigger"]').forEach(t=>{const e=t.getAttribute("data-parallax-disable");if(e==="mobile"&&i||e==="mobileLandscape"&&u||e==="tablet"&&o)return;const r=t.querySelector('[data-parallax="target"]')||t,n=(t.getAttribute("data-parallax-direction")||"vertical")==="horizontal"?"xPercent":"yPercent",c=t.getAttribute("data-parallax-scrub"),g=c?parseFloat(c):!0,p=t.getAttribute("data-parallax-start"),f=p!==null?parseFloat(p):20,A=t.getAttribute("data-parallax-end"),T=A!==null?parseFloat(A):-20,S=`clamp(${t.getAttribute("data-parallax-scroll-start")||"top bottom"})`,w=`clamp(${t.getAttribute("data-parallax-scroll-end")||"bottom top"})`;gsap.fromTo(r,{[n]:f},{[n]:T,ease:"none",scrollTrigger:{trigger:t,start:S,end:w,scrub:g}})})});return()=>a.revert()})}const At=()=>{const l=gsap.utils.toArray("[data-bg-transition]");if(!l.length)return;const s=l.map(i=>i.style.backgroundColor||window.getComputedStyle(i).backgroundColor);l.forEach((i,u)=>{const o=l[u+1];if(!o)return;const a=u===0?s[0]:s[u],t=s[u+1];o.style.backgroundColor=a,gsap.set(o,{backgroundColor:a}),gsap.to(o,{backgroundColor:t,duration:.4,ease:"power1.inOut",scrollTrigger:{trigger:o,start:"top 50%",toggleActions:"play complete none reverse"}})})},St=()=>{if(typeof Matter>"u"){console.warn("Matter.js is not loaded. Falling2D animation will not initialize.");return}const l=()=>{const E=document.querySelector("#canvas-target");if(E&&!E.hasAttribute("data-matter-initialized")){const L=E.closest(".footer_component");if(L){const k=L.getBoundingClientRect();k.top<window.innerHeight&&k.bottom>0?(q(E),E.setAttribute("data-matter-initialized","true")):setTimeout(l,1e3)}}};setTimeout(l,4e3);const s=Matter.Engine,i=Matter.Render,u=Matter.Runner,o=Matter.Bodies,a=Matter.Composite,t=Matter.Events;let e,r,d,n,c,g,p,f,A,T,M,S,C;const w=["#00b4ae","#007b69","#f27c38","#ffd552","#91c7d6"],m=2,y=25,x=.65,v=(E,L)=>Math.random()*(L-E)+E,h=()=>{if(e&&s.clear(e),r&&i.stop(r),d&&u.stop(d),f&&window.removeEventListener("resize",f),A&&T){const E=document.querySelector("#canvas-target");E&&(E.removeEventListener("mousemove",A),E.removeEventListener("mouseleave",T),E.removeEventListener("touchstart",M),E.removeEventListener("touchmove",S),E.removeEventListener("touchend",C))}},b=(E,L,k,P)=>{const B=[];for(let F=0;F<=20;F++){const N=Math.PI*(F/20);B.push({x:Math.cos(N)*k,y:-Math.sin(N)*k})}return B.push({x:-k,y:0}),o.fromVertices(E,L,[B],{restitution:x,render:{fillStyle:P,strokeStyle:P}})},q=E=>{h();const L=E.getBoundingClientRect(),k=L.width,P=L.height,B=k/4,R=window.matchMedia("(max-width:479px)").matches,F=window.matchMedia("(max-width:991px)").matches,N=R?2:F?1.2:1,Q=R?Math.round(y*.6):F?Math.round(y*1):y,H=k/15*N,X=H/2,G=k-H/2;e=s.create();const Dt=Math.min(Math.max(P/900,.4),1.2);e.world.gravity.y=m*Dt,e.timing.timeScale=.9,r=i.create({element:E,engine:e,options:{background:"transparent",wireframes:!1,width:k,height:P,pixelRatio:window.devicePixelRatio||2}}),r.canvas.width=k*(window.devicePixelRatio||2),r.canvas.height=P*(window.devicePixelRatio||2),r.canvas.style.width=`${k}px`,r.canvas.style.height=`${P}px`,n=o.rectangle(k/2,-B,k*2,B*2,{isStatic:!0}),c=o.rectangle(k/2,P+B,k*2,B*2,{isStatic:!0}),g=o.rectangle(-B,P/2,B*2,P*2,{isStatic:!0}),p=o.rectangle(k+B,P/2,B*2,P*2,{isStatic:!0}),a.add(e.world,[n,c,g,p]);const zt=()=>{const D=w[Math.floor(Math.random()*w.length)],W=Math.random();if(W<.25){const _=H*(.3+Math.random()*.95),z=o.circle(v(X,G),-H,_,{restitution:x,render:{fillStyle:D,strokeStyle:D}});a.add(e.world,z)}else if(W<.5){const _=H*(.3+Math.random()*.95),z=b(v(X,G),-H,_,D);a.add(e.world,z)}else if(W<.75){const _=H*(.5+Math.random()*.75),z=o.rectangle(v(X,G),-H,_,_,{chamfer:{radius:_*.15},restitution:x,render:{fillStyle:D,strokeStyle:D}});a.add(e.world,z)}else{const _=H*(.5+Math.random()*.75),z=_*.15,V=Math.floor(Math.random()*4),O=z*(.5+Math.random()*.5),I=O*3,$=[O,O,O,O];$[V]=I;const j=o.rectangle(v(X,G),-H,_,_,{chamfer:{radius:$},restitution:x,render:{fillStyle:D,strokeStyle:D}});a.add(e.world,j)}};d=u.create(),i.run(r),u.run(d,e);let Z=0;const tt=()=>{Z<Q&&(zt(),Z++,setTimeout(tt,100))};if(setTimeout(tt,100),R){let D=0;const W=6e3;t.on(e,"afterUpdate",()=>{const _=Date.now();if(_-D>W){D=_;const z=a.allBodies(e.world).filter(O=>!O.isStatic),V=Math.floor(Math.random()*5)+2;for(let O=0;O<V;O++){const I=z[Math.floor(Math.random()*z.length)];I&&Matter.Body.setVelocity(I,{x:I.velocity.x+(Math.random()-.5)*2.5,y:Math.min(I.velocity.y-(5+Math.random()*6),-7)})}}})}else{let D=0,W=0,_=!1,z="ontouchstart"in window;const V=I=>{const $=E.getBoundingClientRect(),j=I.touches?I.touches[0].clientX:I.clientX,Y=I.touches?I.touches[0].clientY:I.clientY;D=j-$.left,W=Y-$.top,_=!0},O=()=>{_=!1};A=I=>{z||V(I)},T=()=>{z||O()},M=I=>{I.preventDefault(),V(I)},S=I=>{I.preventDefault(),V(I)},C=I=>{I.preventDefault(),O()},E.addEventListener("mousemove",A),E.addEventListener("mouseleave",T),E.addEventListener("touchstart",M,{passive:!1}),E.addEventListener("touchmove",S,{passive:!1}),E.addEventListener("touchend",C,{passive:!1}),t.on(e,"afterUpdate",()=>{if(!_)return;const I=a.allBodies(e.world).filter(Y=>!Y.isStatic),$=z?200:150,j=z?.15:.2;I.forEach(Y=>{const ot=Y.position.x-D,at=Y.position.y-W,rt=Math.sqrt(ot*ot+at*at);if(rt<$){const Vt=(1-rt/$)*j;Matter.Body.setVelocity(Y,{x:Y.velocity.x,y:Math.min(Y.velocity.y-Vt,-15)})}})})}let et;f=()=>{clearTimeout(et),et=setTimeout(()=>{u.stop(d);const D=E.getBoundingClientRect(),W=D.width,_=D.height;r.canvas.width=W*(window.devicePixelRatio||2),r.canvas.height=_*(window.devicePixelRatio||2),r.canvas.style.width=`${W}px`,r.canvas.style.height=`${_}px`,a.allBodies(e.world).filter(O=>!O.isStatic).forEach(O=>{const I=Math.max(50,Math.min(O.position.x,W-50)),$=Math.max(50,Math.min(O.position.y,_-50));Matter.Body.setPosition(O,{x:I,y:$}),Matter.Body.setVelocity(O,{x:0,y:0})}),a.remove(e.world,[n,c,g,p]);const V=W/4;n=o.rectangle(W/2,-V,W*2,V*2,{isStatic:!0}),c=o.rectangle(W/2,_+V,W*2,V*2,{isStatic:!0}),g=o.rectangle(-V,_/2,V*2,_*2,{isStatic:!0}),p=o.rectangle(W+V,_/2,V*2,_*2,{isStatic:!0}),a.add(e.world,[n,c,g,p]),u.run(d,e)},200)},window.addEventListener("resize",f)};{const E=()=>{const L=document.querySelector(".footer_component"),k=document.querySelector("#canvas-target");if(!L||!k){console.warn("Footer section or canvas target not found. Falling back to load event initialization."),window.addEventListener("load",()=>{k&&q(k)});return}const P=new IntersectionObserver(B=>{B.forEach(R=>{R.isIntersecting&&(k&&!k.hasAttribute("data-matter-initialized")&&(q(k),k.setAttribute("data-matter-initialized","true")),P.disconnect())})},{root:null,rootMargin:"0px 0px -20% 0px",threshold:.1});P.observe(L)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{setTimeout(E,1e3)}):setTimeout(E,1e3)}return{cleanup:h}},xt=()=>{const l=window.innerWidth,s=document.querySelector(".section_image-break .image-break_wrapper"),i=s.querySelectorAll(".image-break_media"),u=document.querySelector(".section_image-break .image-break_text");let o;u&&(o=new SplitText(u,{type:"chars"}).chars,gsap.set(o,{opacity:0,yPercent:100})),i.forEach(e=>{gsap.set(e,{x:(Math.random()-.5)*.16*l,y:(Math.random()-.5)*.1*l})});const a=s.clientWidth-document.body.clientWidth,t=gsap.to(s,{x:-a,ease:"none",scrollTrigger:{trigger:s.parentNode,pin:!0,scrub:!0,end:"+="+a}});if(i.forEach(e=>{gsap.from(e,{rotation:(Math.random()-.5)*80,yPercent:(Math.random()-.5)*300,xPercent:Math.random()*400,ease:"power1.out",scrollTrigger:{trigger:e,containerAnimation:t,start:"left 110%",end:"left 65%",scrub:!0}}),gsap.fromTo(e,{rotation:0,yPercent:0,xPercent:0},{rotation:(Math.random()-.5)*80,yPercent:(Math.random()-.5)*300,xPercent:-Math.random()*400,ease:"power1.in",scrollTrigger:{trigger:e,containerAnimation:t,start:"right 35%",end:"right -10%",scrub:!0}})}),o&&i.length>0){const e=Math.floor(o.length/2),r=i[i.length-1];gsap.to(o,{opacity:1,yPercent:0,duration:1.2,ease:"back.out(2.5)",stagger:{amount:.8,from:e,ease:"power2.out"},scrollTrigger:{trigger:r,containerAnimation:t,start:"left center",toggleActions:"play none none none"}})}};function Et(){document.querySelectorAll(".members-content_wrapper").forEach(l=>{const s=l.querySelector(".members-number");if(!s)return;const i=s.querySelector("span:first-child");if(!i)return;const u=parseFloat(s.getAttribute("data-count-start"))||0,o=parseFloat(s.getAttribute("data-count-end"))||parseFloat(i.textContent.replace(/,/g,""));i.textContent=u,i.classList.add("odometer");const a=new Odometer({el:i,value:u,format:"(,ddd)",duration:2e3});l.odometerInstance={odometer:a,endValue:o}})}const Tt=()=>{Et();const l=Mt();qt(l)},Mt=()=>{const l=document.querySelectorAll("[cs-element='tab-item']"),s=document.querySelector("[cs-element='tab-main']");if(!s)return;s.setAttribute("data-member-color","");const i=s.querySelector("h3.heading-style-h6"),u=s.querySelector(".member-tab-center_icon"),o=s.querySelector("p");if(!i||!u||!o)return;let a=0,t,e;const r=S=>{const C=S.querySelector(".members-tab_icon-wrapper"),w=S.querySelector(".tab-title-small"),m=S.querySelector(".members-tab_description > p");if(!C||!w||!m)return;const y=C.innerHTML,v=w.innerHTML.replace(/<br\s*\/?>/gi," ").replace(/\/\s+/g,"/"),h=m.textContent,b=S.getAttribute("data-member-color");i.innerText!==v&&(i.innerHTML=v,u.innerHTML=y,o.textContent=h,s.parentNode.setAttribute("data-member-color",b),gsap.fromTo(s.parentNode,{scale:.8,opacity:0},{scale:1,opacity:1,duration:.6,ease:"back.out(1.4)"}))},d=(S=8e3)=>{e=setTimeout(()=>{a=(a+1)%l.length,r(l[a]),t=setInterval(()=>{a=(a+1)%l.length,r(l[a])},1e4)},S)},n=()=>{clearTimeout(e),clearInterval(t),d()},c=window.matchMedia("(max-width: 479px)").matches,g=window.matchMedia("(hover: hover) and (pointer: fine)").matches,p=s.parentNode,f=document.querySelector("[data-member-backdrop]"),A=document.querySelector("[data-member-close]"),T=()=>{p&&(p.style.display="flex",gsap.fromTo(p,{scale:.8,opacity:0},{scale:1,opacity:1,duration:.4,ease:"back.out(1.4)"})),f&&(f.style.display="block",gsap.fromTo(f,{opacity:0},{opacity:.5,duration:.3,ease:"power2.out"})),window.lenis&&window.lenis.stop()},M=()=>{p&&gsap.to(p,{scale:.8,opacity:0,duration:.3,ease:"power2.in",onComplete:()=>{p.style.display="none"}}),f&&gsap.to(f,{opacity:0,duration:.3,ease:"power2.in",onComplete:()=>{f.style.display="none"}}),window.lenis&&window.lenis.start()};return c&&(A&&A.addEventListener("click",M),f&&f.addEventListener("click",M)),l.forEach((S,C)=>{c?S.addEventListener("click",()=>{a=C,r(S),T()}):g?(S.addEventListener("mouseenter",()=>{a=C,r(S),n()}),S.addEventListener("mouseleave",()=>{n()})):S.addEventListener("click",()=>{a=C,r(S),n()})}),c?null:d},qt=l=>{const s=document.querySelectorAll(".members-content_wrapper"),i=document.querySelectorAll("[cs-element='tab-item']"),u=document.querySelector("[data-member-tab-center]"),o=window.matchMedia("(max-width: 479px)").matches;s.forEach(a=>{if(!a.odometerInstance)return;const t=a.querySelector("[data-member-heading]"),e=a.querySelector("[data-member-button]");if(!t||!e)return;const r=Array.from(i),d=Math.floor(r.length/2),n=[...r.slice(0,d),u,...r.slice(d)];gsap.set([t,e],{opacity:0,y:30}),gsap.set(n,{opacity:0,scale:0}),gsap.timeline({scrollTrigger:{trigger:a,start:"top 80%",once:!0},onComplete:()=>{l&&l(2e3)}}).call(()=>{a.odometerInstance.odometer.update(a.odometerInstance.endValue)}).to([t,e],{opacity:1,y:0,duration:.8,stagger:.2,ease:"power2.out"},"+=0.3").to(n,{opacity:1,scale:1,duration:1.2,stagger:{amount:.8,from:o?"start":"center"},ease:"back.out(1.4)"},"<")})},kt=()=>{const l=document.querySelector(".regions_wrapper"),s=document.querySelector(".region_button-wrapper"),i=Array.from(document.querySelectorAll(".region_button")),u=Array.from(document.querySelectorAll(".regions_base.is-overlay")),o=Array.from(document.querySelectorAll(".regions-reflections_item")),a=document.querySelector(".regions-reflections_list"),t=document.querySelector(".regions-content_track");if(!i.length||!u.length)return;if(l&&s){const w=Array.from(s.children),m=window.innerWidth<=767;m&&gsap.set(l,{clearProps:"transform"}),gsap.timeline().from(l,{scale:.8,autoAlpha:0,duration:1.5,ease:"back.out(1.7)",clearProps:m?"transform":""}).from(w,{autoAlpha:0,y:20,duration:1.2,stagger:.1,ease:"back.out(1.7)",clearProps:m?"transform":""},"+=0.05")}const e=w=>{const m=w.className.match(/is-(?!overlay)([a-z0-9-]+)/i);return m?m[1]:""},r=w=>(w.getAttribute("data-region")||e(w)).trim(),d=new Map,n=new Map;if(u.forEach(w=>{const m=r(w);m&&d.set(m,w)}),o.forEach(w=>{const m=r(w);m&&n.set(m,w)}),!d.size)return;gsap.set([...d.values()],{autoAlpha:0,pointerEvents:"none"});const c=window.innerWidth<=767;n.size&&(c?(gsap.set([...n.values()],{autoAlpha:0,y:"100%",display:"none"}),a&&(a.style.visibility="hidden")):gsap.set([...n.values()],{autoAlpha:0}));let g,p,f,A;const T=(w,m,y)=>{if(A&&(clearTimeout(A),A=null),g===w&&p===m)return;const x=g,v=p;x&&(gsap.killTweensOf(x),gsap.to(x,{autoAlpha:0,duration:.2,onComplete:()=>gsap.set(x,{display:"none"})})),v&&(gsap.killTweensOf(v),gsap.to(v,{autoAlpha:0,duration:.2})),g=w,p=m,f&&f.classList.remove("is-active"),f=y||null,f&&f.classList.add("is-active"),g&&(gsap.killTweensOf(g),gsap.set(g,{display:"block"}),gsap.fromTo(g,{autoAlpha:0},{autoAlpha:1,duration:.3})),p&&(gsap.killTweensOf(p),gsap.fromTo(p,{autoAlpha:0,scale:.8},{autoAlpha:1,scale:1,duration:.5,ease:"back.out(1.7)"}))},M=()=>window.innerWidth<=767,S=(w,m)=>{if(!w||!a)return;window.lenis&&window.lenis.stop();const y=a.querySelector("[data-modal-region-close]");y&&gsap.set(y,{autoAlpha:0}),u.forEach(x=>{gsap.set(x,{autoAlpha:0,pointerEvents:"none"})}),o.forEach(x=>{x!==w?gsap.set(x,{autoAlpha:0,y:"100%",display:"none"}):gsap.set(x,{display:"flex"})}),m&&(gsap.set(m,{display:"block"}),gsap.to(m,{autoAlpha:1,duration:.3})),a.style.visibility="visible",gsap.killTweensOf(w),gsap.fromTo(w,{autoAlpha:0,y:"100%"},{autoAlpha:1,y:"0%",duration:.4,ease:"power2.out",onComplete:()=>{y&&gsap.to(y,{autoAlpha:1,duration:.2})}})},C=()=>{if(!a)return;const w=o.find(y=>gsap.getProperty(y,"opacity")>0);if(!w)return;const m=a.querySelector("[data-modal-region-close]");m?gsap.to(m,{autoAlpha:0,duration:.2,onComplete:()=>{u.forEach(y=>{gsap.killTweensOf(y),gsap.to(y,{autoAlpha:0,duration:.2,onComplete:()=>gsap.set(y,{display:"none"})})}),gsap.killTweensOf(w),gsap.to(w,{autoAlpha:0,y:"100%",duration:.3,ease:"power2.in",onComplete:()=>{gsap.set(w,{display:"none"}),a.style.visibility="hidden",window.lenis&&window.lenis.start()}})}}):(u.forEach(y=>{gsap.killTweensOf(y),gsap.to(y,{autoAlpha:0,duration:.2,onComplete:()=>gsap.set(y,{display:"none"})})}),gsap.killTweensOf(w),gsap.to(w,{autoAlpha:0,y:"100%",duration:.3,ease:"power2.in",onComplete:()=>{gsap.set(w,{display:"none"}),a.style.visibility="hidden",window.lenis&&window.lenis.start()}}))};if(i.forEach((w,m)=>{const y=r(w),x=d.get(y),v=n.get(y);x&&(w.addEventListener("click",()=>{if(M()){if(t){const h=w.getAttribute("data-scroll-align")||"end";let b;h==="start"?b=0:h==="center"?b=(t.scrollWidth-t.clientWidth)/2:b=t.scrollWidth-t.clientWidth,t.scrollTo({left:b,behavior:"smooth"})}v&&S(v,x)}}),w.addEventListener("mouseenter",()=>{M()||T(x,v,w)}),w.addEventListener("mouseleave",()=>{!M()&&g===x&&(A=setTimeout(()=>{T(null,null,null)},100))}))}),a){const w=a.querySelector("[data-modal-region-close]");w&&w.addEventListener("click",m=>{m.stopPropagation(),C()}),a.addEventListener("click",m=>{m.target===a&&C()})}};function Lt(){const l=document.querySelector("[data-modal-slide-group]");if(!l)return null;const s=l.querySelectorAll("[data-modal-slide-name]"),i=l.querySelectorAll("[data-modal-slide-target]"),u=l.querySelectorAll("[data-modal-slide-close]"),o=c=>{c.querySelectorAll("[data-odometer]").forEach(p=>{const f=parseFloat(p.getAttribute("data-count-start"))||0,A=parseFloat(p.getAttribute("data-count-end"))||parseFloat(p.textContent.replace(/,/g,"")),T=parseFloat(p.getAttribute("data-duration"))||2e3,M=p.getAttribute("data-format")||"(,ddd)";p.textContent=f,p.classList.add("odometer");const S=new Odometer({el:p,value:f,format:M,duration:T});p.odometerInstance={odometer:S,endValue:A,hasAnimated:!1}})},a=c=>{const g=c.querySelectorAll("[data-odometer]"),p=new IntersectionObserver(f=>{f.forEach(A=>{if(A.isIntersecting&&!A.target.odometerInstance.hasAnimated){const{odometer:T,endValue:M}=A.target.odometerInstance;T.update(M),A.target.odometerInstance.hasAnimated=!0,p.unobserve(A.target)}})},{threshold:.5,rootMargin:"0px 0px -10% 0px"});g.forEach(f=>{p.observe(f)})};s.forEach(c=>{o(c),a(c)});const t=c=>{const g=l.querySelector(`[data-modal-slide-name="${c}"]`);g&&(s.forEach(f=>{f!==g&&r(f),f.setAttribute("data-modal-slide-status","not-active")}),g.setAttribute("data-modal-slide-status","active"),l.setAttribute("data-modal-slide-group","active"),gsap.set(g,{opacity:1}),gsap.fromTo(g,{y:"100%"},{y:"0%",duration:.6,ease:"power3.out"}),g.querySelectorAll("[data-swiper-wrap]").forEach(f=>{const A=f.swiper;A&&A.autoplay&&A.autoplay.start()}))};let e=null;const r=c=>{c.querySelectorAll("iframe").forEach(p=>{const f=p.dataset.src||p.src;p.src="",setTimeout(()=>{p.src=f},100)})},d=()=>{const c=l.querySelector('[data-modal-slide-name][data-modal-slide-status="active"]');c&&(r(c),gsap.to(c,{y:"100%",duration:.5,ease:"power3.in",onComplete:()=>{c.querySelectorAll("[data-swiper-wrap]").forEach(p=>{const f=p.swiper;f&&f.autoplay&&f.autoplay.stop()}),i.forEach(p=>p.setAttribute("data-modal-slide-status","not-active")),s.forEach(p=>p.setAttribute("data-modal-slide-status","not-active")),l.setAttribute("data-modal-slide-group","not-active"),gsap.set(c,{opacity:0}),e&&e()}}))};return i.forEach(c=>{c.addEventListener("click",function(){t(this.getAttribute("data-modal-slide-target"))})}),u.forEach(c=>c.addEventListener("click",d)),document.addEventListener("keydown",c=>{c.key==="Escape"&&l.getAttribute("data-modal-slide-group")==="active"&&d()}),{openModal:t,closeModals:d,setOnClose:c=>{e=c}}}const Ct=()=>{const l=Lt(),s=[];let i=!1;gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)",hasHover:"(hover: hover) and (pointer: fine)"},o=>{const{isMobile:a,isTablet:t,hasHover:e}=o.conditions;(()=>{const n=document.querySelector(".section_events .events_top .text-size-medium"),c=document.querySelectorAll(".events_list-wrapper > *"),g=document.querySelector(".events_bottom .button");if(!n||!c.length||!g)return;gsap.set([n,g],{opacity:0,y:30}),gsap.set(c,{y:30}),gsap.timeline({scrollTrigger:{trigger:".section_events",start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(n,{opacity:1,y:0,duration:.8,ease:"power3.out"}).to(c,{y:0,duration:.6,ease:"power2.out",stagger:.15},"-=0.4").to(g,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.2")})(),document.querySelectorAll('[data-tabs="wrapper"]').forEach(n=>{const c=n.querySelectorAll('[data-tabs="content-item"]'),g=n.querySelectorAll('[data-tabs="visual-item"]'),p=n.dataset.tabsAutoplay==="true",f=parseInt(n.dataset.tabsAutoplayDuration)||5e3;let A=null,T=null,M=!1,S=null;const C={current:null};function w(y){S&&S.kill(),c.forEach(v=>{const h=v.querySelector('[data-tabs="item-progress"]');h&&gsap.set(h,{scaleX:0})});const x=c[y].querySelector('[data-tabs="item-progress"]');x&&(gsap.set(x,{scaleX:0,transformOrigin:"left center"}),S=gsap.to(x,{scaleX:1,duration:f/1e3,ease:"power1.inOut",onComplete:()=>{if(!M){const v=(y+1)%c.length;m(v)}}}),C.current=S)}function m(y){if(M||c[y]===A)return;M=!0,S&&S.kill();const x=A,v=T,h=x?.querySelector('[data-tabs="item-progress"]'),b=c[y],q=g[y],E=b.querySelector('[data-tabs="item-progress"]');x?.classList.remove("is-active"),v?.classList.remove("is-active"),b.classList.add("is-active"),q.classList.add("is-active");const L=gsap.timeline({defaults:{duration:.65,ease:"power3"},onComplete:()=>{A=b,T=q,M=!1,p&&w(y)}});x&&(x.classList.remove("is-active"),v?.classList.remove("is-active"),L.set(h,{transformOrigin:"right center"}).to(h,{scaleX:0,duration:.3},0).to(v,{autoAlpha:0,xPercent:3},0)),b.classList.add("is-active"),q.classList.add("is-active"),L.fromTo(q,{autoAlpha:0,xPercent:3},{autoAlpha:1,xPercent:0},.3).set(E,{scaleX:0,transformOrigin:"left center"},0)}s.push(C),m(0),c.forEach((y,x)=>{if(y.addEventListener("click",()=>{if(l){const v=y.getAttribute("data-modal-slide-target");v&&(i=!0,s.forEach(h=>{h.current&&h.current.pause()}),window.lenis&&window.lenis.stop(),l.openModal(v))}}),p&&e){let v=null,h=null;y.addEventListener("mouseenter",()=>{c.forEach(q=>{q!==y&&q.classList.remove("is-active")}),y.classList.add("is-active");const b=g[x];b&&b!==T&&(h=T,v=b,gsap.to(h,{autoAlpha:0,xPercent:3,duration:.65,ease:"power3"}),gsap.fromTo(v,{autoAlpha:0,xPercent:3},{autoAlpha:1,xPercent:0,duration:.65,ease:"power3"})),S&&!i&&S.pause()}),y.addEventListener("mouseleave",()=>{c.forEach(b=>{b.classList.remove("is-active")}),A&&A.classList.add("is-active"),v&&h&&v!==T&&(gsap.to(v,{autoAlpha:0,xPercent:3,duration:.65,ease:"power3"}),gsap.fromTo(h,{autoAlpha:0,xPercent:3},{autoAlpha:1,xPercent:0,duration:.65,ease:"power3"}),v=null,h=null),S&&!i&&S.resume()})}})})}),l.setOnClose(()=>{i=!1,s.forEach(o=>{o.current&&o.current.resume()}),window.lenis&&window.lenis.start()})},Pt=()=>{const l=document.querySelectorAll(".section_highlight-scroll"),s=window.matchMedia("(max-width: 479px)").matches;l.forEach(i=>{const u=i.querySelectorAll(".highlight-scroll_content"),o=i.querySelectorAll(".highlight-scroll_content .heading-style-h3"),a=i.querySelector(".highlight_timeline-line");if(o.length===0)return;u.forEach((r,d)=>{const n=r.querySelector(".highlight_timeline-circle");if(s){const c=r.querySelectorAll(":scope > *");gsap.set(c,{autoAlpha:0,x:100})}else gsap.set(r,{autoAlpha:0,y:30});n&&n.classList.remove("is-active")});const t=u[0],e=u[u.length-1];ScrollTrigger.create({trigger:t,start:"top center",endTrigger:e,end:"bottom center",scrub:1,onUpdate:r=>{const d=r.progress;a&&gsap.set(a,{scaleY:d,transformOrigin:"top center"})}}),u.forEach((r,d)=>{const n=r.querySelector(".highlight_timeline-circle");if(s){const c=r.querySelectorAll(":scope > *"),g=gsap.timeline({paused:!0});g.to(c,{autoAlpha:1,x:0,duration:.5,ease:"power2.out",stagger:.1}),ScrollTrigger.create({trigger:r,start:"top center",toggleActions:"play none none reverse",animation:g,onEnter:()=>{n&&n.classList.add("is-active")},onEnterBack:()=>{n&&n.classList.add("is-active")},onLeave:()=>{n&&n.classList.remove("is-active")},onLeaveBack:()=>{n&&n.classList.remove("is-active")}})}else ScrollTrigger.create({trigger:r,start:"top center",toggleActions:"play none none reverse",animation:gsap.to(r,{autoAlpha:1,y:0,duration:.6,ease:"power2.out"}),onEnter:()=>{n&&n.classList.add("is-active")},onEnterBack:()=>{n&&n.classList.add("is-active")},onLeave:()=>{n&&n.classList.remove("is-active")},onLeaveBack:()=>{n&&n.classList.remove("is-active")}})})})},_t=()=>{const l=document.querySelectorAll(".section_highlight-content.is-title-waterfall .highlight-title_container"),s=document.querySelectorAll(".section_highlight-content.is-title-waterfall .highlight-content_bottom");!l.length||!s.length||(l.forEach(i=>{const u=i.querySelector(".highlight-title-heading");if(!u)return;const a=new SplitText(u,{type:"chars",charsClass:"letter"}).chars;requestAnimationFrame(()=>{const t=i.clientHeight-u.clientHeight;ScrollTrigger.create({trigger:i,pin:u,start:"top top",end:"+="+t}),a.forEach(e=>{const r=Math.random()*t;gsap.from(e,{y:r,ease:"none",scrollTrigger:{trigger:u,start:"top top",end:"+="+r,scrub:!0}})})})}),s.forEach(i=>{const u=i.querySelector(".text-size-large"),o=i.querySelector(".highlight-image_wrapper");u&&gsap.from(u,{y:30,opacity:0,duration:.8,ease:"power2.out",scrollTrigger:{trigger:i,start:"top 80%",end:"bottom 20%",toggleActions:"play none none reverse"}}),o&&gsap.from(o,{scale:.8,opacity:0,duration:1.2,ease:"power2.out",scrollTrigger:{trigger:i,start:"top 50%",end:"bottom 20%",toggleActions:"play none none reverse"}})}))};function It(){gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},s=>{const{isMobile:i,isMobileLandscape:u,isTablet:o}=s.conditions,a=gsap.context(()=>{document.querySelectorAll("[data-accent-shape]").forEach(t=>{const e=t.getAttribute("data-accent-disable");if(e==="mobile"&&i||e==="mobileLandscape"&&u||e==="tablet"&&o)return;const r=t.querySelector("[data-accent-target]")||t,d=parseFloat(t.getAttribute("data-accent-scale-start"))||0,n=parseFloat(t.getAttribute("data-accent-scale-end"))||1,c=parseFloat(t.getAttribute("data-accent-opacity-start"))||0,g=parseFloat(t.getAttribute("data-accent-opacity-end"))||1,p=t.getAttribute("data-accent-scroll-start")||"top 80%",f=t.getAttribute("data-accent-scroll-end")||"bottom 20%",A=parseFloat(t.getAttribute("data-accent-duration"))||.8,T=t.getAttribute("data-accent-ease")||"back.out(1.7)",M=(t.getAttribute("data-accent-mode")||"").toLowerCase(),S=parseFloat(t.getAttribute("data-accent-loop-duration"))||3,C=t.getAttribute("data-accent-loop-ease")||"none";gsap.set(r,{scale:d,opacity:c}),gsap.timeline({scrollTrigger:{trigger:t,start:p,end:f,toggleActions:"play none none reverse"}}).to(r,{scale:n,opacity:g,duration:A,ease:T});let m;if(t.hasAttribute("data-accent-mode")&&(M===""||M==="rotate"))m=gsap.to(r,{rotation:"+=360",duration:S,ease:C,repeat:-1,paused:!0});else if(M==="pulse"){const y=gsap.timeline({repeat:-1,repeatDelay:S,paused:!0});y.to(r,{scale:n*1.12,duration:S*.18,ease:"power2.out"}).to(r,{scale:n*1.02,duration:S*.12,ease:"power2.inOut"}).to(r,{scale:n*1.08,duration:S*.16,ease:"power2.out"}).to(r,{scale:n,duration:S*.24,ease:"power2.inOut"}),m=y}else M==="scrub"&&gsap.to(r,{rotation:45,ease:"none",scrollTrigger:{trigger:t,start:p,end:f,scrub:!0}});if(m){const y=M===""||M==="rotate"||M==="pulse"?"top bottom":p,x=M===""||M==="rotate"||M==="pulse"?"bottom top":f;ScrollTrigger.create({trigger:t,start:y,end:x,onEnter:()=>m.play(),onEnterBack:()=>m.play(),onLeave:()=>m.pause(),onLeaveBack:()=>m.pause()})}})});return()=>a.revert()})}const Bt=()=>{document.querySelectorAll("[data-swiper-group]").forEach(s=>{const i=s.querySelector("[data-swiper-wrap]");if(!i)return;const u=s.querySelector("[data-swiper-prev]"),o=s.querySelector("[data-swiper-next]"),a="ontouchstart"in window,t=new Swiper(i,{slidesPerView:1.25,speed:600,mousewheel:!a,grabCursor:!0,autoplay:{delay:4e3,disableOnInteraction:!1,pauseOnMouseEnter:!0,waitForTransition:!0},breakpoints:{320:{slidesPerView:1},480:{slidesPerView:1},992:{slidesPerView:1.25}},navigation:{nextEl:o,prevEl:u},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!1}});t.autoplay&&t.autoplay.stop()})};function Rt(){const l=document.querySelectorAll(".footer-social-link");if(!l.length)return;const s={facebook:"var(--_primitives---brand--secondary--teal-main)",instagram:"var(--_primitives---brand--secondary--orange-main)",x:"var(--_primitives---brand--secondary--yellow-main)",linkedin:"var(--_primitives---brand--secondary--emerald-main)",youtube:"var(--_primitives---brand--primary--aqua-main)",buzzsprout:"var(--_primitives---brand--primary--red-main)"};l.forEach(i=>{const u=window.getComputedStyle(i).color;i.addEventListener("mouseenter",()=>{const o=Ot(i),a=s[o]||window.getComputedStyle(i).color;gsap.to(i,{color:a,duration:.3,ease:"power2.out"})}),i.addEventListener("mouseleave",()=>{gsap.to(i,{color:u,duration:.3,ease:"power2.out"})})})}function Ot(l){const s=l.getAttribute("data-link");return s?s.toLowerCase():"default"}function Wt(){const l=document.querySelector(".dots-nav");if(!l)return;gsap.matchMedia().add({isMobile:"(max-width: 767px)",isDesktop:"(min-width: 768px)"},a=>{const{isMobile:t}=a.conditions;t?gsap.set(l,{y:100,opacity:0,pointerEvents:"none"}):gsap.set(l,{x:100,opacity:0,pointerEvents:"none"});const e=document.querySelector('[data-section="foreword"]');return e&&ScrollTrigger.create({trigger:e,start:"bottom top",onEnter:()=>{t?gsap.to(l,{y:0,opacity:1,pointerEvents:"auto",duration:.6,ease:"power2.out"}):gsap.to(l,{x:0,opacity:1,pointerEvents:"auto",duration:.6,ease:"power2.out"})},onLeaveBack:()=>{t?gsap.to(l,{y:100,opacity:0,pointerEvents:"none",duration:.4,ease:"power2.in"}):gsap.to(l,{x:100,opacity:0,pointerEvents:"none",duration:.4,ease:"power2.in"})}}),()=>{gsap.set(l,{clearProps:"x,y,opacity,pointerEvents"})}});const i=document.querySelectorAll(".dots-nav [data-anchor-target]");i.forEach(a=>{a.addEventListener("click",function(c){c.preventDefault(),c.stopPropagation(),c.stopImmediatePropagation();const g=this.getAttribute("data-anchor-target");return window.lenis&&window.lenis.scrollTo(g,{easing:p=>p<.5?8*p*p*p*p:1-Math.pow(-2*p+2,4)/2,duration:1.2,offset:0}),!1},!0);const t=a.getAttribute("data-anchor-target"),e=a.getAttribute("data-label"),r=t.startsWith("#")?t.slice(1):t,d=e||r.charAt(0).toUpperCase()+r.slice(1).replace(/-/g," "),n=document.createElement("span");n.className="dot-tooltip",n.textContent=d,a.style.position="relative",a.appendChild(n)});const u=Array.from(i).map(a=>{const t=a.getAttribute("data-anchor-target"),e=t.startsWith("#")?t.slice(1):t;return document.getElementById(e)}).filter(Boolean);if(u.length===0)return;const o=new IntersectionObserver(a=>{a.forEach(t=>{if(t.isIntersecting){const e=t.target.id;i.forEach(r=>{const d=r.getAttribute("data-anchor-target"),n=d.startsWith("#")?d.slice(1):d;r.classList.toggle("is-active",n===e)})}})},{threshold:[0,.25,.5,.75,1],rootMargin:"-20% 0px -50% 0px"});u.forEach(a=>o.observe(a)),window.addEventListener("scroll",()=>{const a=window.scrollY||document.documentElement.scrollTop,t=document.documentElement.scrollHeight,e=document.documentElement.clientHeight;if(a+e>=t-10){const r=u[u.length-1];if(r){const d=r.id;i.forEach(n=>{const c=n.getAttribute("data-anchor-target"),g=c.startsWith("#")?c.slice(1):c;n.classList.toggle("is-active",g===d)})}}})}gsap.registerPlugin(ScrollTrigger,SplitText),window.lenis=nt();const Ht=()=>{J(),it(),ct(),lt(),dt(),ut(),pt(),gt(),ht(),_t(),mt(),ft(),yt(),wt(),bt(),vt(),At(),St(),xt(),Tt(),kt(),Ct(),Pt(),It(),Bt(),Rt(),Wt()};document.addEventListener("DOMContentLoaded",async()=>{await document.fonts.ready,Ht()}),window.addEventListener("load",()=>{requestAnimationFrame(()=>{window.lenis.resize(),ScrollTrigger.refresh()})});let K;window.addEventListener("resize",()=>{clearTimeout(K),K=setTimeout(()=>{ScrollTrigger.refresh()},100)})})();
