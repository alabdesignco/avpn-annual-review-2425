(function(){"use strict";const tt=()=>{const l=new Lenis;return l.on("scroll",ScrollTrigger.update),gsap.ticker.add(n=>{l.raf(n*1e3)}),gsap.ticker.lagSmoothing(0),l};function et(){const l=document.querySelector("[data-modal-group-status]"),n=document.querySelectorAll("[data-modal-name]"),s=document.querySelectorAll("[data-modal-target]");s.forEach(t=>{t.addEventListener("click",function(){const r=this.getAttribute("data-modal-target");s.forEach(o=>o.setAttribute("data-modal-status","not-active")),n.forEach(o=>o.setAttribute("data-modal-status","not-active")),document.querySelector(`[data-modal-target="${r}"]`).setAttribute("data-modal-status","active"),document.querySelector(`[data-modal-name="${r}"]`).setAttribute("data-modal-status","active"),l&&l.setAttribute("data-modal-group-status","active")})}),document.querySelectorAll("[data-modal-close]").forEach(t=>{t.addEventListener("click",c)}),document.addEventListener("keydown",function(t){t.key==="Escape"&&c()});function c(){s.forEach(t=>t.setAttribute("data-modal-status","not-active")),n.forEach(t=>t.setAttribute("data-modal-status","not-active")),l&&l.setAttribute("data-modal-group-status","not-active")}}const ot=(l="img")=>new Promise(n=>{imagesLoaded(document.querySelectorAll(l),{background:!0},n)}),rt=()=>{if(!document.querySelector(".section_home-header .home-header_wrapper"))return;class n{constructor(){this.dom=document.querySelector(".section_home-header"),this.grid=document.querySelector(".home-header_wrapper"),this.imageWrappers=[...document.querySelectorAll(".home-header_image-wrapper")],this.heading=document.querySelector(".home-header_heading"),this.navbar=document.querySelector(".navbar_component"),this.taglines=[...document.querySelectorAll(".tagline")],this.baseX=0,this.baseY=0}init(){this.intro()}intro(){this.repositionImages(),this.centerGrid(),this.setupSplitText();const t=gsap.timeline();t.set(this.dom,{scale:.5}),t.set(this.imageWrappers,{scale:.5,opacity:0,filter:"blur(4px)"}),this.taglines.length>0&&t.set(this.taglines,{yPercent:100,autoAlpha:0}),t.set(this.navbar,{y:-100,autoAlpha:0}),t.to(this.heading,{autoAlpha:1,duration:.1}),t.from(this.headingChars,{yPercent:100,autoAlpha:0,duration:2,ease:"expo.inOut",stagger:.02}),this.taglines.length>0&&t.to(this.taglines,{yPercent:0,autoAlpha:1,duration:.8,ease:"expo.out",stagger:.15},"-=1.5"),t.to(this.imageWrappers,{scale:1,opacity:1,filter:"blur(0px)",duration:.6,ease:"power3.out",stagger:{amount:1.2,from:"random"}}),t.to(this.dom,{scale:1,duration:1.2,ease:"power3.inOut"}),t.to(this.imageWrappers,{x:(r,o)=>o.dataset.x||0,y:(r,o)=>o.dataset.y||0,duration:.96,ease:"power3.inOut"},"-=1.2"),t.to(this.navbar,{y:0,autoAlpha:1,duration:.8,ease:"power3.out"},"-=0.4"),t.call(()=>{this.addEvents(),this.observeProducts()})}setupSplitText(){this.heading&&(this.splitText=SplitText.create(this.heading,{type:"chars",mask:"chars"}),this.headingChars=this.splitText.chars)}repositionImages(){this.imageWrappers.forEach(t=>{const r=t.dataset.x,o=t.dataset.y;(r||o)&&gsap.set(t,{clearProps:"all",...r&&{x:r},...o&&{y:o}})})}centerGrid(){const t=this.grid.offsetWidth,r=this.grid.offsetHeight,o=window.innerWidth,e=window.innerHeight,a=(o-t)/2,i=(e-r)/2;gsap.set(this.grid,{x:a,y:i}),this.baseX=a,this.baseY=i}addEvents(){window.addEventListener("resize",()=>{this.centerGrid()}),this.dom.addEventListener("mousemove",t=>{const r=(t.clientX/window.innerWidth-.5)*30,o=(t.clientY/window.innerHeight-.5)*30;gsap.to(this.grid,{x:this.baseX+r,y:this.baseY+o,duration:.8,ease:"power2.out",overwrite:"auto"})})}observeProducts(){const t=new IntersectionObserver(r=>{r.forEach(o=>{o.isIntersecting?gsap.to(o.target,{scale:1,opacity:1,filter:"blur(0px)",visibility:"visible",duration:.8,ease:"power3.out"}):(gsap.to(o.target,{opacity:0,duration:.6,ease:"power3.out"}),gsap.to(o.target,{scale:.5,filter:"blur(4px)",duration:.5,ease:"power3.out",delay:.2}),gsap.to(o.target,{visibility:"hidden",duration:.1,delay:.7}))})},{root:null,threshold:.5});this.imageWrappers.forEach(r=>{t.observe(r)})}}const s=new n;ot(".home-header_image").then(()=>{s.init(),document.body.classList.remove("loading")})},at=()=>{if(typeof document>"u")return;gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},n=>{const{isMobile:s,isMobileLandscape:c,isTablet:t}=n.conditions,r=gsap.context(()=>{const o=document.querySelectorAll("[data-horizontal-scroll-wrap]");o.length&&(o.forEach(e=>{const a=e.querySelector(".foreword-ceo_image-wrapper"),i=e.querySelector(".foreword-header_accent.is-1"),u=e.querySelector(".foreword-header_accent.is-2"),d=e.querySelector(".foreword_ceo-label-wrapper");a&&gsap.set(a,{opacity:0}),i&&gsap.set(i,{scale:0,transformOrigin:"center"}),u&&gsap.set(u,{scale:0,transformOrigin:"center"}),d&&gsap.set(d,{opacity:0,y:20});const p=gsap.timeline({scrollTrigger:{trigger:a||e,start:"top 40%"}});a&&p.to(a,{opacity:1,duration:.6},0),i&&p.to(i,{scale:1,duration:.8,ease:"back.out(1.7)"},.6),u&&p.to(u,{scale:1,duration:.8,ease:"back.out(1.7)"},.6),d&&p.to(d,{opacity:1,y:0,duration:.6,ease:"power2.out"},.6);const g=e.querySelectorAll(".shape.is-foreword-1, .shape.is-foreword-2, .shape.is-foreword-3, .shape.is-foreword-4");gsap.set(g,{scale:0,rotation:0});const h=e.querySelectorAll("#foreword > p");h.length&&(gsap.set(h,{opacity:0,clipPath:"circle(0% at 100% 0%)"}),h.forEach(m=>{m.querySelectorAll("strong").forEach(y=>{gsap.set(y,{"--highlight-width":"0%"})})}),h.forEach((m,f)=>{m.classList.add(`foreword-paragraph-${f}`)}))}),o.forEach(e=>{const a=e.getAttribute("data-horizontal-scroll-disable");if(a==="mobile"&&s||a==="mobileLandscape"&&c||a==="tablet"&&t)return;const i=gsap.utils.toArray("[data-horizontal-scroll-panel]",e);if(i.length<2)return;const u=e.querySelectorAll("#foreword > p"),d=u.length,p=new Set;gsap.to(i,{x:()=>-(e.scrollWidth-window.innerWidth),ease:"none",scrollTrigger:{trigger:e,start:"top top",end:()=>"+="+(e.scrollWidth-window.innerWidth),scrub:!0,pin:!0,invalidateOnRefresh:!0,onUpdate:g=>{const h=Math.min(Math.max(g.progress,0),1),m=Math.min(Math.floor(h*d),d-1),f=e.querySelector(".shape.shape--rounded.is-foreword-1"),y=e.querySelector(".shape.shape--circle.is-foreword-2"),S=e.querySelector(".shape.shape--leaf.is-foreword-3"),v=e.querySelector(".shape.shape--quarter.is-foreword-4");h>=.2&&f&&gsap.to(f,{scale:1,rotation:360,duration:.6,ease:"back.out(1.7)"}),h>=.5&&y&&gsap.to(y,{scale:1,rotation:-180,duration:.6,ease:"back.out(1.7)"}),h>=.8&&S&&gsap.to(S,{scale:1,rotation:270,duration:.6,ease:"back.out(1.7)"}),h>=.99&&v&&gsap.to(v,{scale:1,rotation:90,duration:.6,ease:"back.out(1.7)"}),u.forEach((b,w)=>{w<=m&&(gsap.to(b,{opacity:1,clipPath:"circle(150% at 100% 0%)",duration:1.2}),p.has(w)||(p.add(w),b.querySelectorAll("strong").forEach((x,C)=>{if(!x.hasAttribute("data-highlighted")){x.setAttribute("data-highlighted","true");const P=x.textContent.trim().length,E=Math.min(.4+P*.02,2.5),B=C*.15;gsap.to(x,{"--highlight-width":"100%",duration:E,delay:B,ease:"power2.out"})}})))})}}})}))});return()=>r.revert()})},nt=()=>{document.querySelectorAll('[data-sticky-title="wrap"]').forEach(n=>{const s=Array.from(n.querySelectorAll('[data-sticky-title="heading"]')),c=Array.from(n.querySelectorAll(".bg-shape img")),t=gsap.timeline({scrollTrigger:{trigger:n,start:"top 40%",end:"bottom bottom",scrub:!0}}),r=.7,o=.7,e=.15;c.forEach((a,i)=>{gsap.set(a,{autoAlpha:0,scale:1.1})}),s.forEach((a,i)=>{const u=gsap.timeline();a.setAttribute("aria-label",a.textContent);const d=new SplitText(a,{type:"words,chars"});d.words.forEach(g=>g.setAttribute("aria-hidden","true")),gsap.set(a,{visibility:"visible"});const p=n.querySelector(`.bg-shape.is-${i+1} img`);if(i===0)u.fromTo(p,{autoAlpha:0,scale:1.1},{autoAlpha:1,scale:1,duration:.8,ease:"power2.out"},.2);else{const g=n.querySelector(`.bg-shape.is-${i} img`);u.to(g,{autoAlpha:0,scale:1.1,duration:.8,ease:"power2.out"},0),u.fromTo(p,{autoAlpha:0,scale:1.1},{autoAlpha:1,scale:1,duration:.8,ease:"power2.out"},.4)}u.from(d.chars,{autoAlpha:0,stagger:{amount:r,from:"start"},duration:r},i===0?0:o*.3),i<s.length-1&&u.to(d.chars,{autoAlpha:0,stagger:{amount:o,from:"end"},duration:o}),i===0?t.add(u):t.add(u,`-=${e}`)})})},st=()=>{const l=[{cause:"Affordable Housing",count:103,percent:16},{cause:"Ageing",count:108,percent:17},{cause:"Agriculture",count:217,percent:34},{cause:"Arts & Culture",count:126,percent:20},{cause:"Climate Action & Environment",count:364,percent:58},{cause:"Conservation",count:128,percent:20},{cause:"Education",count:379,percent:60},{cause:"Employability",count:229,percent:36},{cause:"Energy",count:188,percent:30},{cause:"Financial Inclusion",count:221,percent:35},{cause:"Gender",count:254,percent:40},{cause:"Governance",count:130,percent:21},{cause:"Health & Nutrition",count:207,percent:33},{cause:"Livelihood & Poverty Alleviation",count:329,percent:52},{cause:"Water & Sanitation & Hygiene",count:185,percent:29}],n=t=>getComputedStyle(document.documentElement).getPropertyValue(t).trim(),s={Education:n("--color-education"),"Climate Action & Environment":n("--color-climate"),"Livelihood & Poverty Alleviation":n("--color-livelihood"),"Health & Nutrition":n("--color-health"),Employability:n("--color-employability"),Gender:n("--color-gender"),"Financial Inclusion":n("--color-financial-inclusion"),Agriculture:n("--color-agriculture"),Energy:n("--color-energy"),"Water & Sanitation & Hygiene":n("--color-water"),"Arts & Culture":n("--color-arts"),Governance:n("--color-governance"),Conservation:n("--color-conservation"),Ageing:n("--color-aging"),"Affordable Housing":n("--color-affordable-housing")},c=()=>{const t=document.querySelector(".supported-chart"),r=t.offsetWidth,o=t.offsetHeight,e=Math.min(r,o),a=e,i=e,u=e*.15;d3.select(".supported-chart svg").remove();const d=d3.select(".supported-chart").append("svg").attr("viewBox",`0 0 ${a} ${i}`).attr("preserveAspectRatio","xMidYMid meet").style("width","100%").style("height","100%").append("g").attr("transform",`translate(${a/2},${i/2-80})`),p=d3.pie().sort(null).value(1);d3.arc().innerRadius(u).outerRadius(v=>u+v.data.percent*e*.0048).cornerRadius(10).padAngle(.035);const g=d.selectAll("path").data(p(l)).enter().append("path").attr("fill",v=>s[v.data.cause]||"#ccc").attr("d",d3.arc().innerRadius(u).outerRadius(u)).attr("stroke","#fff").attr("stroke-width",2).style("cursor","pointer"),h=()=>{g.transition().delay((v,b)=>b*100).duration(800).ease(d3.easeCubicOut).attrTween("d",function(v){const b=d3.interpolate(u,u+v.data.percent*e*.0048);return function(w){return d3.arc().innerRadius(u).outerRadius(b(w)).cornerRadius(10).padAngle(.035)(v)}})};gsap.timeline({scrollTrigger:{trigger:".supported-chart",start:"top 80%",once:!0}}).add(()=>h());const m=(v,b)=>{const w=v.split(/\s+/);if(w.length<=2)return[v];const A=document.createElement("canvas").getContext("2d");A.font=`700 ${e*.02}px sans-serif`;let x=Math.ceil(w.length/2),C=w.slice(0,x).join(" "),P=w.slice(x).join(" ");for(;x>1&&(A.measureText(C).width>b||A.measureText(P).width>b);)x--,C=w.slice(0,x).join(" "),P=w.slice(x).join(" ");return[C,P]},f=d.append("g").attr("class","supported-chart_center-text").style("pointer-events","none"),y=f.append("text").attr("class","center-cause").attr("opacity",0).style("font-size",`${e*.02}px`).style("font-weight","700").style("fill","var(--color-scheme-1--text)").style("text-anchor","middle");f.append("text").attr("class","center-percent").attr("y",e*.025).attr("opacity",0).style("font-size",`${e*.018}px`).style("font-weight","700").style("fill","var(--_primitives---brand--primary--navy-medium)").style("text-anchor","middle"),g.on("mouseover",function(v,b){d.selectAll("path").transition().duration(200).style("opacity",.3),d3.select(this).transition().duration(200).style("opacity",1);const w=m(b.data.cause,u*1.8),A=e*.02,x=w.length>1?e*.008:0,C=-(w.length-1)*A/2-e*.01-x;y.selectAll("*").remove(),w.forEach((P,W)=>{y.append("tspan").attr("x",0).attr("dy",W===0?0:A).text(P)}),y.attr("y",C).transition().duration(200).style("opacity",1),f.select(".center-percent").text(`${b.data.percent}%`).transition().duration(200).style("opacity",1)}).on("mouseout",function(){d.selectAll("path").transition().duration(200).style("opacity",1),f.selectAll("text").transition().duration(200).style("opacity",0)}),document.querySelectorAll(".supported-chart_legend-color").forEach(v=>{const b=parseInt(v.dataset.index),w=l[b]?.cause;if(!w)return;const A=s[w];A&&(v.style.backgroundColor=A)});const S=d.selectAll("path");document.querySelectorAll(".supported-chart_legend-item").forEach(v=>{const b=parseInt(v.querySelector(".supported-chart_legend-color").dataset.index);v.addEventListener("mouseenter",()=>{S.transition().duration(200).style("opacity",.3),d3.select(S.nodes()[b]).transition().duration(200).style("opacity",1);const w=l[b],A=m(w.cause,u*1.8),x=e*.02,C=A.length>1?e*.008:0,P=-(A.length-1)*x/2-e*.01-C;y.selectAll("*").remove(),A.forEach((W,F)=>{y.append("tspan").attr("x",0).attr("dy",F===0?0:x).text(W)}),y.attr("y",P).transition().duration(200).style("opacity",1),f.select(".center-percent").text(`${w.percent}%`).transition().duration(200).style("opacity",1)}),v.addEventListener("mouseleave",()=>{S.transition().duration(200).style("opacity",1),f.selectAll("text").transition().duration(200).style("opacity",0)})})};c(),window.addEventListener("resize",c)},it=()=>{const l={name:"Beneficiary Communities",children:[{name:"Children & youths",value:436,percent:69},{name:"Women & girls",value:411,percent:65},{name:"People in poverty",value:398,percent:63},{name:"Environment",value:303,percent:48},{name:"People without employment",value:259,percent:41},{name:"People with disabilities",value:208,percent:33},{name:"Elderly",value:196,percent:31},{name:"People with medical needs",value:196,percent:31},{name:"Ethnic minorities",value:183,percent:29},{name:"Immigrants & asylum seekers & refugees",value:114,percent:18},{name:"Offenders & re-offenders",value:44,percent:7}]},n=document.querySelector(".beneficiary-treemap"),s=n.clientWidth||1e3,c=n.clientHeight||600,t=8;n.innerHTML="";const r=d3.select(n).append("svg").attr("viewBox",[0,0,s,c]).style("width","100%").style("height","100%"),o={"Children & youths":"#00B3AD","Women & girls":"#F17C38","People in poverty":"#FED452",Environment:"#ADD5E0","People without employment":"#4AC1BE","People with disabilities":"#002943",Elderly:"#F59D6A","People with medical needs":"#FEE07E","Ethnic minorities":"#86D1D1","Immigrants & asylum seekers & refugees":"#80BDB4","Offenders & re-offenders":"#F2948C"},e=d3.hierarchy(l).sum(d=>d.value).sort((d,p)=>p.value-d.value);d3.treemap().tile(d3.treemapBinary).size([s,c]).paddingInner(t).round(!0)(e);const a=r.selectAll("g").data(e.leaves()).join("g").attr("transform",d=>`translate(${d.x0},${d.y0})`).style("cursor","pointer").style("opacity",0),i=d=>{const p=d3.color(d);return .2126*(p.r/255)+.7152*(p.g/255)+.0722*(p.b/255)>.6?"#002943":"#ffffff"},u=(d,p)=>{d.each(function(){const g=d3.select(this),h=g.text().split(/\s+/).reverse();let m,f=[],y=0;const S=1.1,v=g.attr("y");let b=g.text(null).append("tspan").attr("x",16).attr("y",v);for(;m=h.pop();)f.push(m),b.text(f.join(" ")),b.node().getComputedTextLength()>p&&(f.pop(),b.text(f.join(" ")),f=[m],b=g.append("tspan").attr("x",16).attr("y",v).attr("dy",`${++y*S}em`).text(m))})};a.each(function(d){const p=d3.select(this),g=o[d.data.name]||"#ccc",h=i(g),m=d.x1-d.x0,f=d.y1-d.y0,y=p.append("rect").attr("fill",g).attr("rx",10).attr("ry",10).attr("width",m).attr("height",f).style("filter","drop-shadow(0 1px 2px rgba(0,0,0,0.05))").style("transform-origin",`${m/2}px ${f/2}px`);gsap.set(y.node(),{scale:1});const S=p.append("text").attr("x",16).attr("y",24).attr("fill",h).attr("font-size","1rem").attr("font-weight",600).text(d.data.name).call(u,m-32);S.node().getBBox().height>f*.6&&S.style("display","none");let v=null;f>40&&m>80&&(v=p.append("text").attr("x",m-16).attr("y",f-12).attr("text-anchor","end").attr("fill",h).attr("font-size","1.25rem").attr("opacity",0).text(`${d.data.percent.toFixed(2)}%`)),p.on("mouseenter",()=>{p.raise(),gsap.to(y.node(),{scale:1.05,duration:.25,ease:"power2.out"}),gsap.to(y.node(),{filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.15))",duration:.25,ease:"power2.out"}),gsap.to(a.nodes().filter(b=>b!==p.node()),{opacity:.3,duration:.25,ease:"power2.out"}),v&&gsap.to(v.node(),{opacity:1,duration:.25,ease:"power2.out"})}).on("mouseleave",()=>{gsap.to(y.node(),{scale:1,duration:.25,ease:"power2.out"}),gsap.to(y.node(),{filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.05))",duration:.25,ease:"power2.out"}),gsap.to(a.nodes(),{opacity:1,duration:.25,ease:"power2.out"}),v&&gsap.to(v.node(),{opacity:0,duration:.25,ease:"power2.out"})})}),gsap.to(a.nodes(),{opacity:1,duration:.6,ease:"power2.out",stagger:.08,scrollTrigger:{trigger:n,start:"top 80%",toggleActions:"play none none none"}})},ct=()=>{const l=document.querySelector(".section_new");if(!l)return;const n=l.querySelector(".new_pin-height"),s=l.querySelector(".new_layout"),c=l.querySelectorAll(".new-paragraph_item"),t=l.querySelector(".button-group");if(!n||!s||c.length===0)return;const r=Array.from(c).map(e=>new SplitText(e,{type:"words",wordsClass:"word",mask:"words"}));gsap.set(r.flatMap(e=>e.words),{yPercent:100});let o=!1;ScrollTrigger.create({trigger:l,start:"top bottom",once:!0,onEnter:()=>{o||(o=!0,requestAnimationFrame(()=>{ScrollTrigger.refresh(),ScrollTrigger.create({trigger:n,start:"top top",end:"bottom bottom",pin:s});const e=gsap.timeline({scrollTrigger:{trigger:n,start:"top top",end:"bottom bottom",scrub:!0}});r.forEach((a,i)=>{e.to(a.words,{yPercent:0,duration:1,stagger:.2,ease:"power4.out"},i>0?"+=0.5":0)}),t&&(gsap.set(t,{opacity:0,y:20}),e.to(t,{opacity:1,y:0,duration:.8,ease:"power2.out"},"+=0.3"))}))}})},lt=()=>{const l=document.querySelector(".section_word-break"),n=document.querySelector(".section_word-break .word-break-text"),s=new SplitText(n,{type:"words, chars",smartWrap:!0,wordsClass:"word",charsClass:"char"}),c=s.chars;s.words;const t=n.clientWidth-document.body.clientWidth,r=gsap.to(n,{x:-t,ease:"none",scrollTrigger:{trigger:".section_word-break .word-break_container",pin:!0,end:"+="+t,scrub:!0}});gsap.from(l,{ease:"power1.out",scrollTrigger:{trigger:".section_word-break .word-break_container",start:"top top",end:"+=200",scrub:!0}}),c.forEach(o=>{gsap.from(o,{yPercent:(Math.random()-.5)*400,rotation:(Math.random()-.5)*60,ease:"elastic.out(1.2, 1)",scrollTrigger:{trigger:o,containerAnimation:r,start:"left 90%",end:"left 10%",scrub:.5}})})};function dt(){document.querySelectorAll("[data-highlight-text]").forEach(n=>{const s=n.getAttribute("data-highlight-scroll-start")||"top 90%",c=n.getAttribute("data-highlight-scroll-end")||"center 40%";n.getAttribute("data-highlight-fade");const t=n.getAttribute("data-highlight-stagger")||.1,r=n.getAttribute("data-highlight-bg")||"#C1E6E7";new SplitText(n,{type:"words",autoSplit:!0,onSplit(o){return gsap.context(()=>{const a=[];o.words.forEach(u=>{const d=document.createElement("div");d.className="highlight-word",u.parentNode.insertBefore(d,u),d.appendChild(u),a.push(d)});let i=gsap.timeline({scrollTrigger:{scrub:!0,trigger:n,start:s,end:c}});o.words.forEach((u,d)=>{const p=a[d],g=d*t;i.set(p,{backgroundColor:r},g).to(p,{backgroundColor:r,duration:.2,ease:"linear"},g+.2).from(u,{opacity:0,duration:.2,ease:"linear"},g+.4).to(p,{backgroundColor:"transparent",duration:.3,ease:"linear"},g+.6)})})}})})}const ut=()=>{document.querySelectorAll(".section-title_component").forEach(n=>{const s=n.querySelector(".section-title_accent-shape.is-1"),c=n.querySelector(".section-title_accent-shape.is-2"),t=n.querySelector(".section-title_inner > h2");if(!s||!c||!t)return;const r=new SplitText(t,{type:"words",mask:"words"});gsap.set([s,c],{scale:0,rotation:-45,transformOrigin:"center center"}),gsap.set(r.words,{autoAlpha:0,y:30}),gsap.timeline({scrollTrigger:{trigger:n,start:"top 80%",end:"bottom 20%"}}).to(s,{scale:1,rotation:0,duration:.6,ease:"back.out(1.7)"}).to(c,{scale:1,duration:.5,ease:"back.out(1.4)"},"-=0.3").to(r.words,{autoAlpha:1,y:0,duration:.7,stagger:.08,ease:"power2.out"},"-=0.2")})},gt=()=>{const l=document.querySelector(".section_highlight-cards .highlight-card_wrapper");if(!l)return;const n=l.clientWidth,s=document.querySelectorAll(".highlight_card"),c=s.length,t=document.querySelectorAll(".highlight_card .highlight_card-content");let r=0;s.forEach(a=>{gsap.set(a,{xPercent:(Math.random()-.5)*10,yPercent:(Math.random()-.5)*10,rotation:(Math.random()-.5)*20})});const o=a=>{a<0||a>=s.length||(gsap.set(s[a],{zIndex:"auto"}),gsap.to(s[a],{xPercent:(Math.random()-.5)*10,yPercent:(Math.random()-.5)*10,rotation:(Math.random()-.5)*20,scale:1,duration:.8,ease:"elastic.out(1, 0.75)"}))},e=a=>{s.forEach((i,u)=>{gsap.set(i,{zIndex:u===a?20:"auto"})}),gsap.to(s[a],{xPercent:0,yPercent:0,rotation:0,duration:.8,scale:1.1,ease:"elastic.out(1, 0.75)"}),t.forEach((i,u)=>{u!==a?gsap.to(i,{xPercent:80/(u-a),ease:"elastic.out(1, 0.75)",duration:.8}):gsap.to(i,{xPercent:0,ease:"elastic.out(1, 0.75)",duration:.8})})};l.addEventListener("mousemove",a=>{const u=(a.clientX-l.getBoundingClientRect().left)/n,d=Math.ceil(u*c);r!==d&&d>0&&d<=c&&(r!==0&&o(r-1),r=d,e(r-1))}),l.addEventListener("mouseleave",()=>{r>0&&o(r-1),r=0,gsap.to(t,{xPercent:0,ease:"elastic.out(1, 0.75)",duration:.8})})};function pt(){(()=>{const s=document.querySelector(".section_work");if(!s)return;const c=s.querySelectorAll(".work_list > *"),t=s.querySelector(".button");if(!c.length||!t)return;gsap.set([...c,t],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:s,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(c,{opacity:1,y:0,duration:.6,ease:"power2.out",stagger:.15}).to(t,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.3")})();const n={top:"translateY(-100%)",bottom:"translateY(100%)",left:"translateX(-100%)",right:"translateX(100%)"};document.querySelectorAll("[data-directional-hover]").forEach(s=>{const c=s.getAttribute("data-type")||"all";s.querySelectorAll("[data-directional-hover-item]").forEach(r=>{const o=r.querySelector("[data-directional-hover-tile]");o&&(r.addEventListener("mouseenter",e=>{const a=t(e,r,c);o.style.transition="none",o.style.transform=n[a]||"translate(0, 0)",o.offsetHeight,o.style.transition="",o.style.transform="translate(0%, 0%)",r.setAttribute("data-status",`enter-${a}`)}),r.addEventListener("mouseleave",e=>{const a=t(e,r,c);r.setAttribute("data-status",`leave-${a}`),o.style.transform=n[a]||"translate(0, 0)"}))});function t(r,o,e){const{left:a,top:i,width:u,height:d}=o.getBoundingClientRect(),p=r.clientX-a,g=r.clientY-i;if(e==="y")return g<d/2?"top":"bottom";if(e==="x")return p<u/2?"left":"right";const h={top:g,right:u-p,bottom:d-g,left:p};return Object.entries(h).reduce((m,f)=>m[1]<f[1]?m:f)[0]}})}function ht(){(()=>{const c=document.querySelector(".section_partners");if(!c)return;const t=c.querySelector(".partners_top .text-size-large"),r=c.querySelector(".partners_top .button"),o=c.querySelector(".partners-logo-wall_component");if(!t||!r||!o)return;gsap.set([t,r,o],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:c,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse",refreshPriority:-1}}).to(t,{opacity:1,y:0,duration:.8,ease:"power3.out"}).to(r,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.4").to(o,{opacity:1,y:0,duration:.8,ease:"power2.out"},"-=0.2")})(),document.querySelectorAll("[data-logo-wall-cycle-init]").forEach(c=>{const t=c.querySelector("[data-logo-wall-list]"),r=Array.from(t.querySelectorAll("[data-logo-wall-item]")),o=c.getAttribute("data-logo-wall-shuffle")!=="false";let e=r.map(b=>b.querySelector("[data-logo-wall-target]")).filter(Boolean);if(e.length===0&&(r.map(w=>w.querySelector("[data-logo-wall-target-parent]")).filter(Boolean).forEach(w=>{if(!w.querySelector("[data-logo-wall-target]")){const A=document.createElement("div");A.setAttribute("data-logo-wall-target",""),w.appendChild(A)}}),e=r.map(w=>w.querySelector("[data-logo-wall-target]")).filter(Boolean)),e.length===0)return;let a=[],i=0,u=[],d=[],p=0,g;function h(b){return window.getComputedStyle(b).display!=="none"}function m(b){const w=b.slice();for(let A=w.length-1;A>0;A--){const x=Math.floor(Math.random()*(A+1));[w[A],w[x]]=[w[x],w[A]]}return w}function f(){g&&g.kill(),a=r.filter(h),i=a.length,d=m(Array.from({length:i},(A,x)=>x)),p=0,r.forEach(A=>{A.querySelectorAll("[data-logo-wall-target]").forEach(x=>x.remove())}),u=e.map(A=>A.cloneNode(!0));let b,w;if(o){const A=m(u);b=A.slice(0,i),w=m(A.slice(i))}else b=u.slice(0,i),w=m(u.slice(i));u=b.concat(w);for(let A=0;A<i;A++)(a[A].querySelector("[data-logo-wall-target-parent]")||a[A]).appendChild(u.shift());g=gsap.timeline({repeat:-1,paused:!0}),g.call(y),g.to({},{duration:.9+1})}function y(){if(r.filter(h).length!==i){f();return}if(!u.length)return;const w=d[p%i];p++;const A=a[w],x=A.querySelector("[data-logo-wall-target-parent]")||A.querySelector("*:has(> [data-logo-wall-target])")||A;if(x.querySelectorAll("[data-logo-wall-target]").length>1)return;const P=x.querySelector("[data-logo-wall-target]"),W=u.shift();gsap.set(W,{yPercent:50,autoAlpha:0}),x.appendChild(W),P&&gsap.to(P,{yPercent:-50,autoAlpha:0,duration:.9,ease:"expo.inOut",onComplete:()=>{P.remove(),u.push(P)}}),gsap.to(W,{yPercent:0,autoAlpha:1,duration:.9,delay:.1,ease:"expo.inOut"})}f();let S;ScrollTrigger.addEventListener("refreshInit",()=>{S&&S.kill()});const v=()=>{S=ScrollTrigger.create({trigger:c,start:"top bottom",end:"bottom top",onEnter:()=>g.play(),onLeave:()=>g.pause(),onEnterBack:()=>g.play(),onLeaveBack:()=>g.pause()}),S.isActive&&g.play()};document.readyState==="complete"?(ScrollTrigger.refresh(),gsap.delayedCall(.3,v)):window.addEventListener("load",()=>{ScrollTrigger.refresh(),gsap.delayedCall(.3,v)}),document.addEventListener("visibilitychange",()=>{document.hidden?g.pause():S&&S.isActive&&g.play()})})}function mt(){(()=>{const s=document.querySelector(".section_team");if(!s)return;const c=s.querySelector(".team_top .text-size-large"),t=s.querySelector(".filter-group");if(!c||!t)return;gsap.set([c,t],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:s,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(c,{opacity:1,y:0,duration:.8,ease:"power3.out"}).to(t,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.4")})(),document.querySelectorAll("[data-filter-group]").forEach(s=>{const c=s.querySelectorAll("[data-filter-target]"),t=s.querySelectorAll("[data-filter-name]"),r=300,o=a=>{t.forEach(i=>{const d=i.getAttribute("data-filter-name")===a;i.getAttribute("data-filter-status")==="active"&&!d?(i.setAttribute("data-filter-status","transition-out"),setTimeout(()=>{i.setAttribute("data-filter-status","not-active"),i.setAttribute("aria-hidden","true")},r)):d&&setTimeout(()=>{i.setAttribute("data-filter-status","active"),i.setAttribute("aria-hidden","false")},r)}),c.forEach(i=>{const u=i.getAttribute("data-filter-target")===a;i.setAttribute("data-filter-status",u?"active":"not-active"),i.setAttribute("aria-pressed",u?"true":"false")})};c.forEach(a=>{a.addEventListener("click",()=>{const i=a.getAttribute("data-filter-target");a.getAttribute("data-filter-status")!=="active"&&o(i)})});const e=c[0];e&&o(e.getAttribute("data-filter-target"))})}function ft(){gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},n=>{const{isMobile:s,isMobileLandscape:c,isTablet:t}=n.conditions,r=gsap.context(()=>{document.querySelectorAll('[data-parallax="trigger"]').forEach(o=>{const e=o.getAttribute("data-parallax-disable");if(e==="mobile"&&s||e==="mobileLandscape"&&c||e==="tablet"&&t)return;const a=o.querySelector('[data-parallax="target"]')||o,u=(o.getAttribute("data-parallax-direction")||"vertical")==="horizontal"?"xPercent":"yPercent",d=o.getAttribute("data-parallax-scrub"),p=d?parseFloat(d):!0,g=o.getAttribute("data-parallax-start"),h=g!==null?parseFloat(g):20,m=o.getAttribute("data-parallax-end"),f=m!==null?parseFloat(m):-20,S=`clamp(${o.getAttribute("data-parallax-scroll-start")||"top bottom"})`,b=`clamp(${o.getAttribute("data-parallax-scroll-end")||"bottom top"})`;gsap.fromTo(a,{[u]:h},{[u]:f,ease:"none",scrollTrigger:{trigger:o,start:S,end:b,scrub:p}})})});return()=>r.revert()})}const yt=()=>{const l=gsap.utils.toArray("[data-bg-transition]");if(!l.length)return;const n=l.map(s=>s.style.backgroundColor||window.getComputedStyle(s).backgroundColor);l.forEach((s,c)=>{const t=l[c+1];if(!t)return;const r=c===0?n[0]:n[c],o=n[c+1];t.style.backgroundColor=r,gsap.set(t,{backgroundColor:r}),gsap.to(t,{backgroundColor:o,duration:.4,ease:"power1.inOut",scrollTrigger:{trigger:t,start:"top 50%",toggleActions:"play complete none reverse"}})})},bt=()=>{if(typeof Matter>"u"){console.warn("Matter.js is not loaded. Falling2D animation will not initialize.");return}const l=()=>{const E=document.querySelector("#canvas-target");if(E&&!E.hasAttribute("data-matter-initialized")){const B=E.closest(".footer_component");if(B){const T=B.getBoundingClientRect();T.top<window.innerHeight&&T.bottom>0?(F(E),E.setAttribute("data-matter-initialized","true")):setTimeout(l,1e3)}}};setTimeout(l,4e3);const n=Matter.Engine,s=Matter.Render,c=Matter.Runner,t=Matter.Bodies,r=Matter.Composite,o=Matter.Events;let e,a,i,u,d,p,g,h,m,f,y,S,v;const b=["#e42919","#00b4ae","#007b69","#f27c38","#ffd552","#91c7d6"],w=2,A=30,x=.65,C=(E,B)=>Math.random()*(B-E)+E,P=()=>{if(e&&n.clear(e),a&&s.stop(a),i&&c.stop(i),h&&window.removeEventListener("resize",h),m&&f){const E=document.querySelector("#canvas-target");E&&(E.removeEventListener("mousemove",m),E.removeEventListener("mouseleave",f),E.removeEventListener("touchstart",y),E.removeEventListener("touchmove",S),E.removeEventListener("touchend",v))}},W=(E,B,T,_)=>{const H=[];for(let z=0;z<=20;z++){const D=Math.PI*(z/20);H.push({x:Math.cos(D)*T,y:-Math.sin(D)*T})}return H.push({x:-T,y:0}),t.fromVertices(E,B,[H],{restitution:x,render:{fillStyle:_,strokeStyle:_}})},F=E=>{P();const B=E.getBoundingClientRect(),T=B.width,_=B.height,H=T/4,R=T/15,z=R/2,D=T-R/2;e=n.create(),e.world.gravity.y=w,e.timing.timeScale=.9,a=s.create({element:E,engine:e,options:{background:"transparent",wireframes:!1,width:T,height:_,pixelRatio:window.devicePixelRatio||2}}),a.canvas.width=T*(window.devicePixelRatio||2),a.canvas.height=_*(window.devicePixelRatio||2),a.canvas.style.width=`${T}px`,a.canvas.style.height=`${_}px`,u=t.rectangle(T/2,-H,T*2,H*2,{isStatic:!0}),d=t.rectangle(T/2,_+H,T*2,H*2,{isStatic:!0}),p=t.rectangle(-H,_/2,H*2,_*2,{isStatic:!0}),g=t.rectangle(T+H,_/2,H*2,_*2,{isStatic:!0}),r.add(e.world,[u,d,p,g]);const It=()=>{const q=b[Math.floor(Math.random()*b.length)],k=Math.random();if(k<.25){const M=R*(.3+Math.random()*.95),L=t.circle(C(z,D),-R,M,{restitution:x,render:{fillStyle:q,strokeStyle:q}});r.add(e.world,L)}else if(k<.5){const M=R*(.3+Math.random()*.95),L=W(C(z,D),-R,M,q);r.add(e.world,L)}else if(k<.75){const M=R*(.5+Math.random()*.75),L=t.rectangle(C(z,D),-R,M,M,{chamfer:{radius:M*.15},restitution:x,render:{fillStyle:q,strokeStyle:q}});r.add(e.world,L)}else{const M=R*(.5+Math.random()*.75),L=M*.15,O=Math.floor(Math.random()*4),I=L*(.5+Math.random()*.5),$=I*3,V=[I,I,I,I];V[O]=$;const Ot=t.rectangle(C(z,D),-R,M,M,{chamfer:{radius:V},restitution:x,render:{fillStyle:q,strokeStyle:q}});r.add(e.world,Ot)}};i=c.create(),s.run(a),c.run(i,e);let N=0;const U=()=>{N<A&&(It(),N++,setTimeout(U,100))};setTimeout(U,100);let J=0,K=0,Y=!1,X="ontouchstart"in window;const j=q=>{const k=E.getBoundingClientRect(),M=q.touches?q.touches[0].clientX:q.clientX,L=q.touches?q.touches[0].clientY:q.clientY;J=M-k.left,K=L-k.top,Y=!0},Q=()=>{Y=!1};m=q=>{X||j(q)},f=()=>{X||Q()};const Bt=q=>{q.preventDefault(),j(q)},Ht=q=>{q.preventDefault(),j(q)},Rt=q=>{q.preventDefault(),Q()};E.addEventListener("mousemove",m),E.addEventListener("mouseleave",f),E.addEventListener("touchstart",Bt,{passive:!1}),E.addEventListener("touchmove",Ht,{passive:!1}),E.addEventListener("touchend",Rt,{passive:!1}),o.on(e,"afterUpdate",()=>{if(!Y)return;const q=r.allBodies(e.world).filter(L=>!L.isStatic),k=X?200:150,M=X?.15:.2;q.forEach(L=>{const O=L.position.x-J,I=L.position.y-K,$=Math.sqrt(O*O+I*I);if($<k){const V=(1-$/k)*M;Matter.Body.setVelocity(L,{x:L.velocity.x,y:Math.min(L.velocity.y-V,-15)})}})});let Z;h=()=>{clearTimeout(Z),Z=setTimeout(()=>{c.stop(i);const q=E.getBoundingClientRect(),k=q.width,M=q.height;a.canvas.width=k*(window.devicePixelRatio||2),a.canvas.height=M*(window.devicePixelRatio||2),a.canvas.style.width=`${k}px`,a.canvas.style.height=`${M}px`,r.allBodies(e.world).filter(I=>!I.isStatic).forEach(I=>{const $=Math.max(50,Math.min(I.position.x,k-50)),V=Math.max(50,Math.min(I.position.y,M-50));Matter.Body.setPosition(I,{x:$,y:V}),Matter.Body.setVelocity(I,{x:0,y:0})}),r.remove(e.world,[u,d,p,g]);const O=k/4;u=t.rectangle(k/2,-O,k*2,O*2,{isStatic:!0}),d=t.rectangle(k/2,M+O,k*2,O*2,{isStatic:!0}),p=t.rectangle(-O,M/2,O*2,M*2,{isStatic:!0}),g=t.rectangle(k+O,M/2,O*2,M*2,{isStatic:!0}),r.add(e.world,[u,d,p,g]),c.run(i,e)},200)},window.addEventListener("resize",h)};{const E=()=>{const B=document.querySelector(".footer_component"),T=document.querySelector("#canvas-target");if(!B||!T){console.warn("Footer section or canvas target not found. Falling back to load event initialization."),window.addEventListener("load",()=>{T&&F(T)});return}const _=new IntersectionObserver(H=>{H.forEach(R=>{R.isIntersecting&&(T&&!T.hasAttribute("data-matter-initialized")&&(F(T),T.setAttribute("data-matter-initialized","true")),_.disconnect())})},{root:null,rootMargin:"0px 0px -20% 0px",threshold:.1});_.observe(B)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{setTimeout(E,1e3)}):setTimeout(E,1e3)}return{cleanup:P}},wt=()=>{const l=window.innerWidth,n=document.querySelector(".section_image-break .image-break_wrapper"),s=n.querySelectorAll(".image-break_media"),c=document.querySelector(".section_image-break .image-break_text");let t;c&&(t=new SplitText(c,{type:"chars"}).chars,gsap.set(t,{opacity:0,yPercent:100})),s.forEach(e=>{gsap.set(e,{x:(Math.random()-.5)*.16*l,y:(Math.random()-.5)*.1*l})});const r=n.clientWidth-document.body.clientWidth,o=gsap.to(n,{x:-r,ease:"none",scrollTrigger:{trigger:n.parentNode,pin:!0,scrub:!0,end:"+="+r}});if(s.forEach(e=>{gsap.from(e,{rotation:(Math.random()-.5)*80,yPercent:(Math.random()-.5)*300,xPercent:Math.random()*400,ease:"power1.out",scrollTrigger:{trigger:e,containerAnimation:o,start:"left 110%",end:"left 65%",scrub:!0}}),gsap.fromTo(e,{rotation:0,yPercent:0,xPercent:0},{rotation:(Math.random()-.5)*80,yPercent:(Math.random()-.5)*300,xPercent:-Math.random()*400,ease:"power1.in",scrollTrigger:{trigger:e,containerAnimation:o,start:"right 35%",end:"right -10%",scrub:!0}})}),t&&s.length>0){const e=Math.floor(t.length/2),a=s[s.length-1];gsap.to(t,{opacity:1,yPercent:0,duration:1.2,ease:"back.out(2.5)",stagger:{amount:.8,from:e,ease:"power2.out"},scrollTrigger:{trigger:a,containerAnimation:o,start:"left center",toggleActions:"play none none none"}})}};function vt(){document.querySelectorAll(".members-content_wrapper").forEach(l=>{const n=l.querySelector(".members-number");if(!n)return;const s=n.querySelector("span:first-child");if(!s)return;const c=parseFloat(n.getAttribute("data-count-start"))||0,t=parseFloat(n.getAttribute("data-count-end"))||parseFloat(s.textContent.replace(/,/g,""));s.textContent=c,s.classList.add("odometer");const r=new Odometer({el:s,value:c,format:"(,ddd)",duration:2e3});l.odometerInstance={odometer:r,endValue:t}})}const At=()=>{vt();const l=St();xt(l)},St=()=>{const l=document.querySelectorAll("[cs-element='tab-item']"),n=document.querySelector("[cs-element='tab-main']");if(!n)return;n.setAttribute("data-member-color","");const s=n.querySelector("h3.heading-style-h6"),c=n.querySelector(".member-tab-center_icon"),t=n.querySelector("p");if(!s||!c||!t)return;let r=0,o,e;const a=d=>{const p=d.querySelector(".members-tab_icon-wrapper"),g=d.querySelector(".tab-title-small"),h=d.querySelector(".members-tab_description > p");if(!p||!g||!h)return;const m=p.innerHTML,f=g.textContent,y=h.textContent,S=d.getAttribute("data-member-color");s.innerText!==f&&(s.innerHTML=f,c.innerHTML=m,t.textContent=y,n.parentNode.setAttribute("data-member-color",S),gsap.fromTo(n.parentNode,{scale:.8,opacity:0},{scale:1,opacity:1,duration:1,ease:"back.out(1.4)"}))},i=(d=8e3)=>{e=setTimeout(()=>{r=(r+1)%l.length,a(l[r]),o=setInterval(()=>{r=(r+1)%l.length,a(l[r])},1e4)},d)},u=()=>{clearTimeout(e),clearInterval(o),i()};return l.forEach((d,p)=>{d.addEventListener("mouseenter",()=>{r=p,a(d),u()}),d.addEventListener("mouseleave",()=>{u()})}),i},xt=l=>{const n=document.querySelectorAll(".members-content_wrapper"),s=document.querySelectorAll("[cs-element='tab-item']"),c=document.querySelector("[data-member-tab-center]");n.forEach(t=>{if(!t.odometerInstance)return;const r=t.querySelector("[data-member-heading]"),o=t.querySelector("[data-member-button]");if(!r||!o)return;const e=Array.from(s),a=Math.floor(e.length/2),i=[...e.slice(0,a),c,...e.slice(a)];gsap.set([r,o],{opacity:0,y:30}),gsap.set(i,{opacity:0,scale:0}),gsap.timeline({scrollTrigger:{trigger:t,start:"top 80%",once:!0},onComplete:()=>{l&&l(2e3)}}).call(()=>{t.odometerInstance.odometer.update(t.odometerInstance.endValue)}).to([r,o],{opacity:1,y:0,duration:.8,stagger:.2,ease:"power2.out"},"+=0.3").to(i,{opacity:1,scale:1,duration:1.2,stagger:{amount:.8,from:"center"},ease:"back.out(1.4)"},"<")})},Et=()=>{const l=document.querySelector(".regions_wrapper"),n=document.querySelector(".region_button-wrapper"),s=Array.from(document.querySelectorAll(".region_button")),c=Array.from(document.querySelectorAll(".regions_base.is-overlay")),t=Array.from(document.querySelectorAll(".regions-reflections_item"));if(!s.length||!c.length)return;if(l&&n){const h=Array.from(n.children);gsap.timeline().from(l,{scale:.8,autoAlpha:0,duration:1.5,ease:"back.out(1.7)"}).from(h,{autoAlpha:0,y:20,duration:1.2,stagger:.1,ease:"back.out(1.7)"},"+=0.05")}const r=h=>{const m=h.className.match(/is-(?!overlay)([a-z0-9-]+)/i);return m?m[1]:""},o=h=>(h.getAttribute("data-region")||r(h)).trim(),e=new Map,a=new Map;if(c.forEach(h=>{const m=o(h);m&&e.set(m,h)}),t.forEach(h=>{const m=o(h);m&&a.set(m,h)}),!e.size)return;gsap.set([...e.values()],{autoAlpha:0,pointerEvents:"none"}),a.size&&gsap.set([...a.values()],{autoAlpha:0});let i,u,d,p;const g=(h,m,f)=>{if(p&&(clearTimeout(p),p=null),i===h&&u===m)return;const y=i,S=u;y&&(gsap.killTweensOf(y),gsap.to(y,{autoAlpha:0,duration:.2,onComplete:()=>gsap.set(y,{display:"none"})})),S&&(gsap.killTweensOf(S),gsap.to(S,{autoAlpha:0,duration:.2})),i=h,u=m,d&&d.classList.remove("is-active"),d=f||null,d&&d.classList.add("is-active"),i&&(gsap.killTweensOf(i),gsap.set(i,{display:"block"}),gsap.fromTo(i,{autoAlpha:0},{autoAlpha:1,duration:.3})),u&&(gsap.killTweensOf(u),gsap.fromTo(u,{autoAlpha:0,scale:.8},{autoAlpha:1,scale:1,duration:.5,ease:"back.out(1.7)"}))};s.forEach(h=>{const m=o(h),f=e.get(m),y=a.get(m);f&&(h.addEventListener("mouseenter",()=>g(f,y,h)),h.addEventListener("mouseleave",()=>{i===f&&(p=setTimeout(()=>{g(null,null,null)},100))}))})};function qt(){const l=document.querySelector("[data-modal-slide-group]");if(!l)return null;const n=l.querySelectorAll("[data-modal-slide-name]"),s=l.querySelectorAll("[data-modal-slide-target]"),c=l.querySelectorAll("[data-modal-slide-close]"),t=a=>{const i=l.querySelector(`[data-modal-slide-name="${a}"]`);i&&(n.forEach(u=>u.setAttribute("data-modal-slide-status","not-active")),i.setAttribute("data-modal-slide-status","active"),l.setAttribute("data-modal-slide-group","active"),gsap.set(i,{opacity:1}),gsap.fromTo(i,{y:"100%"},{y:"0%",duration:.6,ease:"power3.out"}))};let r=null;const o=()=>{const a=l.querySelector('[data-modal-slide-name][data-modal-slide-status="active"]');a&&gsap.to(a,{y:"100%",duration:.5,ease:"power3.in",onComplete:()=>{s.forEach(i=>i.setAttribute("data-modal-slide-status","not-active")),n.forEach(i=>i.setAttribute("data-modal-slide-status","not-active")),l.setAttribute("data-modal-slide-group","not-active"),gsap.set(a,{opacity:0}),r&&r()}})};return s.forEach(a=>{a.addEventListener("click",function(){t(this.getAttribute("data-modal-slide-target"))})}),c.forEach(a=>a.addEventListener("click",o)),document.addEventListener("keydown",a=>{a.key==="Escape"&&l.getAttribute("data-modal-slide-group")==="active"&&o()}),{openModal:t,closeModals:o,setOnClose:a=>{r=a}}}const Tt=()=>{const l=qt(),n=[];let s=!1;(()=>{const r=document.querySelector(".section_events .events_top .text-size-medium"),o=document.querySelectorAll(".events_list-wrapper > *"),e=document.querySelector(".events_bottom .button");if(!r||!o.length||!e)return;gsap.set([r,...o,e],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:".section_events",start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(r,{opacity:1,y:0,duration:.8,ease:"power3.out"}).to(o,{opacity:1,y:0,duration:.6,ease:"power2.out",stagger:.15},"-=0.4").to(e,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.2")})(),document.querySelectorAll('[data-tabs="wrapper"]').forEach(r=>{const o=r.querySelectorAll('[data-tabs="content-item"]'),e=r.querySelectorAll('[data-tabs="visual-item"]'),a=r.dataset.tabsAutoplay==="true",i=parseInt(r.dataset.tabsAutoplayDuration)||5e3;let u=null,d=null,p=!1,g=null;const h={current:null};function m(y){g&&g.kill();const S=o[y].querySelector('[data-tabs="item-progress"]');S&&(gsap.set(S,{scaleX:0,transformOrigin:"left center"}),g=gsap.to(S,{scaleX:1,duration:i/1e3,ease:"power1.inOut",onComplete:()=>{if(!p){const v=(y+1)%o.length;f(v)}}}),h.current=g)}function f(y){if(p||o[y]===u)return;p=!0,g&&g.kill();const S=u,v=d,b=S?.querySelector('[data-tabs="item-progress"]'),w=o[y],A=e[y],x=w.querySelector('[data-tabs="item-progress"]');S?.classList.remove("is-active"),v?.classList.remove("is-active"),w.classList.add("is-active"),A.classList.add("is-active");const C=gsap.timeline({defaults:{duration:.65,ease:"power3"},onComplete:()=>{u=w,d=A,p=!1,a&&m(y)}});S&&(S.classList.remove("is-active"),v?.classList.remove("is-active"),C.set(b,{transformOrigin:"right center"}).to(b,{scaleX:0,duration:.3},0).to(v,{autoAlpha:0,xPercent:3},0)),w.classList.add("is-active"),A.classList.add("is-active"),C.fromTo(A,{autoAlpha:0,xPercent:3},{autoAlpha:1,xPercent:0},.3).set(x,{scaleX:0,transformOrigin:"left center"},0)}n.push(h),f(0),o.forEach((y,S)=>{y.addEventListener("click",()=>{if(l){const v=y.getAttribute("data-modal-slide-target");v&&(s=!0,n.forEach(b=>{b.current&&b.current.pause()}),window.lenis&&window.lenis.stop(),l.openModal(v))}}),a&&(y.addEventListener("mouseenter",()=>{y===u&&g&&!s&&g.pause()}),y.addEventListener("mouseleave",()=>{y===u&&g&&!s&&g.resume()}))})}),l.setOnClose(()=>{s=!1,n.forEach(r=>{r.current&&r.current.resume()}),window.lenis&&window.lenis.start()})},Mt=()=>{document.querySelectorAll(".section_highlight-scroll").forEach(n=>{const s=n.querySelectorAll(".highlight-scroll_content"),c=n.querySelectorAll(".highlight-scroll_content .heading-style-h3"),t=n.querySelector(".highlight_timeline-line");if(c.length===0)return;s.forEach((e,a)=>{const i=e.querySelector(".highlight_timeline-circle");gsap.set(e,{autoAlpha:0,y:30}),i&&i.classList.remove("is-active")});const r=s[0],o=s[s.length-1];ScrollTrigger.create({trigger:r,start:"top center",endTrigger:o,end:"bottom center",scrub:1,onUpdate:e=>{const a=e.progress;t&&gsap.set(t,{scaleY:a,transformOrigin:"top center"})}}),s.forEach((e,a)=>{const i=e.querySelector(".highlight_timeline-circle");ScrollTrigger.create({trigger:e,start:"top center",toggleActions:"play none none reverse",animation:gsap.to(e,{autoAlpha:1,y:0,duration:.6,ease:"power2.out"}),onEnter:()=>{i&&i.classList.add("is-active")},onEnterBack:()=>{i&&i.classList.add("is-active")},onLeave:()=>{i&&i.classList.remove("is-active")},onLeaveBack:()=>{i&&i.classList.remove("is-active")}})})})};class kt{constructor(n,s=0){if(!n||!(n instanceof HTMLElement))throw new Error("Invalid element provided.");this.highlightedElement=n,this.delay=s,this.animationDefaults={duration:.4,ease:"power1"},this.setInitialState(),this.initializeEffect()}setInitialState(){gsap.set(this.highlightedElement,{"--after-scale":0})}initializeEffect(){this.scroll()}scroll(){ScrollTrigger.create({trigger:this.highlightedElement,start:"top 60%",onEnter:()=>this.animateHighlight(),onEnterBack:()=>this.animateHighlight(),onLeave:()=>this.resetHighlight(),onLeaveBack:()=>this.resetHighlight()})}animateHighlight(){gsap.to(this.highlightedElement,{duration:.8,ease:"expo",delay:this.delay,"--after-scale":1})}resetHighlight(){gsap.killTweensOf(this.highlightedElement),gsap.set(this.highlightedElement,{"--after-scale":0})}}const Ct=()=>{const l=document.querySelectorAll(".section_highlight-content.is-title-waterfall .highlight-title_container"),n=document.querySelectorAll(".section_highlight-content.is-title-waterfall .highlight-content_bottom");!l.length||!n.length||(l.forEach(s=>{const c=s.querySelector(".highlight-title-heading");if(!c)return;const r=new SplitText(c,{type:"chars",charsClass:"letter"}).chars;requestAnimationFrame(()=>{const o=s.clientHeight-c.clientHeight;ScrollTrigger.create({trigger:s,pin:c,start:"top top",end:"+="+o}),r.forEach(e=>{const a=Math.random()*o;gsap.from(e,{y:a,ease:"none",scrollTrigger:{trigger:c,start:"top top",end:"+="+a,scrub:!0}})})})}),n.forEach(s=>{const c=s.querySelector(".text-size-large"),t=s.querySelector(".highlight-image_wrapper"),r=s.querySelectorAll("[data-highlight-stagger]");c&&gsap.from(c,{y:30,opacity:0,duration:.8,ease:"power2.out",scrollTrigger:{trigger:s,start:"top 80%",end:"bottom 20%",toggleActions:"play none none reverse"}}),r.forEach(o=>{new kt(o,.5)}),t&&gsap.from(t,{scale:.8,opacity:0,duration:1.2,ease:"power2.out",scrollTrigger:{trigger:s,start:"top 50%",end:"bottom 20%",toggleActions:"play none none reverse"}})}))};function Lt(){gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},n=>{const{isMobile:s,isMobileLandscape:c,isTablet:t}=n.conditions,r=gsap.context(()=>{document.querySelectorAll("[data-accent-shape]").forEach(o=>{const e=o.getAttribute("data-accent-disable");if(e==="mobile"&&s||e==="mobileLandscape"&&c||e==="tablet"&&t)return;const a=o.querySelector("[data-accent-target]")||o,i=parseFloat(o.getAttribute("data-accent-scale-start"))||0,u=parseFloat(o.getAttribute("data-accent-scale-end"))||1,d=parseFloat(o.getAttribute("data-accent-opacity-start"))||0,p=parseFloat(o.getAttribute("data-accent-opacity-end"))||1,g=o.getAttribute("data-accent-scroll-start")||"top 80%",h=o.getAttribute("data-accent-scroll-end")||"bottom 20%",m=parseFloat(o.getAttribute("data-accent-duration"))||.8,f=o.getAttribute("data-accent-ease")||"back.out(1.7)",y=o.hasAttribute("data-accent-loop"),S=parseFloat(o.getAttribute("data-accent-loop-duration"))||3,v=o.getAttribute("data-accent-loop-ease")||"none";gsap.set(a,{scale:i,opacity:d});const b=gsap.timeline({scrollTrigger:{trigger:o,start:g,end:h,toggleActions:"play none none reverse"}});b.to(a,{scale:u,opacity:p,duration:m,ease:f}),y&&b.to(a,{rotation:"+=360",duration:S,ease:v,repeat:-1},0)})});return()=>r.revert()})}const Pt=()=>{document.querySelectorAll("[data-swiper-group]").forEach(n=>{const s=n.querySelector("[data-swiper-wrap]");if(!s)return;const c=n.querySelector("[data-swiper-prev]"),t=n.querySelector("[data-swiper-next]");new Swiper(s,{slidesPerView:1.25,speed:600,mousewheel:!0,grabCursor:!0,breakpoints:{480:{slidesPerView:1.8},992:{slidesPerView:1.5}},navigation:{nextEl:t,prevEl:c},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!1}})})};gsap.registerPlugin(ScrollTrigger,SplitText),window.lenis=tt();const _t=()=>{et(),rt(),at(),nt(),st(),it(),ct(),lt(),dt(),Ct(),ut(),gt(),pt(),ht(),mt(),ft(),yt(),bt(),wt(),At(),Et(),Tt(),Mt(),Lt(),Pt()};document.addEventListener("DOMContentLoaded",async()=>{await document.fonts.ready,_t()});let G;window.addEventListener("resize",()=>{clearTimeout(G),G=setTimeout(()=>{ScrollTrigger.refresh()},100)})})();
