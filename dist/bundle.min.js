(function(){"use strict";const st=()=>{const d=new Lenis({autoRaf:!1,duration:1.5,easing:n=>Math.min(1,1.001-Math.pow(2,-10*n)),smoothWheel:!0,wheelMultiplier:.9,syncTouch:!0,touchMultiplier:1});return d.on("scroll",ScrollTrigger.update),gsap.ticker.add(n=>{d.raf(n*1e3)}),gsap.ticker.lagSmoothing(0),d};function K(){const d=document.querySelector("[data-modal-group-status]"),n=document.querySelectorAll("[data-modal-name]"),c=document.querySelectorAll("[data-modal-target]");c.forEach(r=>{r.addEventListener("click",function(){const e=this.getAttribute("data-modal-target");c.forEach(o=>o.setAttribute("data-modal-status","not-active")),n.forEach(o=>o.setAttribute("data-modal-status","not-active")),document.querySelector(`[data-modal-target="${e}"]`).setAttribute("data-modal-status","active"),document.querySelector(`[data-modal-name="${e}"]`).setAttribute("data-modal-status","active"),d&&d.setAttribute("data-modal-group-status","active"),window.lenis&&window.lenis.stop()})}),document.querySelectorAll("[data-modal-close]").forEach(r=>{r.addEventListener("click",p)}),document.addEventListener("keydown",function(r){r.key==="Escape"&&p()});function p(){c.forEach(r=>r.setAttribute("data-modal-status","not-active")),n.forEach(r=>r.setAttribute("data-modal-status","not-active")),d&&d.setAttribute("data-modal-group-status","not-active"),window.lenis&&window.lenis.start()}}const it=(d="img")=>new Promise(n=>{imagesLoaded(document.querySelectorAll(d),{background:!0},n)}),ct=()=>{if(!document.querySelector(".section_home-header .home-header_wrapper"))return;class n{constructor(){this.dom=document.querySelector(".section_home-header"),this.grid=document.querySelector(".home-header_wrapper"),this.imageWrappers=[...document.querySelectorAll(".home-header_image-wrapper")],this.heading=document.querySelector(".home-header_heading"),this.navbar=document.querySelector(".navbar_component"),this.taglines=[...document.querySelectorAll(".tagline")],this.baseX=0,this.baseY=0}init(){this.intro()}intro(){this.centerGrid(),this.setupSplitText();const r=gsap.timeline();r.set(this.dom,{scale:.5}),r.set(this.imageWrappers,{scale:.5,autoAlpha:0}),this.taglines.length>0&&r.set(this.taglines,{yPercent:100,autoAlpha:0}),r.set(this.navbar,{y:-100,autoAlpha:0}),r.to(this.heading,{autoAlpha:1,duration:.1}),r.from(this.headingChars,{yPercent:100,autoAlpha:0,duration:2,ease:"expo.inOut",stagger:.02}),this.taglines.length>0&&r.to(this.taglines,{yPercent:0,autoAlpha:1,duration:.8,ease:"expo.out",stagger:.15},"-=1.5"),r.to(this.imageWrappers,{scale:1,autoAlpha:1,duration:.6,ease:"power3.out",stagger:{amount:1.2,from:"random"}}),r.to(this.dom,{scale:1,duration:1.2,ease:"power3.inOut"}),r.to(this.navbar,{y:0,autoAlpha:1,duration:.8,ease:"power3.out"},"-=0.4"),r.call(()=>{this.animateToPositions(),this.addEvents(),this.observeImages(),this.applyHideAfterIntro()})}animateToPositions(){const r=window.matchMedia("(max-width: 479px)").matches,e=window.matchMedia("(min-width: 480px) and (max-width: 991px)").matches,o=window.innerWidth>=992;this.imageWrappers.forEach(t=>{if(t.hasAttribute("data-hide-after")){const a=t.getAttribute("data-hide-after");if(!a||a==="mobile"&&r||a==="tablet"&&e||a==="desktop"&&o)return}gsap.to(t,{x:this.getResponsiveValue(t,"x")||0,y:this.getResponsiveValue(t,"y")||0,duration:.96,ease:"power3.inOut"})})}setupSplitText(){this.heading&&(this.splitText=SplitText.create(this.heading,{type:"chars",mask:"chars"}),this.headingChars=this.splitText.chars)}getResponsiveValue(r,e){const o=window.matchMedia("(max-width: 479px)").matches,t=window.matchMedia("(min-width: 480px) and (max-width: 991px)").matches;return o?r.dataset[`mobile${e.charAt(0).toUpperCase()+e.slice(1)}`]||r.dataset[`tablet${e.charAt(0).toUpperCase()+e.slice(1)}`]||r.dataset[e]:t&&r.dataset[`tablet${e.charAt(0).toUpperCase()+e.slice(1)}`]||r.dataset[e]}repositionImages(){this.imageWrappers.forEach(r=>{const e=this.getResponsiveValue(r,"x")||0,o=this.getResponsiveValue(r,"y")||0;gsap.set(r,{x:e,y:o})})}centerGrid(){const r=this.grid.offsetWidth,e=this.grid.offsetHeight,o=window.innerWidth,t=window.innerHeight,a=(o-r)/2,u=(t-e)/2;gsap.set(this.grid,{x:a,y:u}),this.baseX=a,this.baseY=u}addEvents(){let r,e=window.innerWidth;window.addEventListener("resize",()=>{clearTimeout(r),r=setTimeout(()=>{const t=window.innerWidth;t!==e&&(this.centerGrid(),this.repositionImages(),e=t)},200)}),window.innerWidth>=992&&this.dom.addEventListener("mousemove",t=>{const a=(t.clientX/window.innerWidth-.5)*30,u=(t.clientY/window.innerHeight-.5)*30;gsap.to(this.grid,{x:this.baseX+a,y:this.baseY+u,duration:.8,ease:"power2.out",overwrite:"auto"})})}observeImages(){if(!(window.innerWidth>=992))return;const e=.88,o=.72,t=[0,.5,.72,.88,1],a=new IntersectionObserver(u=>{u.forEach(l=>{const s=l.target,h=l.intersectionRatio;!(s.__visible===!0)&&h>=e?(s.__visible=!0,gsap.to(s,{scale:1,autoAlpha:1,duration:.8,ease:"power3.out"})):h<=o&&s.__visible!==!1&&(s.__visible=!1,gsap.to(s,{scale:.5,autoAlpha:0,duration:.6,ease:"power3.out"}))})},{threshold:t});this.imageWrappers.forEach(u=>{u.hasAttribute("data-hide-after")||a.observe(u)})}applyHideAfterIntro(){const r=window.matchMedia("(max-width: 479px)").matches,e=window.matchMedia("(min-width: 480px) and (max-width: 991px)").matches,o=window.innerWidth>=992;this.imageWrappers.forEach(t=>{if(t.hasAttribute("data-hide-after")){const a=t.getAttribute("data-hide-after");(!a||a==="mobile"&&r||a==="tablet"&&e||a==="desktop"&&o)&&gsap.to(t,{scale:.5,autoAlpha:0,duration:.6,ease:"power3.out"})}else o||gsap.set(t,{scale:1,autoAlpha:1})})}}const c=new n;it(".home-header_image").then(()=>{c.init(),document.body.classList.remove("loading")})},lt=()=>{if(typeof document>"u")return;gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},n=>{const{isMobile:c,isMobileLandscape:p,isTablet:r}=n.conditions,e=gsap.context(()=>{const o=document.querySelectorAll("[data-horizontal-scroll-wrap]");o.length&&(o.forEach(t=>{const a=t.querySelector(".foreword-ceo_image-wrapper"),u=t.querySelector(".foreword-header_accent.is-1"),l=t.querySelector(".foreword-header_accent.is-2"),s=t.querySelector(".foreword_ceo-label-wrapper");a&&gsap.set(a,{opacity:0,scale:.8}),u&&gsap.set(u,{scale:0,transformOrigin:"center"}),l&&gsap.set(l,{scale:0,transformOrigin:"center"}),s&&gsap.set(s,{opacity:0,y:20});const h=gsap.timeline({scrollTrigger:{trigger:a||t,start:"top 40%"}});a&&h.to(a,{opacity:1,scale:1,duration:.6,ease:"back.out(1.7)"},0),u&&h.to(u,{scale:1,duration:.8,ease:"back.out(1.7)"},.6),l&&h.to(l,{scale:1,duration:.8,ease:"back.out(1.7)"},.6),s&&h.to(s,{opacity:1,y:0,duration:.6,ease:"back.out(1.7)"},.6);const i=t.querySelectorAll(".shape.is-foreword-1, .shape.is-foreword-2, .shape.is-foreword-3, .shape.is-foreword-4");gsap.set(i,{scale:0});const y=t.querySelectorAll("#foreword > p");y.length&&(gsap.set(y,{opacity:0,clipPath:"circle(0% at 100% 0%)"}),y.forEach(T=>{}),y.forEach((T,b)=>{T.classList.add(`foreword-paragraph-${b}`)}))}),o.forEach(t=>{const a=t.getAttribute("data-horizontal-scroll-disable");if(a==="mobile"&&c||a==="mobileLandscape"&&p||a==="tablet"&&r){const i=t.querySelectorAll("#foreword > p");i.length&&i.forEach((A,C)=>{gsap.to(A,{opacity:1,clipPath:"circle(150% at 100% 0%)",duration:1,scrollTrigger:{trigger:A,start:"top 80%",toggleActions:"play none none none"},delay:C*.15})});const y=t.querySelector(".shape.shape--rounded.is-foreword-1"),T=t.querySelector(".shape.shape--circle.is-foreword-2"),b=t.querySelector(".shape.shape--leaf.is-foreword-3"),M=t.querySelector(".shape.shape--quarter.is-foreword-4");y&&gsap.to(y,{scale:1,duration:.6,ease:"back.out(1.7)",scrollTrigger:{trigger:i[0]||t,start:"top 60%",toggleActions:"play none none none"}}),T&&gsap.to(T,{scale:1,duration:.6,ease:"back.out(1.7)",scrollTrigger:{trigger:i[Math.floor(i.length*.33)]||t,start:"top 60%",toggleActions:"play none none none"}}),b&&gsap.to(b,{scale:1,duration:.6,ease:"back.out(1.7)",scrollTrigger:{trigger:i[Math.floor(i.length*.66)]||t,start:"top 60%",toggleActions:"play none none none"}}),M&&gsap.to(M,{scale:1,duration:.6,ease:"back.out(1.7)",scrollTrigger:{trigger:i[i.length-1]||t,start:"top 60%",toggleActions:"play none none none"}});return}const l=gsap.utils.toArray("[data-horizontal-scroll-panel]",t);if(l.length<2)return;const s=t.querySelectorAll("#foreword > p"),h=s.length;gsap.to(l,{x:()=>-(t.scrollWidth-window.innerWidth),ease:"none",scrollTrigger:{trigger:t,start:"top top",end:()=>"+="+(t.scrollWidth-window.innerWidth),scrub:!0,pin:!0,invalidateOnRefresh:!0,onUpdate:i=>{let y=Math.min(Math.max(i.progress,0),1);r&&!p&&(y=Math.pow(y,.6));const T=Math.min(Math.floor(y*h),h-1),b=t.querySelector(".shape.shape--rounded.is-foreword-1"),M=t.querySelector(".shape.shape--circle.is-foreword-2"),A=t.querySelector(".shape.shape--leaf.is-foreword-3"),C=t.querySelector(".shape.shape--quarter.is-foreword-4");y>=.2&&b&&!b.hasAttribute("data-rotating")&&(gsap.to(b,{scale:1,duration:.6,ease:"back.out(1.7)"}),gsap.to(b,{rotation:"+=360",duration:20,ease:"none",repeat:-1}),b.setAttribute("data-rotating","true")),y>=.5&&M&&!M.hasAttribute("data-rotating")&&(gsap.to(M,{scale:1,duration:.6,ease:"back.out(1.7)"}),gsap.to(M,{rotation:"+=360",duration:18,ease:"none",repeat:-1}),M.setAttribute("data-rotating","true")),y>=.8&&A&&!A.hasAttribute("data-rotating")&&(gsap.to(A,{scale:1,duration:.6,ease:"back.out(1.7)"}),gsap.to(A,{rotation:"+=360",duration:16,ease:"none",repeat:-1}),A.setAttribute("data-rotating","true")),y>=.99&&C&&!C.hasAttribute("data-rotating")&&(gsap.to(C,{scale:1,duration:.6,ease:"back.out(1.7)"}),gsap.to(C,{rotation:"+=360",duration:14,ease:"none",repeat:-1}),C.setAttribute("data-rotating","true")),s.forEach((S,v)=>{v<=T&&gsap.to(S,{opacity:1,clipPath:"circle(150% at 100% 0%)",duration:1.2})})}}})}))});return()=>e.revert()})},dt=()=>{document.querySelectorAll('[data-sticky-title="wrap"]').forEach(n=>{const c=Array.from(n.querySelectorAll('[data-sticky-title="heading"]')),p=Array.from(n.querySelectorAll(".bg-shape img")),r=gsap.timeline({scrollTrigger:{trigger:n,start:"top 40%",end:"bottom bottom",scrub:!0}}),e=.7,o=.7,t=.15;p.forEach((a,u)=>{gsap.set(a,{autoAlpha:0,scale:1.1})}),c.forEach((a,u)=>{const l=gsap.timeline();a.setAttribute("aria-label",a.textContent);const s=new SplitText(a,{type:"words,chars"});s.words.forEach(i=>i.setAttribute("aria-hidden","true")),gsap.set(a,{visibility:"visible"});const h=n.querySelector(`.bg-shape.is-${u+1} img`);if(u===0)l.fromTo(h,{autoAlpha:0,scale:1.1},{autoAlpha:1,scale:1,duration:.8,ease:"power2.out"},.2);else{const i=n.querySelector(`.bg-shape.is-${u} img`);l.to(i,{autoAlpha:0,scale:1.1,duration:.8,ease:"power2.out"},0),l.fromTo(h,{autoAlpha:0,scale:1.1},{autoAlpha:1,scale:1,duration:.8,ease:"power2.out"},.4)}l.from(s.chars,{autoAlpha:0,stagger:{amount:e,from:"start"},duration:e},u===0?0:o*.3),u<c.length-1&&l.to(s.chars,{autoAlpha:0,stagger:{amount:o,from:"end"},duration:o}),u===0?r.add(l):r.add(l,`-=${t}`)})})},ut=()=>{const d=[{cause:"Affordable Housing",count:103,percent:16},{cause:"Ageing",count:108,percent:17},{cause:"Agriculture",count:217,percent:34},{cause:"Arts & Culture",count:126,percent:20},{cause:"Climate Action & Environment",count:364,percent:58},{cause:"Conservation",count:128,percent:20},{cause:"Education",count:379,percent:60},{cause:"Employability",count:229,percent:36},{cause:"Energy",count:188,percent:30},{cause:"Financial Inclusion",count:221,percent:35},{cause:"Gender",count:254,percent:40},{cause:"Governance",count:130,percent:21},{cause:"Health & Nutrition",count:207,percent:33},{cause:"Livelihood & Poverty Alleviation",count:329,percent:52},{cause:"Water, Sanitation & Hygiene",count:185,percent:29}],n=t=>getComputedStyle(document.documentElement).getPropertyValue(t).trim(),c={Education:n("--color-education"),"Climate Action & Environment":n("--color-climate"),"Livelihood & Poverty Alleviation":n("--color-livelihood"),"Health & Nutrition":n("--color-health"),Employability:n("--color-employability"),Gender:n("--color-gender"),"Financial Inclusion":n("--color-financial-inclusion"),Agriculture:n("--color-agriculture"),Energy:n("--color-energy"),"Water, Sanitation & Hygiene":n("--color-water"),"Arts & Culture":n("--color-arts"),Governance:n("--color-governance"),Conservation:n("--color-conservation"),Ageing:n("--color-aging"),"Affordable Housing":n("--color-affordable-housing")};let p=!1,r=!1;const e=(t=!1)=>{const a=document.querySelector(".supported-chart");if(!a)return;const u=a.offsetWidth,l=a.offsetHeight;d3.select(".supported-chart svg").remove();const s=window.matchMedia("(max-width: 479px)").matches,h=window.matchMedia("(max-width: 991px)").matches,i=Math.min(u,l),y=i,T=i,b=i*(s?.2:.15),M=d3.select(".supported-chart").append("svg").attr("viewBox",`0 0 ${y} ${T}`).attr("preserveAspectRatio","xMidYMid meet").style("width","100%").style("height","100%").append("g").attr("transform",`translate(${y/2},${T/2-(h?0:80)})`),A=d3.pie().sort(null).value(1),C=s?.0055:.0048;d3.arc().innerRadius(b).outerRadius(f=>b+f.data.percent*i*C).cornerRadius(10).padAngle(.035);const S=M.selectAll("path").data(A(d)).enter().append("path").attr("fill",f=>c[f.data.cause]||"#ccc").attr("d",f=>{const q=t?b:b+f.data.percent*i*C;return d3.arc().innerRadius(b).outerRadius(q).cornerRadius(10).padAngle(.035)(f)}).attr("stroke","#fff").attr("stroke-width",2).style("cursor","pointer");t&&!p&&(p=!0,S.transition().delay((f,q)=>q*100).duration(800).ease(d3.easeCubicOut).attrTween("d",function(f){const q=d3.interpolate(b,b+f.data.percent*i*C);return function(E){return d3.arc().innerRadius(b).outerRadius(q(E)).cornerRadius(10).padAngle(.035)(f)}}));const v=(f,q)=>{const E=f.split(/\s+/);if(E.length<=2)return[f];const L=document.createElement("canvas").getContext("2d");L.font=`700 ${i*(s?.035:.02)}px sans-serif`;let _=Math.ceil(E.length/2),W=E.slice(0,_).join(" "),R=E.slice(_).join(" ");for(;_>1&&(L.measureText(W).width>q||L.measureText(R).width>q);)_--,W=E.slice(0,_).join(" "),R=E.slice(_).join(" ");return[W,R]},g=M.append("g").attr("class","supported-chart_center-text").style("pointer-events","none"),m=g.append("text").attr("class","center-cause").attr("opacity",0).style("font-size",`${i*(s?.035:.02)}px`).style("font-weight","700").style("fill","var(--color-scheme-1--text)").style("text-anchor","middle");g.append("text").attr("class","center-percent").attr("y",i*(s?.05:.025)).attr("opacity",0).style("font-size",`${i*(s?.038:.018)}px`).style("font-weight","700").style("fill","var(--_primitives---brand--primary--navy-medium)").style("text-anchor","middle");let w=null;const x=f=>{const q=v(f.data.cause,b*1.8),E=i*(s?.04:.02),L=q.length>1?i*.008:0,_=-(q.length-1)*E/2-i*.01-L;m.selectAll("*").remove(),q.forEach((W,R)=>{m.append("tspan").attr("x",0).attr("dy",R===0?0:E).text(W)}),m.attr("y",_).transition().duration(200).style("opacity",1),g.select(".center-percent").text(`${f.data.percent}%`).transition().duration(200).style("opacity",1)},k=()=>{M.selectAll("path").transition().duration(200).style("opacity",1),g.selectAll("text").transition().duration(200).style("opacity",0)};s?S.on("click",function(f,q){if(w===this){w=null,k();return}w=this,M.selectAll("path").transition().duration(200).style("opacity",.3),d3.select(this).transition().duration(200).style("opacity",1),x(q)}):S.on("mouseover",function(f,q){M.selectAll("path").transition().duration(200).style("opacity",.3),d3.select(this).transition().duration(200).style("opacity",1),x(q)}).on("mouseout",function(){k()}),document.querySelectorAll(".supported-chart_legend-color").forEach(f=>{const q=parseInt(f.dataset.index),E=d[q]?.cause;if(!E)return;const L=c[E];L&&(f.style.backgroundColor=L)});const P=M.selectAll("path");document.querySelectorAll(".supported-chart_legend-item").forEach(f=>{const q=parseInt(f.querySelector(".supported-chart_legend-color").dataset.index);s?f.addEventListener("click",()=>{const E=P.nodes()[q];if(w===E){w=null,k();return}w=E,P.transition().duration(200).style("opacity",.3),d3.select(E).transition().duration(200).style("opacity",1);const L=d[q],_=v(L.cause,b*1.8),W=i*(s?.04:.02),R=_.length>1?i*.008:0,Y=-(_.length-1)*W/2-i*.01-R;m.selectAll("*").remove(),_.forEach((G,F)=>{m.append("tspan").attr("x",0).attr("dy",F===0?0:W).text(G)}),m.attr("y",Y).transition().duration(200).style("opacity",1),g.select(".center-percent").text(`${L.percent}%`).transition().duration(200).style("opacity",1)}):(f.addEventListener("mouseenter",()=>{P.transition().duration(200).style("opacity",.3),d3.select(P.nodes()[q]).transition().duration(200).style("opacity",1);const E=d[q],L=v(E.cause,b*1.8),_=i*(s?.04:.02),W=L.length>1?i*.008:0,R=-(L.length-1)*_/2-i*.01-W;m.selectAll("*").remove(),L.forEach((Y,G)=>{m.append("tspan").attr("x",0).attr("dy",G===0?0:_).text(Y)}),m.attr("y",R).transition().duration(200).style("opacity",1),g.select(".center-percent").text(`${E.percent}%`).transition().duration(200).style("opacity",1)}),f.addEventListener("mouseleave",()=>{P.transition().duration(200).style("opacity",1),g.selectAll("text").transition().duration(200).style("opacity",0)}))})};gsap.timeline({scrollTrigger:{trigger:".supported-chart",start:"top center",once:!0,onEnter:()=>{r=!0,e(!0)}}}),gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},()=>{const t=()=>{r&&e(!1)};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}})},pt=()=>{const d={name:"Beneficiary Communities",children:[{name:"Children & Youths",value:436,percent:69},{name:"Women & Girls",value:411,percent:65},{name:"People in Poverty",value:398,percent:63},{name:"Environment",value:303,percent:48},{name:"People without Employment",value:259,percent:41},{name:"People with Disabilities",value:208,percent:33},{name:"Elderly",value:196,percent:31},{name:"People with Medical Needs",value:196,percent:31},{name:"Ethnic Minorities",value:183,percent:29},{name:"Immigrants, Asylum Seekers & Refugees",value:114,percent:18},{name:"Offenders & Re-Offenders",value:44,percent:7}]},n=document.querySelector(".beneficiary-treemap");if(!n)return;let c;const p=gsap.matchMedia(),r=()=>{clearTimeout(c),c=setTimeout(()=>{const e=window.matchMedia("(max-width:479px)").matches,o=window.matchMedia("(max-width:767px)").matches,t=window.matchMedia("(max-width:1279px)").matches;ScrollTrigger.getAll().forEach(g=>{g.trigger===n&&g.kill()}),n.innerHTML="";const a=n.clientWidth||1e3,u=n.clientHeight||600,l=8,s=d3.select(n).append("svg").attr("viewBox",[0,0,a,u]).style("width","100%").style("height","100%"),h={"Children & Youths":"#00B3AD","Women & Girls":"#F17C38","People in Poverty":"#FED452",Environment:"#ADD5E0","People without Employment":"#4AC1BE","People with Disabilities":"#002943",Elderly:"#F59D6A","People with Medical Needs":"#FEE07E","Ethnic Minorities":"#86D1D1","Immigrants, Asylum Seekers & Refugees":"#80BDB4","Offenders & Re-Offenders":"#F2948C"},i=e||t||o,y=200,T=i?{...d,children:d.children.map(g=>({...g,layoutValue:Math.max(g.value,y)}))}:{...d,children:d.children.map(g=>({...g,layoutValue:g.value}))},b=d3.hierarchy(T).sum(g=>g.layoutValue).sort((g,m)=>m.layoutValue-g.layoutValue),M=e||o?d3.treemapSlice:t?d3.treemapSquarify:d3.treemapBinary;d3.treemap().tile(M).size([a,u]).paddingInner(l).round(!0)(b);const A=s.selectAll("g").data(b.leaves()).join("g").attr("transform",g=>`translate(${g.x0},${g.y0})`).style("cursor","pointer").style("opacity",0),C=g=>{const m=d3.color(g);return .2126*(m.r/255)+.7152*(m.g/255)+.0722*(m.b/255)>.6?"#002943":"#ffffff"},S=(g,m)=>{g.each(function(){const w=d3.select(this),x=w.text().split(/\s+/).reverse();let k,P=[],f=0;const q=1.1,E=w.attr("y");let L=w.text(null).append("tspan").attr("x",16).attr("y",E);for(;k=x.pop();)P.push(k),L.text(P.join(" ")),L.node().getComputedTextLength()>m&&(P.pop(),L.text(P.join(" ")),P=[k],L=w.append("tspan").attr("x",16).attr("y",E).attr("dy",`${++f*q}em`).text(k))})};let v=null;A.each(function(g){const m=d3.select(this),w=h[g.data.name]||"#ccc",x=C(w),k=g.x1-g.x0,P=g.y1-g.y0,f=m.append("rect").attr("fill",w).attr("rx",10).attr("ry",10).attr("width",k).attr("height",P).style("filter","drop-shadow(0 1px 2px rgba(0,0,0,0.05))").style("transform-origin",`${k/2}px ${P/2}px`);gsap.set(f.node(),{scale:1});const q=i&&P<50,E=q?"0.75rem":i?"0.875rem":"1rem",L=q?P/2+4:24,_=m.append("text").attr("x",16).attr("y",L).attr("fill",x).attr("font-size",E).attr("font-weight",600).text(g.data.name).call(S,k-32),W=i?.95:.6;_.node().getBBox().height>P*W&&_.style("display","none");let R=null;const Y=i?30:40,G=i?60:80;if(P>Y&&k>G){const $=i?"0.875rem":"1.25rem";R=m.append("text").attr("x",k-16).attr("y",P-12).attr("text-anchor","end").attr("fill",x).attr("font-size",$).attr("opacity",0).text(`${Math.round(g.data.percent)}%`)}window.matchMedia("(hover: hover) and (pointer: fine)").matches?m.on("mouseenter",()=>{m.raise(),gsap.to(f.node(),{scale:1.05,duration:.25,ease:"power2.out"}),gsap.to(f.node(),{filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.15))",duration:.25,ease:"power2.out"}),gsap.to(A.nodes().filter($=>$!==m.node()),{opacity:.3,duration:.25,ease:"power2.out"}),R&&gsap.to(R.node(),{opacity:1,duration:.25,ease:"power2.out"})}).on("mouseleave",()=>{gsap.to(f.node(),{scale:1,duration:.25,ease:"power2.out"}),gsap.to(f.node(),{filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.05))",duration:.25,ease:"power2.out"}),gsap.to(A.nodes(),{opacity:1,duration:.25,ease:"power2.out"}),R&&gsap.to(R.node(),{opacity:0,duration:.25,ease:"power2.out"})}):m.on("click",()=>{const $=v===m.node();if(v&&!$){const j=d3.select(v),Z=j.select("rect"),J=j.selectAll("text").filter(function(){return d3.select(this).attr("text-anchor")==="end"});gsap.to(Z.node(),{scale:1,filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.05))",duration:.25,ease:"power2.out"}),J.empty()||gsap.to(J.node(),{opacity:0,duration:.25,ease:"power2.out"})}$?(gsap.to(f.node(),{scale:1,filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.05))",duration:.25,ease:"power2.out"}),R&&gsap.to(R.node(),{opacity:0,duration:.25,ease:"power2.out"}),v=null):(m.raise(),gsap.to(f.node(),{scale:1.05,filter:"drop-shadow(0 4px 8px rgba(0,0,0,0.15))",duration:.25,ease:"power2.out"}),R&&gsap.to(R.node(),{opacity:1,duration:.25,ease:"power2.out"}),v=m.node())})}),gsap.to(A.nodes(),{opacity:1,duration:.6,ease:"power2.out",stagger:.08,scrollTrigger:{trigger:n,start:"top 80%",toggleActions:"play none none none"}})},150)};p.add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:1279px)",isDesktop:"(min-width:1280px)"},e=>{r(),window.addEventListener("resize",r)})},gt=()=>{const d=document.querySelector(".section_new");if(!d)return;const n=d.querySelector(".new_pin-height"),c=d.querySelector(".new_layout"),p=d.querySelectorAll(".new-paragraph_item"),r=d.querySelector(".button-group");if(!n||!c||p.length===0)return;const e=Array.from(p).map(t=>new SplitText(t,{type:"words",wordsClass:"word",mask:"words"}));gsap.set(e.flatMap(t=>t.words),{yPercent:100});let o=!1;ScrollTrigger.create({trigger:d,start:"top bottom",once:!0,onEnter:()=>{o||(o=!0,requestAnimationFrame(()=>{ScrollTrigger.refresh(),ScrollTrigger.create({trigger:n,start:"top top",end:"bottom bottom",pin:c});const t=gsap.timeline({scrollTrigger:{trigger:n,start:"top top",end:"bottom bottom",scrub:!0}});e.forEach((a,u)=>{t.to(a.words,{yPercent:0,duration:1,stagger:.2,ease:"power4.out"},u>0?"+=0.5":0)}),r&&(gsap.set(r,{opacity:0,y:20}),t.to(r,{opacity:1,y:0,duration:.8,ease:"power2.out"},"+=0.3"))}))}})},ht=()=>{const d=document.querySelector(".section_word-break"),n=document.querySelector(".section_word-break .word-break-text"),c=new SplitText(n,{type:"words, chars",smartWrap:!0,wordsClass:"word",charsClass:"char"}),p=c.chars;c.words;const r=n.clientWidth-document.body.clientWidth,e=gsap.to(n,{x:-r,ease:"none",scrollTrigger:{trigger:".section_word-break .word-break_container",pin:!0,end:"+="+r,scrub:!0}});gsap.from(d,{ease:"power1.out",scrollTrigger:{trigger:".section_word-break .word-break_container",start:"top top",end:"+=200",scrub:!0}}),p.forEach(o=>{gsap.from(o,{yPercent:(Math.random()-.5)*400,rotation:(Math.random()-.5)*60,ease:"elastic.out(1.2, 1)",scrollTrigger:{trigger:o,containerAnimation:e,start:"left 90%",end:"left 10%",scrub:.5}})})};function mt(){document.querySelectorAll("[data-highlight-text]").forEach(n=>{const c=n.getAttribute("data-highlight-scroll-start")||"top 90%",p=n.getAttribute("data-highlight-scroll-end")||"center 40%";n.getAttribute("data-highlight-fade");const r=n.getAttribute("data-highlight-stagger")||.1,e=n.getAttribute("data-highlight-bg")||"#C1E6E7";new SplitText(n,{type:"words",autoSplit:!0,onSplit(o){return gsap.context(()=>{const a=[];o.words.forEach(l=>{const s=document.createElement("div");s.className="highlight-word",l.parentNode.insertBefore(s,l),s.appendChild(l),a.push(s)});let u=gsap.timeline({scrollTrigger:{scrub:!0,trigger:n,start:c,end:p}});o.words.forEach((l,s)=>{const h=a[s],i=s*r;u.set(h,{backgroundColor:e},i).to(h,{backgroundColor:e,duration:.2,ease:"linear"},i+.2).from(l,{opacity:0,duration:.2,ease:"linear"},i+.4).to(h,{backgroundColor:"transparent",duration:.3,ease:"linear"},i+.6)})})}})})}const ft=()=>{document.querySelectorAll(".section-title_component").forEach(n=>{const c=n.querySelector(".section-title_accent-shape.is-1"),p=n.querySelector(".section-title_accent-shape.is-2"),r=n.querySelector(".section-title_inner > h2");if(!c||!p||!r)return;const e=new SplitText(r,{type:"words",mask:"words"});gsap.set([c,p],{scale:0,rotation:-45,transformOrigin:"center center"}),gsap.set(e.words,{autoAlpha:0,y:30}),gsap.timeline({scrollTrigger:{trigger:n,start:"top 80%",end:"bottom 20%"}}).to(c,{scale:1,rotation:0,duration:.6,ease:"back.out(1.7)"}).to(p,{scale:1,duration:.5,ease:"back.out(1.4)"},"-=0.3").to(e.words,{autoAlpha:1,y:0,duration:.7,stagger:.08,ease:"power2.out"},"-=0.2")})},yt=()=>{const d=document.querySelector(".section_highlight-cards .highlight-card_wrapper");if(!d)return;const n=window.matchMedia("(max-width: 991px)").matches,c=document.querySelectorAll(".highlight_card"),p=c.length,r=document.querySelectorAll(".highlight_card .highlight_card-content");if(n){d.classList.add("swiper"),d.innerHTML=`<div class="swiper-wrapper">${d.innerHTML}</div>`,d.querySelectorAll(".highlight_card").forEach(l=>{l.classList.add("swiper-slide")}),new Swiper(d,{effect:"cards",grabCursor:!0,preventClicks:!1,preventClicksPropagation:!1,loop:!0,touchRatio:1.5,touchAngle:45,longSwipesRatio:.5,longSwipesMs:300,cardsEffect:{perSlideOffset:8,perSlideRotate:2,rotate:!0,slideShadows:!1}}),K();return}const e=d.clientWidth;let o=0;c.forEach(u=>{gsap.set(u,{xPercent:(Math.random()-.5)*10,yPercent:(Math.random()-.5)*10,rotation:(Math.random()-.5)*20})});const t=u=>{u<0||u>=c.length||(gsap.set(c[u],{zIndex:"auto"}),gsap.to(c[u],{xPercent:(Math.random()-.5)*10,yPercent:(Math.random()-.5)*10,rotation:(Math.random()-.5)*20,scale:1,duration:.8,ease:"elastic.out(1, 0.75)"}))},a=u=>{c.forEach((l,s)=>{gsap.set(l,{zIndex:s===u?20:"auto"})}),gsap.to(c[u],{xPercent:0,yPercent:0,rotation:0,duration:.8,scale:1.1,ease:"elastic.out(1, 0.75)"}),r.forEach((l,s)=>{s!==u?gsap.to(l,{xPercent:80/(s-u),ease:"elastic.out(1, 0.75)",duration:.8}):gsap.to(l,{xPercent:0,ease:"elastic.out(1, 0.75)",duration:.8})})};d.addEventListener("mousemove",u=>{const s=(u.clientX-d.getBoundingClientRect().left)/e,h=Math.ceil(s*p);o!==h&&h>0&&h<=p&&(o!==0&&t(o-1),o=h,a(o-1))}),d.addEventListener("mouseleave",()=>{o>0&&t(o-1),o=0,gsap.to(r,{xPercent:0,ease:"elastic.out(1, 0.75)",duration:.8})})};function wt(){(()=>{const c=document.querySelector(".section_work");if(!c)return;const p=c.querySelectorAll(".work_list > *"),r=c.querySelector(".button");if(!p.length||!r)return;if(window.matchMedia("(max-width: 479px)").matches){p.forEach((t,a)=>{const u=a%2===0;gsap.set(t,{opacity:0,x:u?100:-100})}),gsap.set(r,{opacity:0,y:30});const o=gsap.timeline({scrollTrigger:{trigger:c,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}});p.forEach((t,a)=>{o.to(t,{opacity:1,x:0,duration:.6,ease:"power2.out"},a*.15)}),o.to(r,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.3")}else gsap.set([...p,r],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:c,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(p,{opacity:1,y:0,duration:.6,ease:"power2.out",stagger:.15}).to(r,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.3")})();const n={top:"translateY(-100%)",bottom:"translateY(100%)",left:"translateX(-100%)",right:"translateX(100%)"};document.querySelectorAll("[data-directional-hover]").forEach(c=>{const p=c.getAttribute("data-type")||"all";c.querySelectorAll("[data-directional-hover-item]").forEach(e=>{const o=e.querySelector("[data-directional-hover-tile]");o&&(e.addEventListener("mouseenter",t=>{const a=r(t,e,p);o.style.transition="none",o.style.transform=n[a]||"translate(0, 0)",o.offsetHeight,o.style.transition="",o.style.transform="translate(0%, 0%)",e.setAttribute("data-status",`enter-${a}`)}),e.addEventListener("mouseleave",t=>{const a=r(t,e,p);e.setAttribute("data-status",`leave-${a}`),o.style.transform=n[a]||"translate(0, 0)"}))});function r(e,o,t){const{left:a,top:u,width:l,height:s}=o.getBoundingClientRect(),h=e.clientX-a,i=e.clientY-u;if(t==="y")return i<s/2?"top":"bottom";if(t==="x")return h<l/2?"left":"right";const y={top:i,right:l-h,bottom:s-i,left:h};return Object.entries(y).reduce((T,b)=>T[1]<b[1]?T:b)[0]}})}function bt(){let c=!1;const p=[];(()=>{const o=document.querySelector(".section_partners");if(!o)return;const t=o.querySelector(".partners_top .text-size-large"),a=o.querySelector(".partners_bottom .text-size-large"),u=o.querySelector(".partners_bottom .button"),l=o.querySelector(".partners-logo-wall_component");!t||!a||!u||!l||(gsap.set([t,a,u,l],{opacity:0,y:30}),gsap.to(t,{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:t,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}),gsap.to(l,{opacity:1,y:0,duration:.8,ease:"power2.out",scrollTrigger:{trigger:l,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse",refreshPriority:-1},onComplete:()=>{c=!0,p.forEach(s=>s())}}),gsap.to(a,{opacity:1,y:0,duration:.8,ease:"power3.out",scrollTrigger:{trigger:a,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}),gsap.to(u,{opacity:1,y:0,duration:.6,ease:"power2.out",scrollTrigger:{trigger:u,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}))})(),document.querySelectorAll("[data-logo-wall-cycle-init]").forEach(o=>{const t=o.querySelector("[data-logo-wall-list]"),a=Array.from(t.querySelectorAll("[data-logo-wall-item]")),u=o.getAttribute("data-logo-wall-shuffle")!=="false";let l=a.map(m=>m.querySelector("[data-logo-wall-target]")).filter(Boolean);if(l.length===0&&(a.map(w=>w.querySelector("[data-logo-wall-target-parent]")).filter(Boolean).forEach(w=>{if(!w.querySelector("[data-logo-wall-target]")){const x=document.createElement("div");x.setAttribute("data-logo-wall-target",""),w.appendChild(x)}}),l=a.map(w=>w.querySelector("[data-logo-wall-target]")).filter(Boolean)),l.length===0)return;let s=[],h=0,i=[],y=[],T=0,b;function M(m){return window.getComputedStyle(m).display!=="none"}function A(m){const w=m.slice();for(let x=w.length-1;x>0;x--){const k=Math.floor(Math.random()*(x+1));[w[x],w[k]]=[w[k],w[x]]}return w}function C(){b&&b.kill(),s=a.filter(M),h=s.length,y=A(Array.from({length:h},(x,k)=>k)),T=0,a.forEach(x=>{x.querySelectorAll("[data-logo-wall-target]").forEach(k=>k.remove())}),i=l.map(x=>x.cloneNode(!0));let m,w;if(u){const x=A(i);m=x.slice(0,h),w=A(x.slice(h))}else m=i.slice(0,h),w=A(i.slice(h));i=m.concat(w);for(let x=0;x<h;x++)(s[x].querySelector("[data-logo-wall-target-parent]")||s[x]).appendChild(i.shift());b=gsap.timeline({repeat:-1,paused:!0}),b.call(S),b.to({},{duration:.9+1})}function S(){if(a.filter(M).length!==h){C();return}if(!i.length)return;const w=y[T%h];T++;const x=s[w],k=x.querySelector("[data-logo-wall-target-parent]")||x.querySelector("*:has(> [data-logo-wall-target])")||x;if(k.querySelectorAll("[data-logo-wall-target]").length>1)return;const f=k.querySelector("[data-logo-wall-target]"),q=i.shift();gsap.set(q,{yPercent:50,autoAlpha:0}),k.appendChild(q),f&&gsap.to(f,{yPercent:-50,autoAlpha:0,duration:.9,ease:"expo.inOut",onComplete:()=>{f.remove(),i.push(f)}}),gsap.to(q,{yPercent:0,autoAlpha:1,duration:.9,delay:.1,ease:"expo.inOut"})}C();let v;ScrollTrigger.addEventListener("refreshInit",()=>{v&&v.kill()});const g=()=>{if(!c){p.push(g);return}v=ScrollTrigger.create({trigger:o,start:"top bottom",end:"bottom top",onEnter:()=>{b.play()},onLeave:()=>{b.pause()},onEnterBack:()=>{b.play()},onLeaveBack:()=>{b.pause()}}),v.isActive&&b.play()};document.readyState==="complete"?(ScrollTrigger.refresh(),gsap.delayedCall(.3,g)):window.addEventListener("load",()=>{ScrollTrigger.refresh(),gsap.delayedCall(.3,g)}),document.addEventListener("visibilitychange",()=>{document.hidden?b.pause():v&&v.isActive&&b.play()})})}function vt(){(()=>{const c=document.querySelector(".section_team");if(!c)return;const p=c.querySelector(".team_top .text-size-large"),r=c.querySelector(".filter-group");if(!p||!r)return;gsap.set([p,r],{opacity:0,y:30}),gsap.timeline({scrollTrigger:{trigger:c,start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(p,{opacity:1,y:0,duration:.8,ease:"power3.out"}).to(r,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.4")})(),document.querySelectorAll("[data-filter-group]").forEach(c=>{const p=c.querySelectorAll("[data-filter-target]"),r=c.querySelectorAll("[data-filter-name]"),e=300,o=a=>{r.forEach(u=>{const s=u.getAttribute("data-filter-name")===a;u.getAttribute("data-filter-status")==="active"&&!s?(u.setAttribute("data-filter-status","transition-out"),setTimeout(()=>{u.setAttribute("data-filter-status","not-active"),u.setAttribute("aria-hidden","true")},e)):s&&setTimeout(()=>{u.setAttribute("data-filter-status","active"),u.setAttribute("aria-hidden","false")},e)}),p.forEach(u=>{const l=u.getAttribute("data-filter-target")===a;u.setAttribute("data-filter-status",l?"active":"not-active"),u.setAttribute("aria-pressed",l?"true":"false")})};p.forEach(a=>{a.addEventListener("click",()=>{const u=a.getAttribute("data-filter-target");a.getAttribute("data-filter-status")!=="active"&&o(u)})});const t=p[0];t&&o(t.getAttribute("data-filter-target"))})}const At=()=>{const d=gsap.utils.toArray("[data-bg-transition]");if(!d.length)return;const n=d.map(c=>c.style.backgroundColor||window.getComputedStyle(c).backgroundColor);d.forEach((c,p)=>{const r=d[p+1];if(!r)return;const e=p===0?n[0]:n[p],o=n[p+1];r.style.backgroundColor=e,gsap.set(r,{backgroundColor:e}),gsap.to(r,{backgroundColor:o,duration:.4,ease:"power1.inOut",scrollTrigger:{trigger:r,start:"top 50%",toggleActions:"play complete none reverse"}})})},St=()=>{if(typeof Matter>"u"){console.warn("Matter.js is not loaded. Falling2D animation will not initialize.");return}const d=()=>{const f=document.querySelector("#canvas-target");if(f&&!f.hasAttribute("data-matter-initialized")){const q=f.closest(".footer_component");if(q){const E=q.getBoundingClientRect();E.top<window.innerHeight&&E.bottom>0?(P(f),f.setAttribute("data-matter-initialized","true")):setTimeout(d,1e3)}}};setTimeout(d,4e3);const n=Matter.Engine,c=Matter.Render,p=Matter.Runner,r=Matter.Bodies,e=Matter.Composite,o=Matter.Events;let t,a,u,l,s,h,i,y,T,b,M,A,C;const S=["#00b4ae","#007b69","#f27c38","#ffd552","#91c7d6"],v=2,g=25,m=.65,w=(f,q)=>Math.random()*(q-f)+f,x=()=>{if(t&&n.clear(t),a&&c.stop(a),u&&p.stop(u),y&&window.removeEventListener("resize",y),T&&b){const f=document.querySelector("#canvas-target");f&&(f.removeEventListener("mousemove",T),f.removeEventListener("mouseleave",b),f.removeEventListener("touchstart",M),f.removeEventListener("touchmove",A),f.removeEventListener("touchend",C))}},k=(f,q,E,L)=>{const _=[];for(let R=0;R<=20;R++){const Y=Math.PI*(R/20);_.push({x:Math.cos(Y)*E,y:-Math.sin(Y)*E})}return _.push({x:-E,y:0}),r.fromVertices(f,q,[_],{restitution:m,render:{fillStyle:L,strokeStyle:L}})},P=f=>{x();const q=f.getBoundingClientRect(),E=q.width,L=q.height,_=E/4,W=window.matchMedia("(max-width:479px)").matches,R=window.matchMedia("(max-width:991px)").matches,Y=W?2:R?1.2:1,G=W?Math.round(g*.6):R?Math.round(g*1):g,F=E/15*Y,$=F/2,j=E-F/2;t=n.create();const J=Math.min(Math.max(L/900,.4),1.2);t.world.gravity.y=v*J,t.timing.timeScale=.9,a=c.create({element:f,engine:t,options:{background:"transparent",wireframes:!1,width:E,height:L,pixelRatio:window.devicePixelRatio||2}}),a.canvas.width=E*(window.devicePixelRatio||2),a.canvas.height=L*(window.devicePixelRatio||2),a.canvas.style.width=`${E}px`,a.canvas.style.height=`${L}px`,l=r.rectangle(E/2,-_,E*2,_*2,{isStatic:!0}),s=r.rectangle(E/2,L+_,E*2,_*2,{isStatic:!0}),h=r.rectangle(-_,L/2,_*2,L*2,{isStatic:!0}),i=r.rectangle(E+_,L/2,_*2,L*2,{isStatic:!0}),e.add(t.world,[l,s,h,i]);const zt=()=>{const z=S[Math.floor(Math.random()*S.length)],H=Math.random();if(H<.25){const I=F*(.3+Math.random()*.95),D=r.circle(w($,j),-F,I,{restitution:m,render:{fillStyle:z,strokeStyle:z}});e.add(t.world,D)}else if(H<.5){const I=F*(.3+Math.random()*.95),D=k(w($,j),-F,I,z);e.add(t.world,D)}else if(H<.75){const I=F*(.5+Math.random()*.75),D=r.rectangle(w($,j),-F,I,I,{chamfer:{radius:I*.15},restitution:m,render:{fillStyle:z,strokeStyle:z}});e.add(t.world,D)}else{const I=F*(.5+Math.random()*.75),D=I*.15,V=Math.floor(Math.random()*4),O=D*(.5+Math.random()*.5),B=O*3,X=[O,O,O,O];X[V]=B;const U=r.rectangle(w($,j),-F,I,I,{chamfer:{radius:X},restitution:m,render:{fillStyle:z,strokeStyle:z}});e.add(t.world,U)}};u=p.create(),c.run(a),p.run(u,t);let tt=0;const et=()=>{tt<G&&(zt(),tt++,setTimeout(et,100))};if(setTimeout(et,100),W){let z=0;const H=6e3;o.on(t,"afterUpdate",()=>{const I=Date.now();if(I-z>H){z=I;const D=e.allBodies(t.world).filter(O=>!O.isStatic),V=Math.floor(Math.random()*5)+2;for(let O=0;O<V;O++){const B=D[Math.floor(Math.random()*D.length)];B&&Matter.Body.setVelocity(B,{x:B.velocity.x+(Math.random()-.5)*2.5,y:Math.min(B.velocity.y-(5+Math.random()*6),-7)})}}})}else{let z=0,H=0,I=!1,D="ontouchstart"in window;const V=B=>{const X=f.getBoundingClientRect(),U=B.touches?B.touches[0].clientX:B.clientX,N=B.touches?B.touches[0].clientY:B.clientY;z=U-X.left,H=N-X.top,I=!0},O=()=>{I=!1};T=B=>{D||V(B)},b=()=>{D||O()},M=B=>{B.preventDefault(),V(B)},A=B=>{B.preventDefault(),V(B)},C=B=>{B.preventDefault(),O()},f.addEventListener("mousemove",T),f.addEventListener("mouseleave",b),f.addEventListener("touchstart",M,{passive:!1}),f.addEventListener("touchmove",A,{passive:!1}),f.addEventListener("touchend",C,{passive:!1}),o.on(t,"afterUpdate",()=>{if(!I)return;const B=e.allBodies(t.world).filter(N=>!N.isStatic),X=D?200:150,U=D?.15:.2;B.forEach(N=>{const at=N.position.x-z,rt=N.position.y-H,nt=Math.sqrt(at*at+rt*rt);if(nt<X){const Dt=(1-nt/X)*U;Matter.Body.setVelocity(N,{x:N.velocity.x,y:Math.min(N.velocity.y-Dt,-15)})}})})}let ot;y=()=>{clearTimeout(ot),ot=setTimeout(()=>{p.stop(u);const z=f.getBoundingClientRect(),H=z.width,I=z.height;a.canvas.width=H*(window.devicePixelRatio||2),a.canvas.height=I*(window.devicePixelRatio||2),a.canvas.style.width=`${H}px`,a.canvas.style.height=`${I}px`,e.allBodies(t.world).filter(O=>!O.isStatic).forEach(O=>{const B=Math.max(50,Math.min(O.position.x,H-50)),X=Math.max(50,Math.min(O.position.y,I-50));Matter.Body.setPosition(O,{x:B,y:X}),Matter.Body.setVelocity(O,{x:0,y:0})}),e.remove(t.world,[l,s,h,i]);const V=H/4;l=r.rectangle(H/2,-V,H*2,V*2,{isStatic:!0}),s=r.rectangle(H/2,I+V,H*2,V*2,{isStatic:!0}),h=r.rectangle(-V,I/2,V*2,I*2,{isStatic:!0}),i=r.rectangle(H+V,I/2,V*2,I*2,{isStatic:!0}),e.add(t.world,[l,s,h,i]),p.run(u,t)},200)},window.addEventListener("resize",y)};{const f=()=>{const q=document.querySelector(".footer_component"),E=document.querySelector("#canvas-target");if(!q||!E){console.warn("Footer section or canvas target not found. Falling back to load event initialization."),window.addEventListener("load",()=>{E&&P(E)});return}const L=new IntersectionObserver(_=>{_.forEach(W=>{W.isIntersecting&&(E&&!E.hasAttribute("data-matter-initialized")&&(P(E),E.setAttribute("data-matter-initialized","true")),L.disconnect())})},{root:null,rootMargin:"0px 0px -20% 0px",threshold:.1});L.observe(q)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{setTimeout(f,1e3)}):setTimeout(f,1e3)}return{cleanup:x}},xt=()=>{const d=window.innerWidth,n=document.querySelector(".section_image-break .image-break_wrapper"),c=n.querySelectorAll(".image-break_media"),p=document.querySelector(".section_image-break .image-break_text");let r;p&&(r=new SplitText(p,{type:"chars"}).chars,gsap.set(r,{opacity:0,yPercent:100})),c.forEach(t=>{gsap.set(t,{x:(Math.random()-.5)*.16*d,y:(Math.random()-.5)*.1*d})});const e=n.clientWidth-document.body.clientWidth,o=gsap.to(n,{x:-e,ease:"none",scrollTrigger:{trigger:n.parentNode,pin:!0,scrub:!0,end:"+="+e}});if(c.forEach(t=>{gsap.from(t,{rotation:(Math.random()-.5)*80,yPercent:(Math.random()-.5)*300,xPercent:Math.random()*400,ease:"power1.out",scrollTrigger:{trigger:t,containerAnimation:o,start:"left 110%",end:"left 65%",scrub:!0}}),gsap.fromTo(t,{rotation:0,yPercent:0,xPercent:0},{rotation:(Math.random()-.5)*80,yPercent:(Math.random()-.5)*300,xPercent:-Math.random()*400,ease:"power1.in",scrollTrigger:{trigger:t,containerAnimation:o,start:"right 35%",end:"right -10%",scrub:!0}})}),r&&c.length>0){const t=Math.floor(r.length/2),a=c[c.length-1];gsap.to(r,{opacity:1,yPercent:0,duration:1.2,ease:"back.out(2.5)",stagger:{amount:.8,from:t,ease:"power2.out"},scrollTrigger:{trigger:a,containerAnimation:o,start:"left center",toggleActions:"play none none none"}})}};function Et(){document.querySelectorAll(".members-content_wrapper").forEach(d=>{const n=d.querySelector(".members-number");if(!n)return;const c=n.querySelector("span:first-child");if(!c)return;const p=parseFloat(n.getAttribute("data-count-start"))||0,r=parseFloat(n.getAttribute("data-count-end"))||parseFloat(c.textContent.replace(/,/g,""));c.textContent=p,c.classList.add("odometer");const e=new Odometer({el:c,value:p,format:"(,ddd)",duration:2e3});d.odometerInstance={odometer:e,endValue:r}})}const Tt=()=>{Et();const d=Mt();qt(d)},Mt=()=>{const d=document.querySelectorAll("[cs-element='tab-item']"),n=document.querySelector("[cs-element='tab-main']");if(!n)return;n.setAttribute("data-member-color","");const c=n.querySelector("h3.heading-style-h6"),p=n.querySelector(".member-tab-center_icon"),r=n.querySelector("p");if(!c||!p||!r)return;let e=0,o,t;const a=A=>{const C=A.querySelector(".members-tab_icon-wrapper"),S=A.querySelector(".tab-title-small"),v=A.querySelector(".members-tab_description > p");if(!C||!S||!v)return;const g=C.innerHTML,w=S.innerHTML.replace(/<br\s*\/?>/gi," ").replace(/\/\s+/g,"/"),x=v.textContent,k=A.getAttribute("data-member-color");c.innerText!==w&&(c.innerHTML=w,p.innerHTML=g,r.textContent=x,n.parentNode.setAttribute("data-member-color",k),gsap.fromTo(n.parentNode,{scale:.8,opacity:0},{scale:1,opacity:1,duration:.6,ease:"back.out(1.4)"}))},u=(A=8e3)=>{t=setTimeout(()=>{e=(e+1)%d.length,a(d[e]),o=setInterval(()=>{e=(e+1)%d.length,a(d[e])},1e4)},A)},l=()=>{clearTimeout(t),clearInterval(o),u()},s=window.matchMedia("(max-width: 479px)").matches,h=window.matchMedia("(hover: hover) and (pointer: fine)").matches,i=n.parentNode,y=document.querySelector("[data-member-backdrop]"),T=document.querySelector("[data-member-close]"),b=()=>{i&&(i.style.display="flex",gsap.fromTo(i,{scale:.8,opacity:0},{scale:1,opacity:1,duration:.4,ease:"back.out(1.4)"})),y&&(y.style.display="block",gsap.fromTo(y,{opacity:0},{opacity:.5,duration:.3,ease:"power2.out"})),window.lenis&&window.lenis.stop()},M=()=>{i&&gsap.to(i,{scale:.8,opacity:0,duration:.3,ease:"power2.in",onComplete:()=>{i.style.display="none"}}),y&&gsap.to(y,{opacity:0,duration:.3,ease:"power2.in",onComplete:()=>{y.style.display="none"}}),window.lenis&&window.lenis.start()};return s&&(T&&T.addEventListener("click",M),y&&y.addEventListener("click",M)),d.forEach((A,C)=>{s?A.addEventListener("click",()=>{e=C,a(A),b()}):h?(A.addEventListener("mouseenter",()=>{e=C,a(A),l()}),A.addEventListener("mouseleave",()=>{l()})):A.addEventListener("click",()=>{e=C,a(A),l()})}),s?null:u},qt=d=>{const n=document.querySelectorAll(".members-content_wrapper"),c=document.querySelectorAll("[cs-element='tab-item']"),p=document.querySelector("[data-member-tab-center]"),r=window.matchMedia("(max-width: 479px)").matches;n.forEach(e=>{if(!e.odometerInstance)return;const o=e.querySelector("[data-member-heading]"),t=e.querySelector("[data-member-button]");if(!o||!t)return;const a=Array.from(c),u=Math.floor(a.length/2),l=[...a.slice(0,u),p,...a.slice(u)];gsap.set([o,t],{opacity:0,y:30}),gsap.set(l,{opacity:0,scale:0}),gsap.timeline({scrollTrigger:{trigger:e,start:"top 80%",once:!0},onComplete:()=>{d&&d(2e3)}}).call(()=>{e.odometerInstance.odometer.update(e.odometerInstance.endValue)}).to([o,t],{opacity:1,y:0,duration:.8,stagger:.2,ease:"power2.out"},"+=0.3").to(l,{opacity:1,scale:1,duration:1.2,stagger:{amount:.8,from:r?"start":"center"},ease:"back.out(1.4)"},"<")})},kt=()=>{const d=document.querySelector(".regions_wrapper"),n=document.querySelector(".region_button-wrapper"),c=Array.from(document.querySelectorAll(".region_button")),p=Array.from(document.querySelectorAll(".regions_base.is-overlay")),r=Array.from(document.querySelectorAll(".regions-reflections_item")),e=document.querySelector(".regions-reflections_list"),o=document.querySelector(".regions-content_track");if(!c.length||!p.length)return;if(d&&n){const S=Array.from(n.children),v=window.innerWidth<=767;v&&gsap.set(d,{clearProps:"transform"}),gsap.timeline().from(d,{scale:.8,autoAlpha:0,duration:1.5,ease:"back.out(1.7)",clearProps:v?"transform":""}).from(S,{autoAlpha:0,y:20,duration:1.2,stagger:.1,ease:"back.out(1.7)",clearProps:v?"transform":""},"+=0.05")}const t=S=>{const v=S.className.match(/is-(?!overlay)([a-z0-9-]+)/i);return v?v[1]:""},a=S=>(S.getAttribute("data-region")||t(S)).trim(),u=new Map,l=new Map;if(p.forEach(S=>{const v=a(S);v&&u.set(v,S)}),r.forEach(S=>{const v=a(S);v&&l.set(v,S)}),!u.size)return;gsap.set([...u.values()],{autoAlpha:0,pointerEvents:"none"});const s=window.innerWidth<=767;l.size&&(s?(gsap.set([...l.values()],{autoAlpha:0,y:"100%",display:"none"}),e&&(e.style.visibility="hidden")):gsap.set([...l.values()],{autoAlpha:0}));let h,i,y,T;const b=(S,v,g)=>{if(T&&(clearTimeout(T),T=null),h===S&&i===v)return;const m=h,w=i;m&&(gsap.killTweensOf(m),gsap.to(m,{autoAlpha:0,duration:.2,onComplete:()=>gsap.set(m,{display:"none"})})),w&&(gsap.killTweensOf(w),gsap.to(w,{autoAlpha:0,duration:.2})),h=S,i=v,y&&y.classList.remove("is-active"),y=g||null,y&&y.classList.add("is-active"),h&&(gsap.killTweensOf(h),gsap.set(h,{display:"block"}),gsap.fromTo(h,{autoAlpha:0},{autoAlpha:1,duration:.3})),i&&(gsap.killTweensOf(i),gsap.fromTo(i,{autoAlpha:0,scale:.8},{autoAlpha:1,scale:1,duration:.5,ease:"back.out(1.7)"}))},M=()=>window.innerWidth<=767,A=(S,v)=>{if(!S||!e)return;window.lenis&&window.lenis.stop();const g=e.querySelector("[data-modal-region-close]");g&&gsap.set(g,{autoAlpha:0}),p.forEach(m=>{gsap.set(m,{autoAlpha:0,pointerEvents:"none"})}),r.forEach(m=>{m!==S?gsap.set(m,{autoAlpha:0,y:"100%",display:"none"}):gsap.set(m,{display:"flex"})}),v&&(gsap.set(v,{display:"block"}),gsap.to(v,{autoAlpha:1,duration:.3})),e.style.visibility="visible",gsap.killTweensOf(S),gsap.fromTo(S,{autoAlpha:0,y:"100%"},{autoAlpha:1,y:"0%",duration:.4,ease:"power2.out",onComplete:()=>{g&&gsap.to(g,{autoAlpha:1,duration:.2})}})},C=()=>{if(!e)return;const S=r.find(g=>gsap.getProperty(g,"opacity")>0);if(!S)return;const v=e.querySelector("[data-modal-region-close]");v?gsap.to(v,{autoAlpha:0,duration:.2,onComplete:()=>{p.forEach(g=>{gsap.killTweensOf(g),gsap.to(g,{autoAlpha:0,duration:.2,onComplete:()=>gsap.set(g,{display:"none"})})}),gsap.killTweensOf(S),gsap.to(S,{autoAlpha:0,y:"100%",duration:.3,ease:"power2.in",onComplete:()=>{gsap.set(S,{display:"none"}),e.style.visibility="hidden",window.lenis&&window.lenis.start()}})}}):(p.forEach(g=>{gsap.killTweensOf(g),gsap.to(g,{autoAlpha:0,duration:.2,onComplete:()=>gsap.set(g,{display:"none"})})}),gsap.killTweensOf(S),gsap.to(S,{autoAlpha:0,y:"100%",duration:.3,ease:"power2.in",onComplete:()=>{gsap.set(S,{display:"none"}),e.style.visibility="hidden",window.lenis&&window.lenis.start()}}))};if(c.forEach((S,v)=>{const g=a(S),m=u.get(g),w=l.get(g);m&&(S.addEventListener("click",()=>{if(M()){if(o){const x=S.getAttribute("data-scroll-align")||"end";let k;x==="start"?k=0:x==="center"?k=(o.scrollWidth-o.clientWidth)/2:k=o.scrollWidth-o.clientWidth,o.scrollTo({left:k,behavior:"smooth"})}w&&A(w,m)}}),S.addEventListener("mouseenter",()=>{M()||b(m,w,S)}),S.addEventListener("mouseleave",()=>{!M()&&h===m&&(T=setTimeout(()=>{b(null,null,null)},100))}))}),e){const S=e.querySelector("[data-modal-region-close]");S&&S.addEventListener("click",v=>{v.stopPropagation(),C()}),e.addEventListener("click",v=>{v.target===e&&C()})}};function Lt(){const d=document.querySelector("[data-modal-slide-group]");if(!d)return null;const n=d.querySelectorAll("[data-modal-slide-name]"),c=d.querySelectorAll("[data-modal-slide-target]"),p=d.querySelectorAll("[data-modal-slide-close]"),r=s=>{s.querySelectorAll("[data-odometer]").forEach(i=>{const y=parseFloat(i.getAttribute("data-count-start"))||0,T=parseFloat(i.getAttribute("data-count-end"))||parseFloat(i.textContent.replace(/,/g,"")),b=parseFloat(i.getAttribute("data-duration"))||2e3,M=i.getAttribute("data-format")||"(,ddd)";i.textContent=y,i.classList.add("odometer");const A=new Odometer({el:i,value:y,format:M,duration:b});i.odometerInstance={odometer:A,endValue:T,hasAnimated:!1}})},e=s=>{const h=s.querySelectorAll("[data-odometer]"),i=new IntersectionObserver(y=>{y.forEach(T=>{if(T.isIntersecting&&!T.target.odometerInstance.hasAnimated){const{odometer:b,endValue:M}=T.target.odometerInstance;b.update(M),T.target.odometerInstance.hasAnimated=!0,i.unobserve(T.target)}})},{threshold:.5,rootMargin:"0px 0px -10% 0px"});h.forEach(y=>{i.observe(y)})};n.forEach(s=>{r(s),e(s)});const o=s=>{const h=d.querySelector(`[data-modal-slide-name="${s}"]`);h&&(n.forEach(y=>{y!==h&&a(y),y.setAttribute("data-modal-slide-status","not-active")}),h.setAttribute("data-modal-slide-status","active"),d.setAttribute("data-modal-slide-group","active"),gsap.set(h,{opacity:1}),gsap.fromTo(h,{y:"100%"},{y:"0%",duration:.6,ease:"power3.out"}),h.querySelectorAll("[data-swiper-wrap]").forEach(y=>{const T=y.swiper;T&&T.autoplay&&T.autoplay.start()}))};let t=null;const a=s=>{s.querySelectorAll("iframe").forEach(i=>{const y=i.dataset.src||i.src;i.src="",setTimeout(()=>{i.src=y},100)})},u=()=>{const s=d.querySelector('[data-modal-slide-name][data-modal-slide-status="active"]');s&&(a(s),gsap.to(s,{y:"100%",duration:.5,ease:"power3.in",onComplete:()=>{s.querySelectorAll("[data-swiper-wrap]").forEach(i=>{const y=i.swiper;y&&y.autoplay&&y.autoplay.stop()}),c.forEach(i=>i.setAttribute("data-modal-slide-status","not-active")),n.forEach(i=>i.setAttribute("data-modal-slide-status","not-active")),d.setAttribute("data-modal-slide-group","not-active"),gsap.set(s,{opacity:0}),t&&t()}}))};return c.forEach(s=>{s.addEventListener("click",function(){o(this.getAttribute("data-modal-slide-target"))})}),p.forEach(s=>s.addEventListener("click",u)),document.addEventListener("keydown",s=>{s.key==="Escape"&&d.getAttribute("data-modal-slide-group")==="active"&&u()}),{openModal:o,closeModals:u,setOnClose:s=>{t=s}}}const Ct=()=>{const d=Lt(),n=[];let c=!1;gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)",hasHover:"(hover: hover) and (pointer: fine)"},r=>{const{isMobile:e,isTablet:o,hasHover:t}=r.conditions;(()=>{const l=document.querySelector(".section_events .events_top .text-size-medium"),s=document.querySelectorAll(".events_list-wrapper > *"),h=document.querySelector(".events_bottom .button");if(!l||!s.length||!h)return;gsap.set([l,h],{opacity:0,y:30}),gsap.set(s,{y:30}),gsap.timeline({scrollTrigger:{trigger:".section_events",start:"top 60%",end:"bottom 20%",toggleActions:"play none none reverse"}}).to(l,{opacity:1,y:0,duration:.8,ease:"power3.out"}).to(s,{y:0,duration:.6,ease:"power2.out",stagger:.15},"-=0.4").to(h,{opacity:1,y:0,duration:.6,ease:"power2.out"},"-=0.2")})(),document.querySelectorAll('[data-tabs="wrapper"]').forEach(l=>{const s=l.querySelectorAll('[data-tabs="content-item"]'),h=l.querySelectorAll('[data-tabs="visual-item"]'),i=l.dataset.tabsAutoplay==="true",y=parseInt(l.dataset.tabsAutoplayDuration)||5e3;let T=null,b=null,M=!1,A=null;const C={current:null};function S(g){A&&A.kill(),s.forEach(w=>{const x=w.querySelector('[data-tabs="item-progress"]');x&&gsap.set(x,{scaleX:0})});const m=s[g].querySelector('[data-tabs="item-progress"]');m&&(gsap.set(m,{scaleX:0,transformOrigin:"left center"}),A=gsap.to(m,{scaleX:1,duration:y/1e3,ease:"power1.inOut",onComplete:()=>{if(!M){const w=(g+1)%s.length;v(w)}}}),C.current=A)}function v(g){if(M||s[g]===T)return;M=!0,A&&A.kill();const m=T,w=b,x=m?.querySelector('[data-tabs="item-progress"]'),k=s[g],P=h[g],f=k.querySelector('[data-tabs="item-progress"]');m?.classList.remove("is-active"),w?.classList.remove("is-active"),k.classList.add("is-active"),P.classList.add("is-active");const q=gsap.timeline({defaults:{duration:.65,ease:"power3"},onComplete:()=>{T=k,b=P,M=!1,i&&S(g)}});m&&(m.classList.remove("is-active"),w?.classList.remove("is-active"),q.set(x,{transformOrigin:"right center"}).to(x,{scaleX:0,duration:.3},0).to(w,{autoAlpha:0,xPercent:3},0)),k.classList.add("is-active"),P.classList.add("is-active"),q.fromTo(P,{autoAlpha:0,xPercent:3},{autoAlpha:1,xPercent:0},.3).set(f,{scaleX:0,transformOrigin:"left center"},0)}n.push(C),v(0),s.forEach((g,m)=>{if(g.addEventListener("click",()=>{if(d){const w=g.getAttribute("data-modal-slide-target");w&&(c=!0,n.forEach(x=>{x.current&&x.current.pause()}),window.lenis&&window.lenis.stop(),d.openModal(w))}}),i&&t){let w=null,x=null;g.addEventListener("mouseenter",()=>{s.forEach(P=>{P!==g&&P.classList.remove("is-active")}),g.classList.add("is-active");const k=h[m];k&&k!==b&&(x=b,w=k,gsap.to(x,{autoAlpha:0,xPercent:3,duration:.65,ease:"power3"}),gsap.fromTo(w,{autoAlpha:0,xPercent:3},{autoAlpha:1,xPercent:0,duration:.65,ease:"power3"})),A&&!c&&A.pause()}),g.addEventListener("mouseleave",()=>{s.forEach(k=>{k.classList.remove("is-active")}),T&&T.classList.add("is-active"),w&&x&&w!==b&&(gsap.to(w,{autoAlpha:0,xPercent:3,duration:.65,ease:"power3"}),gsap.fromTo(x,{autoAlpha:0,xPercent:3},{autoAlpha:1,xPercent:0,duration:.65,ease:"power3"}),w=null,x=null),A&&!c&&A.resume()})}})})}),d.setOnClose(()=>{c=!1,n.forEach(r=>{r.current&&r.current.resume()}),window.lenis&&window.lenis.start()})},_t=()=>{const d=document.querySelectorAll(".section_highlight-scroll"),n=window.matchMedia("(max-width: 479px)").matches;d.forEach(c=>{const p=c.querySelectorAll(".highlight-scroll_content"),r=c.querySelectorAll(".highlight-scroll_content .heading-style-h3"),e=c.querySelector(".highlight_timeline-line");if(r.length===0)return;p.forEach((a,u)=>{const l=a.querySelector(".highlight_timeline-circle");if(n){const s=a.querySelectorAll(":scope > *");gsap.set(s,{autoAlpha:0,x:100})}else gsap.set(a,{autoAlpha:0,y:30});l&&l.classList.remove("is-active")});const o=p[0],t=p[p.length-1];ScrollTrigger.create({trigger:o,start:"top center",endTrigger:t,end:"bottom center",scrub:1,onUpdate:a=>{const u=a.progress;e&&gsap.set(e,{scaleY:u,transformOrigin:"top center"})}}),p.forEach((a,u)=>{const l=a.querySelector(".highlight_timeline-circle");if(n){const s=a.querySelectorAll(":scope > *"),h=gsap.timeline({paused:!0});h.to(s,{autoAlpha:1,x:0,duration:.5,ease:"power2.out",stagger:.1}),ScrollTrigger.create({trigger:a,start:"top center",toggleActions:"play none none reverse",animation:h,onEnter:()=>{l&&l.classList.add("is-active")},onEnterBack:()=>{l&&l.classList.add("is-active")},onLeave:()=>{l&&l.classList.remove("is-active")},onLeaveBack:()=>{l&&l.classList.remove("is-active")}})}else ScrollTrigger.create({trigger:a,start:"top center",toggleActions:"play none none reverse",animation:gsap.to(a,{autoAlpha:1,y:0,duration:.6,ease:"power2.out"}),onEnter:()=>{l&&l.classList.add("is-active")},onEnterBack:()=>{l&&l.classList.add("is-active")},onLeave:()=>{l&&l.classList.remove("is-active")},onLeaveBack:()=>{l&&l.classList.remove("is-active")}})})})},Pt=()=>{const d=document.querySelectorAll(".section_highlight-content.is-title-waterfall .highlight-title_container"),n=document.querySelectorAll(".section_highlight-content.is-title-waterfall .highlight-content_bottom");!d.length||!n.length||(d.forEach(c=>{const p=c.querySelector(".highlight-title-heading");if(!p)return;const e=new SplitText(p,{type:"chars",charsClass:"letter"}).chars;requestAnimationFrame(()=>{const o=c.clientHeight-p.clientHeight;ScrollTrigger.create({trigger:c,pin:p,start:"top top",end:"+="+o}),e.forEach(t=>{const a=Math.random()*o;gsap.from(t,{y:a,ease:"none",scrollTrigger:{trigger:p,start:"top top",end:"+="+a,scrub:!0}})})})}),n.forEach(c=>{const p=c.querySelector(".text-size-large"),r=c.querySelector(".highlight-image_wrapper");p&&gsap.from(p,{y:30,opacity:0,duration:.8,ease:"power2.out",scrollTrigger:{trigger:c,start:"top 80%",end:"bottom 20%",toggleActions:"play none none reverse"}}),r&&gsap.from(r,{scale:.8,opacity:0,duration:1.2,ease:"power2.out",scrollTrigger:{trigger:c,start:"top 50%",end:"bottom 20%",toggleActions:"play none none reverse"}})}))};function It(){gsap.matchMedia().add({isMobile:"(max-width:479px)",isMobileLandscape:"(max-width:767px)",isTablet:"(max-width:991px)",isDesktop:"(min-width:992px)"},n=>{const{isMobile:c,isMobileLandscape:p,isTablet:r}=n.conditions,e=gsap.context(()=>{document.querySelectorAll("[data-accent-shape]").forEach(o=>{const t=o.getAttribute("data-accent-disable");if(t==="mobile"&&c||t==="mobileLandscape"&&p||t==="tablet"&&r)return;const a=o.querySelector("[data-accent-target]")||o,u=parseFloat(o.getAttribute("data-accent-scale-start"))||0,l=parseFloat(o.getAttribute("data-accent-scale-end"))||1,s=parseFloat(o.getAttribute("data-accent-opacity-start"))||0,h=parseFloat(o.getAttribute("data-accent-opacity-end"))||1,i=o.getAttribute("data-accent-scroll-start")||"top 80%",y=o.getAttribute("data-accent-scroll-end")||"bottom 20%",T=parseFloat(o.getAttribute("data-accent-duration"))||.8,b=o.getAttribute("data-accent-ease")||"back.out(1.7)",M=(o.getAttribute("data-accent-mode")||"").toLowerCase(),A=parseFloat(o.getAttribute("data-accent-loop-duration"))||3,C=o.getAttribute("data-accent-loop-ease")||"none";gsap.set(a,{scale:u,opacity:s}),gsap.timeline({scrollTrigger:{trigger:o,start:i,end:y,toggleActions:"play none none reverse"}}).to(a,{scale:l,opacity:h,duration:T,ease:b});let v;if(o.hasAttribute("data-accent-mode")&&(M===""||M==="rotate"))v=gsap.to(a,{rotation:"+=360",duration:A,ease:C,repeat:-1,paused:!0});else if(M==="pulse"){const g=gsap.timeline({repeat:-1,repeatDelay:A,paused:!0});g.to(a,{scale:l*1.12,duration:A*.18,ease:"power2.out"}).to(a,{scale:l*1.02,duration:A*.12,ease:"power2.inOut"}).to(a,{scale:l*1.08,duration:A*.16,ease:"power2.out"}).to(a,{scale:l,duration:A*.24,ease:"power2.inOut"}),v=g}else M==="scrub"&&gsap.to(a,{rotation:45,ease:"none",scrollTrigger:{trigger:o,start:i,end:y,scrub:!0}});if(v){const g=M===""||M==="rotate"||M==="pulse"?"top bottom":i,m=M===""||M==="rotate"||M==="pulse"?"bottom top":y;ScrollTrigger.create({trigger:o,start:g,end:m,onEnter:()=>v.play(),onEnterBack:()=>v.play(),onLeave:()=>v.pause(),onLeaveBack:()=>v.pause()})}})});return()=>e.revert()})}const Bt=()=>{document.querySelectorAll("[data-swiper-group]").forEach(n=>{const c=n.querySelector("[data-swiper-wrap]");if(!c)return;const p=n.querySelector("[data-swiper-prev]"),r=n.querySelector("[data-swiper-next]"),e="ontouchstart"in window,o=new Swiper(c,{slidesPerView:1.25,speed:600,mousewheel:!e,grabCursor:!0,autoplay:{delay:4e3,disableOnInteraction:!1,pauseOnMouseEnter:!0,waitForTransition:!0},breakpoints:{320:{slidesPerView:1},480:{slidesPerView:1},992:{slidesPerView:1.25}},navigation:{nextEl:r,prevEl:p},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!1}});o.autoplay&&o.autoplay.stop()})};function Rt(){const d=document.querySelectorAll(".footer-social-link");if(!d.length)return;const n={facebook:"var(--_primitives---brand--secondary--teal-main)",instagram:"var(--_primitives---brand--secondary--orange-main)",x:"var(--_primitives---brand--secondary--yellow-main)",linkedin:"var(--_primitives---brand--secondary--emerald-main)",youtube:"var(--_primitives---brand--primary--aqua-main)",buzzsprout:"var(--_primitives---brand--primary--red-main)"};d.forEach(c=>{const p=window.getComputedStyle(c).color;c.addEventListener("mouseenter",()=>{const r=Ot(c),e=n[r]||window.getComputedStyle(c).color;gsap.to(c,{color:e,duration:.3,ease:"power2.out"})}),c.addEventListener("mouseleave",()=>{gsap.to(c,{color:p,duration:.3,ease:"power2.out"})})})}function Ot(d){const n=d.getAttribute("data-link");return n?n.toLowerCase():"default"}function Wt(){const d=document.querySelector(".dots-nav");if(!d)return;gsap.matchMedia().add({isMobile:"(max-width: 767px)",isDesktop:"(min-width: 768px)"},e=>{const{isMobile:o}=e.conditions;o?gsap.set(d,{y:100,opacity:0,pointerEvents:"none"}):gsap.set(d,{x:100,opacity:0,pointerEvents:"none"});const t=document.querySelector('[data-section="members"]');return t&&ScrollTrigger.create({trigger:t,start:"top center",onEnter:()=>{o?gsap.to(d,{y:0,opacity:1,pointerEvents:"auto",duration:.6,ease:"power2.out"}):gsap.to(d,{x:0,opacity:1,pointerEvents:"auto",duration:.6,ease:"power2.out"})},onLeaveBack:()=>{o?gsap.to(d,{y:100,opacity:0,pointerEvents:"none",duration:.4,ease:"power2.in"}):gsap.to(d,{x:100,opacity:0,pointerEvents:"none",duration:.4,ease:"power2.in"})}}),()=>{gsap.set(d,{clearProps:"x,y,opacity,pointerEvents"})}});const c=document.querySelectorAll(".dots-nav [data-anchor-target]");c.forEach(e=>{e.addEventListener("click",function(s){s.preventDefault(),s.stopPropagation(),s.stopImmediatePropagation();const h=this.getAttribute("data-anchor-target");return window.lenis&&window.lenis.scrollTo(h,{easing:i=>i<.5?8*i*i*i*i:1-Math.pow(-2*i+2,4)/2,duration:1.2,offset:0}),!1},!0);const o=e.getAttribute("data-anchor-target"),t=e.getAttribute("data-label"),a=o.startsWith("#")?o.slice(1):o,u=t||a.charAt(0).toUpperCase()+a.slice(1).replace(/-/g," "),l=document.createElement("span");l.className="dot-tooltip",l.textContent=u,e.style.position="relative",e.appendChild(l)});const p=Array.from(c).map(e=>{const o=e.getAttribute("data-anchor-target"),t=o.startsWith("#")?o.slice(1):o;return document.getElementById(t)}).filter(Boolean);if(p.length===0)return;const r=new IntersectionObserver(e=>{e.forEach(o=>{if(o.isIntersecting){const t=o.target.id;c.forEach(a=>{const u=a.getAttribute("data-anchor-target"),l=u.startsWith("#")?u.slice(1):u;a.classList.toggle("is-active",l===t)})}})},{threshold:[0,.25,.5,.75,1],rootMargin:"-20% 0px -50% 0px"});p.forEach(e=>r.observe(e)),window.addEventListener("scroll",()=>{const e=window.scrollY||document.documentElement.scrollTop,o=document.documentElement.scrollHeight,t=document.documentElement.clientHeight;if(e+t>=o-10){const a=p[p.length-1];if(a){const u=a.id;c.forEach(l=>{const s=l.getAttribute("data-anchor-target"),h=s.startsWith("#")?s.slice(1):s;l.classList.toggle("is-active",h===u)})}}})}gsap.registerPlugin(ScrollTrigger,SplitText),window.lenis=st();const Ht=()=>{K(),ct(),lt(),dt(),ut(),pt(),gt(),ht(),mt(),Pt(),ft(),yt(),wt(),bt(),vt(),At(),St(),xt(),Tt(),kt(),Ct(),_t(),It(),Bt(),Rt(),Wt()};document.addEventListener("DOMContentLoaded",async()=>{await document.fonts.ready,Ht()}),window.addEventListener("load",()=>{requestAnimationFrame(()=>{window.lenis.resize(),ScrollTrigger.refresh()})});let Q;window.addEventListener("resize",()=>{clearTimeout(Q),Q=setTimeout(()=>{ScrollTrigger.refresh()},100)})})();
